if (self.CavalryLogger) { CavalryLogger.start_js(["U+uwI"]); }

__d("XCometVideoHomePlaylistControllerRouteBuilder",["cometRouteBuilder"],(function(a,b,c,d,e,f){a=b("cometRouteBuilder")("/watch/{?idorvanity}/",Object.freeze({}),void 0);e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelay_init.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelay_init",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"VideoPlayerShakaPerformanceLoggerInit",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelay_video",selections:[{alias:null,args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{documentName:"useVideoPlayerShakaPerformanceLoggerRelay_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerRelay_init",fragmentPropName:"init",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useOnBeforeUnload",["requireCond","cr:1073372"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1073372")}),null);
__d("useOnBeforeUnloadBlue",["React","Run"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=function(){var b=a();return b==null?void 0:b.warnMessage};g.useEffect(function(){return b("Run").onBeforeUnload(c,!0).remove})}}),null);
__d("CometGranularTimestamp.react",["fbt","CometTimestamp.react","React","formatDate","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=1e3*60*60,j=i*24;function k(a,b){return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate()}function a(a){var c=a.date;a=a.granularity;a=a===void 0?"none":a;var d=b("useServerTime")();if(a==="none"||a==="min")return h.jsx(b("CometTimestamp.react"),{date:c});if(a==="hour"){var e=c.valueOf()%i;e=new Date(c.valueOf()-e);return h.jsx(b("CometTimestamp.react"),{date:e})}if(a==="year")return b("formatDate")(c,"Y");if(a==="month")return d.getFullYear()===c.getFullYear()?b("formatDate")(c,"F"):b("formatDate")(c,"F Y");if(k(c,d))return g._("Today");e=new Date(d.valueOf()-j);if(k(c,e))return g._("Yesterday");a=new Date(d.valueOf()+j);if(k(c,a))return g._("Tomorrow");return d.getFullYear()!==c.getFullYear()?b("formatDate")(c,"F j, Y"):b("formatDate")(c,"F j")}}),null);
__d("useCometSize_DO_NOT_USE",["CometThrottle","ExecutionEnvironment","HiddenSubtreePassiveContext","React","unrecoverableViolation","useLayoutEffect_SAFE_FOR_SSR","useResizeObserver","useStable"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function h(a){var c=a.setBoxStateStable,d=null,e=function(a){var b;if(((b=d)==null?void 0:b.height)===a.height&&((b=d)==null?void 0:b.width)===a.width)return;d=a;c(a)};a=function(a){a=a.getBoundingClientRect();var b=a.height;a=a.width;e({height:b,width:a})};var f=b("CometThrottle")(function(a){var b=a.height;a=a.width;if(b===0&&a===0)return;e({height:b,width:a})},200,{leading:!0,trailing:!0});return{measure:a,onResizeThrottled:f}}function a(){if(!b("ExecutionEnvironment").canUseDOM)throw b("unrecoverableViolation")("useCometSize is not compatible with Server Rendering. This will break SSR! See https://fburl.com/wiki/xrzohrqb","comet_ssr");var a=g.useRef(null),c=g.useState(null),d=c[0],e=c[1],f=g.useContext(b("HiddenSubtreePassiveContext")),i=b("useStable")(function(){return h({setBoxStateStable:e})}),j=b("useResizeObserver")(i.onResizeThrottled),k=g.useRef(j);b("useLayoutEffect_SAFE_FOR_SSR")(function(){k.current=j},[j]);c=g.useRef(function(b){b!==a.current&&(a.current=b,b!=null&&i.measure(b)),k.current(a.current)});g.useEffect(function(){if(!f.getCurrentState().hidden)return;var b=f.subscribeToChanges(function(c){!c.hidden&&a.current!=null&&(i.measure(a.current),b.remove())});return function(){return b.remove()}},[f,i]);g.useEffect(function(){return function(){i.onResizeThrottled.cancel()}},[i]);return[c.current,d]}}),null);
__d("createEmptyCometComposerViewState",["uuid"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return a!=null?a:{audience:{},creationSessionID:b("uuid")(),editorState:{__type:"plain-text",hasFocus:!1,isComposing:!1,isPendingSelection:!1,selectionOffsets:null,text:""}}}}),null);
__d("CometFeedUnitQueryVariablesContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(null);e.exports=c}),null);
__d("useFeedClickEventHandler",["React","useStoryClickEventLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,c){var d=b("useStoryClickEventLogger")();return g.useCallback(function(b){a&&a(b);var e=b.type;if(e==="click"||e==="contextmenu"||e==="mousedown"&&typeof b.button==="number"&&(b.button===1||b.button===2)||e==="keydown"&&(b.key==="Enter"||b.key===" ")){e=typeof b.button==="number"?b.button:0;d(b.timeStamp,e,c)}},[a,d,c])}}),null);
__d("CometIsInNotificationsContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(!1);e.exports=c}),null);
__d("DOMRectIsEqual",["DOMRectReadOnly"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){if(!a&&!b)return!0;else if(!a||!b)return!1;return a.x===b.x&&a.y===b.y&&a.width===b.width&&a.height===b.height}}),null);
__d("computeAspectRatio",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){a=a!=null&&b!=null&&a!==0&&b!==0?a/b:null;return a}}),null);
__d("VideoPlayerContexts",["React","computeAspectRatio"],(function(a,b,c,d,e,f){"use strict";f.VideoOriginalDimensionsContextMemoProvider=a;var g=b("React");c=g.createContext(null);f.VideoFBIDContext=c;d=g.createContext(!1);f.IsAbrEnabledContext=d;e=g.createContext("");f.TargetAudioQualityContext=e;a=g.createContext("");f.TargetVideoQualityContext=a;c=g.createContext(null);f.AdClientTokenContext=c;d=g.createContext(0);f.LoopCountContext=d;e=g.createContext(0);f.LoopCurrentContext=e;a=g.createContext(!1);f.PlayingContext=a;c=g.createContext(!1);f.StallingContext=c;d=g.createContext(!0);f.PausedContext=d;e=g.createContext(!1);f.EndedContext=e;a=g.createContext(!1);f.InPlayStallingContext=a;c=g.createContext(null);f.ErrorContext=c;d=g.createContext(!1);f.IsLiveContext=d;e=g.createContext(!1);f.SeekingContext=e;a=g.createContext(null);f.ControllerContext=a;c=g.createContext(null);f.LastMuteReasonContext=c;d=g.createContext(null);f.LastPlayReasonContext=d;e=g.createContext(null);f.LastPauseReasonContext=e;a=g.createContext([]);f.AvailableVideoQualitiesContext=a;c=g.createContext("notselected");f.SelectedVideoQualityContext=c;d=g.createContext("");f.CurrentVideoQualityContext=d;e=g.createContext(null);f.ActiveCaptionsContext=e;a=g.createContext(!1);f.CaptionsVisibleContext=a;c=g.createContext(!1);f.CaptionsLoadedContext=c;d=g.createContext(1);f.VolumeContext=d;e=g.createContext(!1);f.MutedContext=e;a=g.createContext(0);f.DurationContext=a;c=g.createContext(0);f.BufferEndContext=c;d=g.createContext(null);f.InstanceKeyContext=d;var h=g.createContext({originalAspectRatio:null,originalHeight:null,originalWidth:null});f.VideoOriginalDimensionsContext=h;function a(a){var c=a.children,d=a.originalHeight,e=a.originalWidth;a=g.useMemo(function(){var a;return{originalAspectRatio:b("computeAspectRatio")(e,d),originalHeight:(a=d)!=null?a:null,originalWidth:(a=e)!=null?a:null}},[d,e]);return g.jsx(h.Provider,{value:a,children:c})}e=g.createContext(null);f.DimensionsContext=e;a=g.createContext(null);f.PlayerImplementationNameContext=a;c=g.createContext(!1);f.VideoPlayerMouseHoverContext=c;d=g.createContext(!1);f.VideoPlayerMouseIdleContext=d;e=g.createContext(null);f.BroadcastStatusContext=e;a=g.createContext("deny");f.CanAutoplayContext=a;c=g.createContext("unknown");f.AutoplayGatingResultContext=c;d=g.createContext(!1);f.InbandCaptionsAutogeneratedContext=d;e=g.createContext({release:function(a){},reserve:function(a){return a}});f.VideoPlayerCaptionsReservationActionsContext=e;a=g.createContext([]);f.VideoPlayerCaptionsReservationsContext=a;c=g.createContext(!1);f.StreamInterruptedContext=c;d=g.createContext(null);f.SeekableRangesContext=d;e=g.createContext(!1);f.IsLiveRewindActiveContext=e}),null);
__d("VideoPlayerViewabilityContexts",["DOMRectReadOnly","React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(null);f.VideoPlayerPassiveViewabilityInfoContext=c;d=a.createContext(!1);f.VideoPlayerFullscreenContext=d}),null);
__d("VideoPlayerHooks",["DOMRectIsEqual","React","VideoPlayerContexts","VideoPlayerViewabilityContexts","clearTimeout","removeFromArray","setTimeout","unrecoverableViolation","useLayoutEffect_SAFE_FOR_SSR","useStable"],(function(a,b,c,d,e,f){"use strict";f.useLatestValueRef=a;f.useController=h;f.useInstanceKey=c;f.useIsLive=d;f.useBufferEnd=e;f.useDuration=i;f.useSeeking=j;f.useEnded=k;f.useError=l;f.usePlaying=m;f.useCurrentTime=n;f.useCurrentTimeThrottled=o;f.useIsFrozenPassive=p;f.usePaused=q;f.useStalling=r;f.useInPlayStalling=s;f.useLastMuteReason=t;f.useLastPauseReason=u;f.useLastPlayReason=v;f.useAvailableVideoQualities=w;f.useCaptionsVisible=x;f.useActiveCaptions=y;f.useCurrentVideoQuality=z;f.useSelectedVideoQuality=A;f.useMuted=B;f.useVolume=C;f.useIsFullscreen=D;f.useDimensions=E;f.useVideoOriginalDimensions=F;f.usePlayerImplementationName=G;f.useCaptionsLoaded=H;f.useIsAbrEnabled=I;f.useTargetVideoQuality=J;f.useTargetAudioQuality=K;f.useIsHovering=L;f.useIsMouseIdle=M;f.useVideoPlayerPassiveViewabilityInfo=N;f.useVideoPlayerViewabilityInfo=O;f.useBroadcastStatus=P;f.useCanAutoplay=Q;f.useAutoplayGatingResult=R;f.useVideoFbid=S;f.useAdClientToken=T;f.useVideoPlayerCurrentLoop=U;f.useVideoPlayerTotalLoops=V;f.useInbandCaptionsAutogenerated=W;f.useVideoPlayerCaptionsReservations=X;f.useVideoPlayerCaptionsReservationActions=Y;f.useStreamInterrupted=Z;f.useSeekableRanges=aa;f.useIsLiveRewindActive=ba;f.useIsTransitioningToNextLoop=$;f.useVideoPlaybackEnded=ca;var g=b("React");function a(a){var c=g.useRef(a);b("useLayoutEffect_SAFE_FOR_SSR")(function(){c.current=a},[a]);return c}function h(){var a=g.useContext(b("VideoPlayerContexts").ControllerContext);if(a==null)throw b("unrecoverableViolation")("Empty ControllerContext. Are you rendering useController outside of VideoPlayerRelay/VideoPlayerX?","comet_video_player");return a}function c(){var a=g.useContext(b("VideoPlayerContexts").InstanceKeyContext);if(a==null)throw b("unrecoverableViolation")("Empty InstanceKeyContext. Are you rendering useInstanceKey outside of VideoPlayerRelay/VideoPlayerX?","comet_video_player");return a}function d(){var a=P();return a==="LIVE"}function e(){return g.useContext(b("VideoPlayerContexts").BufferEndContext)}function i(){return g.useContext(b("VideoPlayerContexts").DurationContext)}function j(){return g.useContext(b("VideoPlayerContexts").SeekingContext)}function k(){return g.useContext(b("VideoPlayerContexts").EndedContext)}function l(){return g.useContext(b("VideoPlayerContexts").ErrorContext)}function m(){return g.useContext(b("VideoPlayerContexts").PlayingContext)}function n(){var a=g.useState(0),b=a[0],c=a[1],d=h();g.useEffect(function(){var a=d.subscribe(function(){c(d.getPlayheadPosition())});c(d.getPlayheadPosition());return function(){return a.remove()}},[d]);return b}function o(a){var c=g.useState(0),d=c[0],e=c[1],f=h(),i=g.useRef(null),j=g.useRef(d);g.useEffect(function(){var c=f.subscribe(function(){j.current=f.getPlayheadPosition();if(i.current!=null)return;i.current=b("setTimeout")(function(){e(j.current),i.current=null},a)});e(f.getPlayheadPosition());return c.remove},[f,a]);g.useEffect(function(){return function(){i.current!==null&&b("clearTimeout")(i.current)}},[]);return d}function p(){var a=h(),c=g.useRef([]),d=g.useRef(a.isFrozen()),e=b("useStable")(function(){return{getCurrentState:function(){return a.isFrozen()},subscribeToChanges:function(a){var d=c.current;d.push(a);return{remove:function(){return b("removeFromArray")(d,a)}}}}});g.useEffect(function(){var b=a.subscribe(function(){var b=d.current,e=a.isFrozen();d.current=e;if(e!==b){b=c.current;b.forEach(function(a){return a(e)})}});return function(){b.remove()}},[a]);return e}function q(){return g.useContext(b("VideoPlayerContexts").PausedContext)}function r(){return g.useContext(b("VideoPlayerContexts").StallingContext)}function s(){return g.useContext(b("VideoPlayerContexts").InPlayStallingContext)}function t(){return g.useContext(b("VideoPlayerContexts").LastMuteReasonContext)}function u(){return g.useContext(b("VideoPlayerContexts").LastPauseReasonContext)}function v(){return g.useContext(b("VideoPlayerContexts").LastPlayReasonContext)}function w(){return g.useContext(b("VideoPlayerContexts").AvailableVideoQualitiesContext)}function x(){return g.useContext(b("VideoPlayerContexts").CaptionsVisibleContext)}function y(){return g.useContext(b("VideoPlayerContexts").ActiveCaptionsContext)}function z(){return g.useContext(b("VideoPlayerContexts").CurrentVideoQualityContext)}function A(){return g.useContext(b("VideoPlayerContexts").SelectedVideoQualityContext)}function B(){return g.useContext(b("VideoPlayerContexts").MutedContext)}function C(){return g.useContext(b("VideoPlayerContexts").VolumeContext)}function D(){return g.useContext(b("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext)}function E(){return g.useContext(b("VideoPlayerContexts").DimensionsContext)}function F(){return g.useContext(b("VideoPlayerContexts").VideoOriginalDimensionsContext)}function G(){return g.useContext(b("VideoPlayerContexts").PlayerImplementationNameContext)}function H(){return g.useContext(b("VideoPlayerContexts").CaptionsLoadedContext)}function I(){return g.useContext(b("VideoPlayerContexts").IsAbrEnabledContext)}function J(){return g.useContext(b("VideoPlayerContexts").TargetVideoQualityContext)}function K(){return g.useContext(b("VideoPlayerContexts").TargetAudioQualityContext)}function L(){return g.useContext(b("VideoPlayerContexts").VideoPlayerMouseHoverContext)}function M(){return g.useContext(b("VideoPlayerContexts").VideoPlayerMouseIdleContext)}function N(){return g.useContext(b("VideoPlayerViewabilityContexts").VideoPlayerPassiveViewabilityInfoContext)}function O(){var a=N(),c=g.useState(null),d=c[0],e=c[1],f=g.useRef(d);g.useEffect(function(){f.current=d},[d]);b("useLayoutEffect_SAFE_FOR_SSR")(function(){if(a){var c=a.subscribe(function(){var c=a.getCurrent();if(c){var d=c.positionToViewport;c=c.visiblePercentage;var g=f.current;(g==null||c!==g.visiblePercentage||!b("DOMRectIsEqual")(d,g.positionToViewport))&&e({positionToViewport:d,visiblePercentage:c})}});return function(){return c.remove()}}},[e,a]);return d}function P(){return g.useContext(b("VideoPlayerContexts").BroadcastStatusContext)}function Q(){return g.useContext(b("VideoPlayerContexts").CanAutoplayContext)}function R(){return g.useContext(b("VideoPlayerContexts").AutoplayGatingResultContext)}function S(){return g.useContext(b("VideoPlayerContexts").VideoFBIDContext)}function T(){return g.useContext(b("VideoPlayerContexts").AdClientTokenContext)}function U(){return g.useContext(b("VideoPlayerContexts").LoopCurrentContext)}function V(){return g.useContext(b("VideoPlayerContexts").LoopCountContext)}function W(){return g.useContext(b("VideoPlayerContexts").InbandCaptionsAutogeneratedContext)}function X(){return g.useContext(b("VideoPlayerContexts").VideoPlayerCaptionsReservationsContext)}function Y(){return g.useContext(b("VideoPlayerContexts").VideoPlayerCaptionsReservationActionsContext)}function Z(){return g.useContext(b("VideoPlayerContexts").StreamInterruptedContext)}function aa(){return g.useContext(b("VideoPlayerContexts").SeekableRangesContext)}function ba(){return g.useContext(b("VideoPlayerContexts").IsLiveRewindActiveContext)}function $(){var a=k(),b=U(),c=V();a=a&&c>0&&b<c;return a}function ca(){var a=k(),b=$();return a&&!b}}),null);
__d("VideoPlayerCaptions.react",["React","VideoPlayerHooks","recoverableViolation","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i={captionsCenterAlign:{justifyContent:"taijpn5t",textAlign:"oqcyycmt"},captionsContainer:{bottom:"lhzng9rx",display:"j83agx80",justifyContent:"taijpn5t",position:"pmk7jnqg",textAlign:"oqcyycmt",transitionDuration:"pc15xi3s",transitionProperty:"flx89l3n",transitionTimingFunction:"eloblzlw",width:"k4urcfbm"},captionsDefault:{backgroundColor:"d6rk862h",color:"ljqsnud1",fontSize:"a5q79mjw",fontWeight:"ekzkrbhg",lineHeight:"j8p27hm0",marginTop:"kvgmc6g5",marginEnd:"nw5zvenu",marginBottom:"oygrvhab",marginStart:"pbhxczp3",paddingTop:"debrwdc1",paddingEnd:"m4n6deaq",paddingBottom:"pwvavz3a",paddingStart:"n1w2zk5c"},captionsLeftAlign:{justifyContent:"jifvfom9",textAlign:"hzawbc8m"},captionsRightAlign:{justifyContent:"bkfpd7mw",textAlign:"ftzlm3b6"}};function j(a){switch(a){case"center":return i.captionsCenterAlign;case"left":return i.captionsLeftAlign;case"right":return i.captionsRightAlign;default:b("recoverableViolation")("Unsupported captions text alignment: "+a,"comet_video_player")}}var k=h.memo(function(a){var c=a.activeCaptions;a=a.bottomAdjustment;a=a===void 0?0:a;var d=c==null?void 0:c.rows;if(d!=null&&d.length>0){d=d.map(function(a){return a.trim()}).filter(function(a){return!!a});return d.length>0?h.jsx("div",{className:(g||(g=b("stylex")))(i.captionsContainer,j((c=c==null?void 0:(c=c.styles)==null?void 0:c.textAlignment)!=null?c:"center")),style:{transform:"translateY("+-a+"px)"},children:h.jsx("div",{className:(g||(g=b("stylex")))(i.captionsDefault),children:d.map(function(a,b){return h.jsxs("span",{children:[a,h.jsx("br",{})]},b)})})}):null}return null});function a(){var a=b("VideoPlayerHooks").useActiveCaptions(),c=b("VideoPlayerHooks").useVideoPlayerCaptionsReservations(),d=0;c.length>0&&(d=c.filter(function(a){return a.location==="bottom"}).reduce(function(a,b){return a+b.height},0));return h.jsx(k,{activeCaptions:a,bottomAdjustment:d})}}),null);
__d("VideoPlayerCaptionsArea.react",["React","VideoPlayerCaptions.react","VideoPlayerContexts","VideoPlayerHooks"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function h(a,b){switch(b.type){case"reserve":return a.concat(b.reservation);case"release":return a.filter(function(a){return a!==b.reservation});default:return a}}function a(a){a=a.children;var c=g.useReducer(h,[]),d=c[0],e=c[1];c=g.useState({release:function(a){e({reservation:a,type:"release"})},reserve:function(a){e({reservation:a,type:"reserve"});return a}});c=c[0];var f=b("VideoPlayerHooks").useCaptionsVisible();return g.jsx(b("VideoPlayerContexts").VideoPlayerCaptionsReservationActionsContext.Provider,{value:c,children:g.jsxs(b("VideoPlayerContexts").VideoPlayerCaptionsReservationsContext.Provider,{value:d,children:[f?g.jsx(b("VideoPlayerCaptions.react"),{}):null,a]})})}}),null);
__d("VideoPlayerFallbackCoverImplWithoutRetry.react",["React","TetraText.react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.message;a.onRetry;return g.jsx("div",{className:"stjgntxs ni8dbmo4 taijpn5t j83agx80 ora8z2hr bp9cbjyn kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb",children:g.jsx("div",{className:"ij9ysmuz cbu4d94t j83agx80 bp9cbjyn",children:g.jsx(b("TetraText.react"),{align:"center",color:"white",type:"bodyLink3",children:c})})})}}),null);
__d("SphericalMediaGyroOverlay.react",["cx","CSS","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=800,j=function(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=!1);return{gyroRoot:"_1zvy"+(a?" _2dz7":"")+(b?" _4z8s":"")+(c?" _4z8p":""),gyroOuter:"_4z8q",gyroInner:"_4z8r",gyroMeridian:"_4z8t",gyroEquator:"_4z8u",gyroTextShell:"_4z8v",gyroText:"_4z8w"}};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.rootRef=h.createRef(),b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(a){var c=this;if(a.isActive&&!this.props.isActive)setTimeout(function(){var a=c.rootRef.current;a instanceof Element&&b("CSS").hide(a)},i);else if(!this.props.isActive){a=this.rootRef.current;a instanceof Element&&b("CSS").hide(a)}};d.componentDidMount=function(){if(!this.props.isActive){var a=this.rootRef.current;a instanceof Element&&b("CSS").hide(a)}};d.render=function(){var a=this.props,c=a.className,d=a.isActive,e=a.isInfinite;a=a.isPaused;d=j(d,e,a);return h.jsx("div",{className:b("joinClasses")(c,d.gyroRoot),ref:this.rootRef,children:h.jsxs("div",{className:d.gyroOuter,children:[h.jsxs("div",{className:d.gyroInner,children:[h.jsx("div",{className:d.gyroMeridian}),h.jsx("div",{className:d.gyroEquator})]}),h.jsx("div",{className:d.gyroTextShell,children:h.jsx("span",{className:d.gyroText,children:"360"})})]})})};return c}(h.PureComponent);e.exports=a}),null);
__d("VideoPlayerSphericalFallbackCover.react",["fbt","React","SphericalMediaGyroOverlay.react","TetraText.react","stylex","unrecoverableViolation","useCometRouterDispatcher","useFeedClickEventHandler"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.videoTahoeUrl,d=b("useCometRouterDispatcher")();a=h.useState(!1);var e=a[0],f=a[1];if(d==null)throw b("unrecoverableViolation")("Missing CometRouterDispatcher","comet_video_player");a=b("useFeedClickEventHandler")(function(){d.go(c,{})});return h.jsxs("div",{className:"bkfpd7mw cbu4d94t j83agx80 nhd2j8a9 bp9cbjyn kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb",onClick:a,onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},role:"link",tabIndex:0,children:[h.jsx(b("SphericalMediaGyroOverlay.react"),{isActive:!0}),h.jsx("div",{className:"l9j0dhe7 i7orit0i",children:e?h.jsx(b("TetraText.react"),{color:"white",type:"bodyLink3",children:g._("Click to expand")}):null})]})}}),null);
__d("VideoPlayerSpinner.react",["CometLoadingAnimation.react","React","stylex","useDebouncedValue"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=36;function a(a){a=a.isVisible;var c=b("useDebouncedValue")(a,a?200:500);return h.jsx("div",{className:(g||(g=b("stylex"))).dedupe({"height-1":"tv7at329","opacity-1":"pedkr2u6","position-1":"pmk7jnqg","start-1":"kfkz5moi","top-1":"rk01pc8j","transform-0.1":"py2didcb","transition-delay-1":"chkx7lpg","transition-duration-1":"kmdw4o4n","transition-property-1":"art1omkt","transition-timing-function-1":"e4zzj2sf","width-1":"thwo4zme"},a?null:{"opacity-1":"b5wmifdl","transition-delay-1":"hwaazqwg","transition-duration-1":"kmdw4o4n","transition-property-1":"l23jz15m","transition-timing-function-1":"e4zzj2sf","visibility-1":"kr9hpln1"}),children:h.jsx(b("CometLoadingAnimation.react"),{animationPaused:!c,size:i})})}}),null);
__d("VideoPlayerControlIcon.react",["BaseFocusRing.react","CometPressable.react","CometTooltip.react","React","TetraIcon.react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h={"default":{backgroundColor:"g5ia77u1",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",cursor:"nhd2j8a9",display:"q9uorilb",height:"jnigpg78",marginTop:"qjjbsfad",marginEnd:"fv0vnmcu",marginBottom:"w0hvl6rk",marginStart:"ggphbty4",opacity:"byekypgc",outline:"lzcic4wl",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso",":hover":{opacity:"i2p6rm4e"}},disabled:{opacity:"qwwmc0zo",":hover":{opacity:"licgtase"}}};function a(a){var c=a.color,d=c===void 0?"white":c,e=a.disabled,f=a.icon,i=a.label;c=a.tooltip;c=c===void 0?null:c;var j=babelHelpers.objectWithoutPropertiesLoose(a,["color","disabled","icon","label","tooltip"]);return g.jsx(b("CometTooltip.react"),{align:"start",position:"above",tooltip:c,children:g.jsx(b("BaseFocusRing.react"),{children:function(a){return g.jsx(b("CometPressable.react"),babelHelpers["extends"]({},j,{disabled:e,display:"inline",label:i,overlayDisabled:!0,xstyle:[h["default"],e===!0&&h.disabled,a],children:g.jsx(b("TetraIcon.react"),{color:d,icon:f})}))}})})}}),null);
__d("VideoPlayerOzImplementationEnginePartsImplUtils",["OzWidevineDrmProvider","gkx","oz-player/strategies/OzBufferingDetector"],(function(a,b,c,d,e,f){"use strict";f.checkShouldIncludeCredentials=a;f.createOzBufferingDetector=c;f.createOzDrmProviders=d;f.createOzPerfLoggerProviders=e;f.calculateInitialPlaybackPositionForDynamicMpd=h;f.calculateLiveheadFallBehindBlockThreshold=i;f.calculateLiveheadFallBehindBlockMargin=j;var g=/(livestream-)?lookaside\.(facebook|workplace)\.com$/;function a(a){return g.test(a.getDomain())}function c(a,c,d,e,f){if(f.current!=null)return;var g=!0,h=function(){if(g)return!1;var a=f.current!==i;return a&&b("gkx")("1508440")?!0:!1},i=new(b("oz-player/strategies/OzBufferingDetector"))(a,d,function(){var a=e.getCurrentState();a=a.controlledState;return a.streamEnded?c.getDuration():Infinity});f.current=i;g=!1;a=function(){if(h())return;if(b("gkx")("1235655"))return;e.dispatch({type:"buffering_begin_requested"})};d=function(){if(h())return;e.dispatch({type:"buffering_end_requested"})};i.addListener("enter_buffering",a);i.addListener("leave_buffering",d)}function d(a){var c=a.graphQLVideoDRMInfo;a=a.videoFBID;var d=[];c&&a!=null&&d.push(new(b("OzWidevineDrmProvider"))(a,c.graphApiVideoLicenseUri,c.videoLicenseUriMap,null,null));return d}function e(a){var b=a.VideoPlayerShakaPerformanceLoggerClass,c=a.getBandwidthEstimate,d=a.playbackIsLiveStreaming,e=a.playerInstanceCount,f=a.playerInstanceKey,g=a.playerSuborigin,h=a.playerVersion,i=a.videoElement;a=a.videoFBID;if(!b||!b.shouldInitialize())return[];d={accessToken:null,getBandwidthEstimate:c,isLive:d,isServableViaFbms:!1,playerInstanceCount:e,playerOrigin:null,playerSuborigin:g,playerVersion:h,representationId:null,uniqueID:f,video:i,videoID:(c=a)!=null?c:""};return[new b(d)]}function h(a,b){return b>0?b/1e3*-1:a.getNumber("live_initial_playback_position",0)}function i(a,b,c){return b>0&&c>0?(b+c)/1e3:a.getNumber("livehead_fall_behind_block_threshold",0)}function j(a,b){return b>0?b/2/1e3:a.getNumber("live_time_range_block_margin",0)}}),null);
__d("VideoPlayerOzImplementationEnginePartsImplFunction",["CometThrottle","OzCustomParsers","OzCustomRepresentationParsers","OzDashPrefetchCache","OzVideoLiveTraceNetworkRequestStreamHandler","TimeRanges","VideoPlayerConnectionQuality","VideoPlayerOzImplementationEnginePartsImplUtils","getOzPlaybackRestrictions","gkx","oz-player/networks/OzBandwidthEstimator","oz-player/parsers/OzPredictedSegmentTimelineParser"],(function(a,b,c,d,e,f){"use strict";f.proceedWithOzPlayerCreation=a;function a(a){var c=a.OzPlayerClass,d=a.callChain,e=a.destroyOzPlayerPartsRef,f=a.engineDebugAPI,g=a.engineExtrasAPI,h=a.getCaptionsInfo,i=a.getOzQuickStarter,j=a.getVideoLiveTrace,k=a.handleCaptionsInfoChange,l=a.handleFatalImplementationError,m=a.initialProps,n=a.machine,o=a.ozBufferingDetectorRef,p=a.ozPlayerRef,q=a.playerVersion,r=a.resolvedVideoInfo,s=a.videoElement;a=a.videoElementAPI;var t={current:null};e.current=function(a){var c=o.current;c&&(o.current=null,c.destroy());c=p.current;c&&(f&&f.handleOzPlayerChanged(null),p.current=null,c.destroy(b("gkx")("1435909")?[].concat(a,["destroyOzPlayerParts"]).join(":"):null));c=t.current;c&&(t.current=null,c())};e=r.VideoPlayerShakaPerformanceLoggerClass;var u=r.experimentationConfig,v=r.graphQLVideoDRMInfo,w=r.manifestUrl,x=r.manifestXmlStringResolved,y=r.minQualityPreference;r=r.videoFBID;i=i();var z=Boolean(m.loggingMetaData.coreVideoPlayerMetaData.isLiveStreaming),A=function(a){return g.getEstimatedBandwidth()},B=function(){u.setContext("connection_quality",b("VideoPlayerConnectionQuality").evaluate(function(){return A(z)}))},C=function(){var a=u.getNumber("connection_quality_context_throttle_frequency",0);if(a===0)return null;var c=b("CometThrottle")(B,a),d=b("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",c);return function(){d.remove(),c.cancel()}};t.current=C();C=m.loggingMetaData.dimensions;v=b("VideoPlayerOzImplementationEnginePartsImplUtils").createOzDrmProviders({graphQLVideoDRMInfo:v,videoFBID:r});q=b("VideoPlayerOzImplementationEnginePartsImplUtils").createOzPerfLoggerProviders({VideoPlayerShakaPerformanceLoggerClass:e,getBandwidthEstimate:A,playbackIsLiveStreaming:z,playerInstanceCount:m.loggingMetaData.playerImplementationInstanceCountRef.current,playerInstanceKey:m.loggingMetaData.instanceKey,playerSuborigin:m.loggingMetaData.coreVideoPlayerMetaData.subOrigin,playerVersion:q,videoElement:s,videoFBID:r});C={config:u,customParsers:b("OzCustomParsers").createOzCustomParser(),customRepresentationParsers:b("OzCustomRepresentationParsers").createOzCustomRepresentationParsers({ozConfig:u}),customSegmentTimelineParser:u.getBool("enable_predictive_dash",!1)?new(b("oz-player/parsers/OzPredictedSegmentTimelineParser"))():void 0,debugCreateInitiator:b("gkx")("1435909")?[].concat(d,["proceedWithOzPlayerCreation"]).join(":"):null,dimensions:{height:C.height,width:C.width},drmProviders:v,getShouldIncludeCredentials:u.getBool("use_oz_credentials_provider",!1)?b("VideoPlayerOzImplementationEnginePartsImplUtils").checkShouldIncludeCredentials:null,initialPlaybackPositionForDynamicMpd:b("VideoPlayerOzImplementationEnginePartsImplUtils").calculateInitialPlaybackPositionForDynamicMpd(u,(r=m.initialDesiredLatencyMs)!=null?r:0),initialRepresentationIDs:(d=m.initialRepresentationIds)!=null?d:[],liveheadFallBehindBlockMargin:b("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockMargin(u,(C=m.initialDesiredLatencyMs)!=null?C:0),liveheadFallBehindBlockThreshold:b("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockThreshold(u,(v=m.initialDesiredLatencyMs)!=null?v:0,(r=m.initialLatencyToleranceMs)!=null?r:0),loggerConfig:{isOzDevConsoleEnabled:b("gkx")("722076"),observedOperationLoggers:i&&e&&e.shouldInitialize()?i.getObservedOperationLoggers():[],perfLoggerProviders:q},mpdUrl:w,networkRequestStreamHandlers:[new(b("OzVideoLiveTraceNetworkRequestStreamHandler"))(function(a,b){var c=j();c!=null&&c.handleHeaders(a,b)})],prefetchCache:u.getBool("use_prefetch_cache",!1)?new(b("OzDashPrefetchCache"))():null,rawMpdXml:x,seekHandler:b("gkx")("1482680")?function(a){var b=s.currentTime;n.dispatch({payload:{seekSourcePosition:b},type:"implementation_seek_requested"});s.currentTime=a}:null,startTimeStamp:u.getBool("fix_start_timestamp",!1)?m.startTimestamp:0,videoNodeOrQuickStarter:(d=i)!=null?d:s,videoPlaybackRestrictions:b("getOzPlaybackRestrictions")(y,{keepLowestMosAboveUpperThresold:u.getBool("keep_lowest_mos_above_upper_thresold",!1),mosLowerThreshold:u.getNumber("mos_lower_threshold",0),mosUpperThreshold:u.getNumber("mos_upper_threshold",0)})};var D=new c(C);p.current=D;v=m.loggingMetaData.playerImplementationInstanceCountRef;v.current++;D.onError(function(a){l(a,"oz_player_error")});D.setupPlayer();D.addListener("switchVideoRepresentation",function(){n.dispatch({payload:{targetVideoQuality:g.getCurrentTargetVideoQuality()},type:"representation_changed"})});D.addListener("streamInterruptAt",function(){n.dispatch({type:"stream_interrupted"})});D.addListener("streamResumedAt",function(){n.dispatch({type:"stream_resumed"})});D.addListener("streamEnd",function(){n.dispatch({type:"stream_ended"})});i==null&&u.getBool("use_internal_buffering_detector",!1)?(D.addListener("enter_buffering",function(){if(b("gkx")("1235655"))return;n.dispatch({type:"buffering_begin_requested"})}),D.addListener("leave_buffering",function(){n.dispatch({type:"buffering_end_requested"})})):b("VideoPlayerOzImplementationEnginePartsImplUtils").createOzBufferingDetector(s,a,u,n,o);f&&f.handleOzPlayerChanged(D);var E=function(){var a=h();a={inbandCaptionsAutogeneratedFromManifest:g.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:g.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps};var b=n.getCurrentState();b=b.controlledState;(a.inbandCaptionsExpectedFromManifest!==b.captionsLoaded||a.inbandCaptionsAutogeneratedFromManifest!==b.inbandCaptionsAutogenerated)&&k(a)};r=function(a,b){a=a.getCustomField("timescale")||0;n.dispatch({payload:{timescale:a,videoBytes:b},type:"cea608_bytes_received"})};var F=function(){var a=g.getVideoRepresentations();if(a!=null&&a.length>0){a=a[0].getTimeRanges();if(a!=null&&a.length>0){var c=a[0].startTime;a=Math.max(a[a.length-1].endTime-u.getNumber("live_rewind_seek_to_live_delta",8),c);n.dispatch({payload:{seekableRanges:new(b("TimeRanges"))([{endTime:a,startTime:c}])},type:"seekable_ranges_changed"})}}},G=function(){var a=D.getMpd().getCustomField("loapStreamType"),b=j();typeof a==="number"&&b!=null&&b.setStreamType(a)};D.getMpd().addListener("updated",function(){F(),E(),G()});D.updatePlayerRunTimeConfig({videoStreamDataHandler:r});g.isPredictiveDash()&&u.setContext("latency_level","predictive");e=h();k({inbandCaptionsAutogeneratedFromManifest:g.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:g.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:e==null?void 0:e.inbandCaptionsExpectedFromProps,sideLoadCaptionsExpectedFromProps:e==null?void 0:e.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:e==null?void 0:e.sideLoadCaptionsUrlFromProps})}}),null);
__d("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay",["requireDeferredForDisplay"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("requireDeferredForDisplay")("oz-player");function a(){return{getModuleIfRequireable:function(){return g.getModuleIfRequireable()||null},load:function(){return g.load()}}}}),null);
__d("VideoPlayerProgressiveImplementationSourceSwitcher",["Promise","FBLogger","clearImmediatePolyfill","emptyFunction","err","gkx","setImmediatePolyfill","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.startSwitchingVideoElementSource=a;function a(a){var c=a.getShouldBePlaying,d=a.onSourceSwitchCancelled,e=a.onSourceSwitchFailed,f=a.onSourceSwitchStarted,g=a.onSourceSwitchSucceeded,h=a.targetSrc,i=a.videoElement,j,k;function l(a){var d={handleAbort:function(){if(k!==d)return;k=null;a.reject()},handlePlayPromiseRejection:function(c){if(k!==d)return;k=null;if(c!=null&&c.name==="NotAllowedError")a.reject(c);else if(c!=null&&c.name==="AbortError")a.resolve();else{var e;e=b("err")("ProgressiveSourceSwitcher: Unexpected .play() promise rejection: %s",c!=null?((e=c.name)!=null?e:"(no name)")+": "+((e=c.message)!=null?e:"(no message)"):"(unknown)");e.project="comet_video_player";b("FBLogger")("comet_video_player").catching(e).info(e.message);a.reject(c)}},handleSuccess:function(){if(k!==d)return;k=null;a.resolve()}};k=d;i.currentTime=a.videoInfo.currentTime;i.muted=a.videoInfo.muted;i.volume=a.videoInfo.volume;if(c()){b("gkx")("1469130")&&(i.preload="auto");var e=i.play();e=e&&typeof e.then==="function"?b("Promise").resolve(e):null;e?e.then(function(){d.handleSuccess()})["catch"](function(a){d.handlePlayPromiseRejection(a)}):d.handleSuccess()}else d.handleSuccess()}function m(a){var c=b("emptyFunction"),d={handleAbort:function(){if(k!==d)return;c();k=null;a.reject()},handleCanPlay:function(){if(k!==d)return;c();l(a)}};k=d;f();function e(){d.handleCanPlay()}var g;c=function(){c=b("emptyFunction"),b("clearImmediatePolyfill")(g),i.removeEventListener("canplay",e)};a.videoInfo.src!==""&&(i.src=a.videoInfo.src);var h=3;i.readyState>=h&&(g=b("setImmediatePolyfill")(e));i.addEventListener("canplay",e);i.setAttribute("preload","auto");i.load();i.muted=a.videoInfo.muted}function n(){if(h==="")throw b("unrecoverableViolation")("ProgressiveSourceSwitcher: Unexpected empty targetSrc","comet_video_player");k&&k.handleAbort();var a={reject:function(c){if(j!==a)return;j=null;if(c!=null){var f;c=b("err")("ProgressiveSourceSwitcher: Failed: %s",((f=c.name)!=null?f:"(no name)")+": "+((f=c.message)!=null?f:"(no message)"));c.project="comet_video_player";e(c)}else d()},resolve:function(){if(j!==a)return;j=null;g()},videoInfo:{currentTime:i.currentTime,muted:i.muted,playbackRate:i.playbackRate,src:h,volume:i.volume}};j=a;m(a);return function(){k&&k.handleAbort()}}return n()}}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelay",["CometRelay","useVideoPlayerShakaPerformanceLoggerRelay_init.graphql","useVideoPlayerShakaPerformanceLoggerRelay_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h;g!==void 0?g:g=b("useVideoPlayerShakaPerformanceLoggerRelay_init.graphql");function a(a){a=b("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerShakaPerformanceLoggerRelay_video.graphql"),a);a=a.video_player_shaka_performance_logger_init?b("CometRelay").ModuleResource.read(a.video_player_shaka_performance_logger_init):null;return a}}),null);
__d("VideoPlayerPortalingPlaceInfoProvider.react",["React","emptyFunction","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.VideoPlayerPortalingPlaceInfoProvider=a;f.useVideoPlayerPortalingPlaceInfo=c;var g=b("React"),h=g.createContext(null);function a(a){var b=a.children,c=a.currentPlaceID,d=a.currentVideoID,e=a.portalingEnabled,f=a.previousPlaceMetaData,i=a.thisPlaceID;a=g.useMemo(function(){return{currentPlaceID:c,currentVideoID:d,portalingEnabled:e,previousPlaceMetaData:f,thisPlaceID:i}},[c,d,e,f,i]);return g.jsx(h.Provider,{value:a,children:b})}var i=b("emptyFunction");function c(){var a=g.useContext(h);i(a);return a==null?{currentPlaceID:null,currentVideoID:null,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:null}:a}}),null);
__d("usePlayerOriginRouteTracePolicy",["CometIsInNotificationsContext","CometRouteRenderType","React","useCometRouteTracePolicy"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=g.useContext(b("CometIsInNotificationsContext")),c=b("useCometRouteTracePolicy")(),d=b("CometRouteRenderType").useIsPushView();if(c==="comet.videos.tahoe")if(d)return"unknown";else return"comet.videos.tahoe";return c==="comet.videos.tahoe"&&a?"comet.notifications":c}}),null);
__d("VideoHomeLoggingReactionVideoChannelTypeContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(null);e.exports=c}),null);
__d("oz-player/loggings/OzPreInitLogger",["oz-player/shims/OzEventEmitter","oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f){"use strict";var g=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.$OzPreInitOperationLogger1=c;return a}var c=a.prototype;c.log=function(){b.prototype.log.call(this),this.$OzPreInitOperationLogger1(this)};return a}(b("oz-player/loggings/OzOperationLoggerBase"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$OzPreInitLoggerProvider1=!1,d.$OzPreInitLoggerProvider2=[],d.$OzPreInitLoggerProvider3=new(b("oz-player/shims/OzEventEmitter"))(),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.deactivate=function(){this.$OzPreInitLoggerProvider1=!1};d.activate=function(){var a=this;this.$OzPreInitLoggerProvider1=!0;this.$OzPreInitLoggerProvider2.forEach(function(b){a.$OzPreInitLoggerProvider3.emit("operation_logged",b)});this.$OzPreInitLoggerProvider2=[]};d.setOperationLoggedListener=function(a){return this.$OzPreInitLoggerProvider3.addListener("operation_logged",function(b){a(b)})};d.createOperationLogger=function(a){var b=this;a=new g(a,function(a){b.$OzPreInitLoggerProvider1?b.$OzPreInitLoggerProvider3.emit("operation_logged",a):b.$OzPreInitLoggerProvider2.push(a)});return a};d.createLoggerProvider=function(){return new c()};return c}(b("oz-player/loggings/OzPerfLoggerProviderBase"));e.exports={OzPreInitLoggerProvider:a}}),null);
__d("oz-player/utils/convertRequestPromiseToReadableStream",["oz-player/shims/OzReadableStream"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=new(b("oz-player/shims/OzReadableStream"))({start:function(b){a.then(function(a){a=new Uint8Array(a.response);b.enqueue(a);b.close()})["catch"](function(a){b.error(a)})}});return c}e.exports=a}),null);
__d("oz-player/media_source/OzQuickStarter",["oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzPreInitLogger","oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant","oz-player/utils/convertRequestPromiseToReadableStream","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/media_source/MediaSourceManager"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/loggings/OzPreInitLogger").OzPreInitLoggerProvider,i=.1;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e){var f;e===void 0&&(e=[]);f=a.call(this)||this;f.$OzQuickStarter5=new Map();f.$OzQuickStarter6=[];f.$OzQuickStarter8=new Map();f.$OzQuickStarter9=new Map();f.$OzQuickStarter10=new(b("oz-player/utils/OzErrorEmitter"))(!0);f.$OzQuickStarter13=function(a){a instanceof b("oz-player/utils/OzError")||(a=new(b("oz-player/utils/OzError"))({type:"OZ_QUICKSTARTER",description:a.message,extra:{originalError:a}})),f.$OzQuickStarter10.emitError(a)};f.$OzQuickStarter3=c;f.$OzQuickStarter1=d;f.$OzQuickStarter7=new h();f.$OzQuickStarter7.setInitiator("quick_starter");f.$OzQuickStarter6.push(f.$OzQuickStarter7);f.$OzQuickStarter2=new(b("oz-player/media_source/MediaSourceManager"))(f.$OzQuickStarter3,d,f.$OzQuickStarter7);f.$OzQuickStarter4=new Map();e.forEach(function(a){return f.addPrefetchTrack(a)});return f}var d=c.prototype;d.addPrefetchTrack=function(a){var c=this,d=a.mimeCodec,e=this.$OzQuickStarter11(d);if(!e)return;var f=this.$OzQuickStarter11(d),h=this.$OzQuickStarter12(this.$OzQuickStarter7).setType(f),i=this.$OzQuickStarter12(this.$OzQuickStarter7).setType(f+";init");this.$OzQuickStarter5.set(e,a.segmentPromise?1:0);f=this.$OzQuickStarter2.createSourceBufferManager(d).then(function(d){var f=b("oz-player/utils/convertRequestPromiseToReadableStream")(a.initializationPromise);g(a.initializationPromise,i,"fetch_stream");d.queueData(f,i)["catch"](c.$OzQuickStarter13);f=a.segmentPromise;if(f){var j=b("oz-player/utils/convertRequestPromiseToReadableStream")(f);g(f,h,"fetch_stream");d.queueData(j,h).then(function(a){c.$OzQuickStarter8.set(e,a.appendedSec),c.$OzQuickStarter1.getBool("call_end_of_stream_in_quick_starter",!1)&&c.$OzQuickStarter8.size===c.$OzQuickStarter4.size&&c.$OzQuickStarter14()&&(c.$OzQuickStarter2.notifyEndOfStream(),c.emit("streamEnd")),c.$OzQuickStarter1.getBool("seek_to_start_quick_starter",!1)&&c.$OzQuickStarter8.size===c.$OzQuickStarter4.size&&c.$OzQuickStarter15()})["catch"](c.$OzQuickStarter13)}return d});this.$OzQuickStarter4.set(e,f);a.representationID&&this.$OzQuickStarter9.set(e,a.representationID)};d.onError=function(a){return this.$OzQuickStarter10.onError(a)};d.$OzQuickStarter15=function(){var a=this.$OzQuickStarter3.buffered.length>0?this.$OzQuickStarter3.buffered.start(0):null;a!==null&&this.$OzQuickStarter3.currentTime<a&&(this.$OzQuickStarter3.currentTime=a+i)};d.$OzQuickStarter14=function(){var a=this;if(Number.isNaN(this.$OzQuickStarter3.duration))return!1;var b=!0;this.$OzQuickStarter8.forEach(function(c){Math.abs(c-a.$OzQuickStarter3.duration)>i&&(b=!1)});return b};d.getSourceBufferManagerPromise=function(a){a=this.$OzQuickStarter11(a);return this.$OzQuickStarter4.get(a)};d.getPrependedSegmentsCount=function(a){var b=this.$OzQuickStarter11(a);if(!b)return 0;b=this.$OzQuickStarter5.get(b)||0;return this.getSourceBufferManagerPromise(a)?b:0};d.getRepresentationId=function(a){a=this.$OzQuickStarter11(a);return!a?null:this.$OzQuickStarter9.get(a)||null};d.getAudioRepresentationIDAtTime=function(a){return this.$OzQuickStarter16("audio",a)};d.getVideoRepresentationIDAtTime=function(a){return this.$OzQuickStarter16("video",a)};d.getVideoNode=function(){return this.$OzQuickStarter3};d.getMediaSourceManager=function(){return this.$OzQuickStarter2};d.getObservedOperationLoggers=function(){return this.$OzQuickStarter6};d.$OzQuickStarter16=function(a,b){var c=this.$OzQuickStarter8.get(a);return c!=null&&b<=c?this.$OzQuickStarter9.get(a):null};d.$OzQuickStarter12=function(a){a=a.cloneContext();a instanceof h||b("oz-player/shims/ozvariant")(0,5677);this.$OzQuickStarter6.push(a);return a};d.$OzQuickStarter11=function(a){return(a.split("/")[0]||"").trim()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);