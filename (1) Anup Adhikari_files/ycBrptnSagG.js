if (self.CavalryLogger) { CavalryLogger.start_js(["fPJNu"]); }

__d("ComposedEntityMutabilityToName",[],(function(a,b,c,d,e,f){e.exports={0:"MUTABLE",1:"IMMUTABLE",2:"SEGMENTED"}}),null);
__d("ComposedEntityTypeToName",[],(function(a,b,c,d,e,f){e.exports={0:"MENTION",1:"LINK",2:"IMAGE",3:"VIDEO",4:"EMOTICON",5:"TOKEN",6:"HASHTAG",7:"IMPLICIT_LINK",8:"EMBED",9:"EMOJI",10:"MATH",11:"HIGHLIGHT",12:"DELIGHT",13:"TEMPLATE_VARIABLE",14:"ASSISTANT_TYPEAHEAD"}}),null);
__d("StickersPackInTrayQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"stickerInterface"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"StickerStore",kind:"LinkedField",name:"sticker_store",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1e4},{kind:"Variable",name:"interface",variableName:"stickerInterface"}],concreteType:"PacksInTrayConnection",kind:"LinkedField",name:"tray_packs",plural:!1,selections:[{alias:null,args:null,concreteType:"PacksInTrayEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"StickersPackInTrayQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"StickersPackInTrayQuery",selections:b},params:{id:"2650439741646983",metadata:{},name:"StickersPackInTrayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MercuryAudioPlayer",["DOM","Event"],(function(a,b,c,d,e,f){var g=200;function h(){var a=b("DOM").create("audio"),c=!1;try{a.canPlayType&&(a.canPlayType("video/mp4;").replace(/^no$/,"")&&(c=!0))}finally{return c}}var i=function(){this.interval=null,this.arbiterInstance=null,this.audio=b("DOM").create("audio"),b("Event").listen(this.audio,"playing",function(){this.informAttachment("playing",this.audio.currentTime),this.interval=window.setInterval(function(){this.informAttachment("playing",this.audio.currentTime)}.bind(this),g)}.bind(this)),b("Event").listen(this.audio,"ended",function(){window.clearInterval(this.interval),this.informAttachment("finished")}.bind(this))};Object.assign(i.prototype,{setAudio:function(a,b){this.audio.setAttribute("src",a),this.arbiterInstance=b},informAttachment:function(a,b){this.arbiterInstance&&this.arbiterInstance.inform(a,b)},play:function(){this.audio.play(),this.informAttachment("played")},resume:function(){this.audio.play(),this.informAttachment("played")},pause:function(){this.audio.pause(),window.clearInterval(this.interval),this.informAttachment("paused")},getType:function(){return"html5"}});function j(){return h()?new i():!1}var k=null,l=null,m=0;function a(a,b){this.src=a;this.arbiterInstance=b;this.audio_id=++m;k!==null||(k=j());if(!k)return!1}Object.assign(a.prototype,{getType:function(){if(!k)return!1;else return k.getType()},play:function(a){a&&l==this.audio_id?k.resume():(this.pause(),l=this.audio_id,k.setAudio(this.src,this.arbiterInstance),k.play())},pause:function(){k.pause()}});e.exports=a}),null);
__d("MercuryAttachmentAudioClip.react",["cssVar","cx","fbt","Arbiter","ArbiterMixin","CurrentUser","LeftRight.react","Link.react","MercuryAudioPlayer","MercuryShareAttachmentRenderLocations","React","SubscriptionsHandler","createReactClass_DEPRECATED","joinClasses","prop-types","shield"],(function(a,b,c,d,e,f,g,h,i){var j=b("React"),k="MercuryAttachmentAudioClip/play",l="progress-bar";c=b("createReactClass_DEPRECATED")({displayName:"AudioClip",mixins:[b("ArbiterMixin")],propTypes:{customColor:(a=b("prop-types")).string,duration:a.number,isChat:a.bool,isFromViewer:a.bool,location:a.oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),onAttachmentLoad:a.func,rootClassName:a.string,showHelp:a.bool,src:a.string.isRequired,width:a.number},getInitialState:function(){this.logged=!1;return{time:0,playing:!1,started:!1,duration:this.props.duration,audioPlayer:new(b("MercuryAudioPlayer"))(this.props.src,this)}},componentDidMount:function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad(),this._subscriptionsHandler=new(b("SubscriptionsHandler"))(),this._subscriptionsHandler.addSubscriptions(this.subscribe("playing",this.updateTime),this.subscribe("played",b("shield")(this.setState,this,{playing:!0,started:!0})),this.subscribe("paused",b("shield")(this.setState,this,{playing:!1})),this.subscribe("finished",b("shield")(this.setState,this,{playing:!1,started:!1,time:this.props.duration})),b("Arbiter").subscribe(k,function(a,b){this.props.src!=b&&this.setState({time:0})}.bind(this)))},componentWillUnmount:function(){this._subscriptionsHandler&&this._subscriptionsHandler.release()},updateTime:function(a,b){this.setState({time:b})},play:function(){this.state.playing?this.state.audioPlayer.pause():(this.state.audioPlayer.play(this.state.started),b("Arbiter").inform(k,this.props.src),this.logged||(this.logged=!0))},_formatSeconds:function(a){if(a){a=Math.round(a);var b=a%60;b<10&&(b="0"+b);a=Math.floor(a/60);return a+":"+b}else return null},_renderPlayer:function(a,c,d){var e=this.props.isFromViewer,f=this.props.isChat,g=b("CurrentUser").isWorkUser(),h=d===l,k=f&&e&&!h,m=this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER;g=g?"#373e4c":"#4080ff";g=d||g;a={width:a};k&&(a.backgroundColor=g);k=d&&d!==l&&!f?{color:d}:{};g={};h&&(g["aria-hidden"]=!0);return j.jsxs(b("Link.react"),babelHelpers["extends"]({"aria-label":i._("Voice Message"),className:"_1miz _2e-1"+(m?"":" _3_om")+(e&&f?" _3e5f":""),role:"button",style:a,onClick:this.play},g,{children:[j.jsx("span",{className:"_1mi- _2e-2",children:j.jsx("i",{className:"_1mi_ _2e-3"})}),j.jsx("span",{style:k,className:"_1mj0 _2e-4 _3oh-",children:c}),j.jsx("div",{className:"_1mj1 _2e-5"})]}))},render:function(){var a=this.state.time,c=this.state.playing,d=this._formatSeconds(this.state.duration),e=this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER,f=this.props.width||170;if(e){var g=this.props.duration;g>10?f=240:g>5?f=200:g>2?f=160:f=120}g=null;var h=Math.ceil(a*(f+2)/this.state.duration);e&&(h=Math.ceil(a*(f+24)/this.state.duration));if(this.state.audioPlayer&&this.state.audioPlayer.getType()){var k=this._renderPlayer(f,d,this.props.customColor);f=this._renderPlayer(f,d,l);c="_1mj2 _2e-6"+(c&&a!==0?" _1mj3":"")+(c&&a===0?" _4g4x":"");g=j.jsxs("div",{className:c,children:[k,j.jsx("div",{className:"_1mj4 _2e-7",style:{width:h},children:f})]})}else g=j.jsx("div",{className:"_1mj2",children:j.jsx("div",{className:"_1miz",children:j.jsxs(b("LeftRight.react"),{children:[j.jsxs("a",{className:"_1mj5",href:this.props.src,children:[j.jsx("span",{className:"_3qi6",children:j.jsx("i",{className:"_1mj6"})}),j.jsx("span",{className:"_1mj7",children:i._("Voice Message")}),j.jsx("span",{className:"_1mj8",children:d})]}),j.jsx("a",{href:this.props.src,className:"_1mj9",children:j.jsx("i",{className:"_1mja"})})]})})});return j.jsx("div",{className:b("joinClasses")("_1mjb"+(e?" _454y":""),this.props.rootClassName),children:g})}});e.exports=c}),null);
__d("FBRTCCallabilityActions",["keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({CALLABILITY_FETCHED:null,CALLABILITY_FETCH_ERROR:null});a=function(){function a(a){this.$1=a}var b=a.prototype;b.callabilityFetched=function(a,b){this.$1.dispatch({type:g.CALLABILITY_FETCHED,userID:a,callability:b})};b.callabilityFetchError=function(a){this.$1.dispatch({type:g.CALLABILITY_FETCH_ERROR,userID:a})};return a}();a.Types=g;e.exports=a}),null);
__d("XRTCCallabilityController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/rtc/callability/",{user_id:{type:"FBID",required:!0}})}),null);
__d("FBRTCCallabilityDataManager",["AsyncRequest","FBRTCCallabilityActions","TimeSlice","XRTCCallabilityController"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=new(b("FBRTCCallabilityActions"))(a)}var c=a.prototype;c.fetchCallability=function(a){var c=this;b("TimeSlice").guard(function(){var d=b("XRTCCallabilityController").getURIBuilder().setFBID("user_id",a).getURI(),e=c.$2.bind(c,a),f=c.$3.bind(c,a);new(b("AsyncRequest"))().setURI(d).setHandler(e).setErrorHandler(f).setAllowCrossPageTransition(!0).send()},"Chat Tab RTC Callability Check",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};c.$2=function(a,b){this.$1.callabilityFetched(a,b.payload)};c.$3=function(a,b){this.$1.callabilityFetchError(a)};return a}();e.exports=a}),null);
__d("RTCCallabilityStore",["fbt","Cache","FBRTCCallabilityActions","FBRTCCallabilityDataManager","FluxStore","MercuryThreadInfo"],(function(a,b,c,d,e,f,g){"use strict";var h=.5,i=5;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$RTCCallabilityStore2=new(b("FBRTCCallabilityDataManager"))(c);d.$RTCCallabilityStore1=new(b("Cache"))();return d}var d=c.prototype;d.__onDispatch=function(a){var c=a.type;switch(c){case b("FBRTCCallabilityActions").Types.CALLABILITY_FETCHED:c=a.userID;var d=a.callability;this.$RTCCallabilityStore1.set(c,{callable:d.is_callable,isBlocked:d.is_blocked},null,d.is_callable?i:h);this.__emitChange();break;case b("FBRTCCallabilityActions").Types.CALLABILITY_FETCH_ERROR:this.$RTCCallabilityStore1.set(a.userID,{callable:!1,isBlocked:!1},null,h);this.__emitChange();break}};d.isCallable=function(a,b){b=b?b.message_count>0&&b.folder==="inbox":!1;a=this.fetchUserFromCache(a);return a&&a.callable||b};d.isBlocked=function(a,c){c=c?b("MercuryThreadInfo").canReply(c):!0;a=this.fetchUserFromCache(a);return a&&a.isBlocked||!c};d.fetchUserFromCache=function(a){this.$RTCCallabilityStore1.has(a)||(this.$RTCCallabilityStore2.fetchCallability(a),this.$RTCCallabilityStore1.set(a,{callable:!1,isBlocked:!1},null,h));return this.$RTCCallabilityStore1.get(a)};d.callButtonTooltip=function(a,b,c,d){c===void 0&&(c=!0);return!this.isBlocked(a,d)&&(c||this.isCallable(a))?g._("Start a video chat with {shortname}",[g._param("shortname",b)]):g._("{shortname} is currently unavailable for video calling",[g._param("shortname",b)])};d.voiceCallButtonTooltip=function(a,b,c,d){c===void 0&&(c=!0);return!this.isBlocked(a,d)&&(c||this.isCallable(a))?g._("Start a voice call with {shortname}",[g._param("shortname",b)]):g._("{shortname} is currently unavailable for voice calling",[g._param("shortname",b)])};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("RepliedToMessageContent.react",["ix","cx","fbt","Bootloader","CurrentUser","FantaTabActions","FBLogger","Image.react","JSResource","LineClamp.react","MessengerMathUtils","MessengerTextWithEntities.react","React","RepliedToMessageStatusForGraphQL","asset","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(){d.$5();if(d.props.repliedToMessageData.status!==b("RepliedToMessageStatusForGraphQL").VALID)return;var a=d.props.threadID;d.props.isMessengerUI?d.props.scrollToRepliedMessage&&d.props.scrollToRepliedMessage(d.props.repliedToMessageData.message.message_id):a!==null&&a!==void 0&&b("FantaTabActions").jumpToMessage(a,d.props.repliedToMessageData.message.message_id)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.isFromViewer,d=a.isMessengerUI;a=a.repliedToMessageData;var e=a.status===b("RepliedToMessageStatusForGraphQL").VALID;if(e&&!a.message){b("FBLogger")("message_replies").mustfix("invalid message reply: Status is Valid but replied_to_message is missing");return null}e=e?a.message.body:this.$1(a);var f=null;!e&&a.message.attachments&&(f=this.$2(a.message.attachments,c,d),e=this.$3(a.message.attachments));c=null;a=e!=null&&b("MessengerMathUtils").isMathBlock(e);if(a&&e!=null){a=b("MessengerMathUtils").getMathBlockInner(e);var g=b("lazyLoadComponent")(b("JSResource")("MessengerMath.react").__setRef("RepliedToMessageContent.react"));c=j.jsx(j.Suspense,{fallback:j.jsx("div",{children:e}),children:j.jsx(g,{body:a,fallbackBody:e,stripDelimiters:!0,className:"_1e4d"})})}else c=j.jsx(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:e});g=j.jsx(b("LineClamp.react"),{className:"_4k7e",lines:2,fitHeightToShorterText:!0,children:c});if(!this.props.replyInOneBubble)return j.jsxs("div",{className:(!!f&&d?"_6e7n":"")+(!!f&&!d?" _6e6m":""),children:[g,f]});a=j.jsxs("blockquote",{className:"_pye"+(!!f&&d?" _6e7n":"")+(!!f&&!d?" _6e6m":""),children:[j.jsx("div",{className:"_pyf"}),g,f]});return!this.props.isLinkified?a:j.jsx("a",{className:"_6e6n",href:"#",onClick:this.$4,children:a})};d.$1=function(a){switch(a.status){case b("RepliedToMessageStatusForGraphQL").DELETED:return b("CurrentUser").isWorkUser()?i._("This message was deleted").toString():i._("Message removed").toString();case b("RepliedToMessageStatusForGraphQL").TEMPORARILY_UNAVAILABLE:default:return i._("Message is temporarily unavailable").toString()}};d.$2=function(a,c,d){d=d?"_6e6o":"_6e6y";if(a.length===1&&a[0].attach_type)switch(a[0].attach_type){case"photo":case"sticker":case"third_party_sticker":case"animated_image":return!this.props.replyInOneBubble?j.jsx(b("Image.react"),{className:d,src:g("602383")}):c===!0?j.jsx(b("Image.react"),{className:d,src:g("544881")}):j.jsx(b("Image.react"),{className:d,src:g("596859")});case"video":return!this.props.replyInOneBubble?j.jsx(b("Image.react"),{className:d,src:g("602399")}):c===!0?j.jsx(b("Image.react"),{className:d,src:g("504242")}):j.jsx(b("Image.react"),{className:d,src:g("596875")});default:return!this.props.replyInOneBubble?j.jsx(b("Image.react"),{className:d,src:g("562396")}):c===!0?j.jsx(b("Image.react"),{className:d,src:g("555222")}):j.jsx(b("Image.react"),{className:d,src:g("596853")})}else if(a.length>1)return!this.props.replyInOneBubble?j.jsx(b("Image.react"),{className:d,src:g("602390")}):c===!0?j.jsx(b("Image.react"),{className:d,src:g("504171")}):j.jsx(b("Image.react"),{className:d,src:g("596866")});else return null};d.$3=function(a){var b=a.length;if(b===1&&a[0].attach_type)switch(a[0].attach_type){case"photo":return i._("Photo").toString();case"video":return i._("Video").toString();case"sticker":case"third_party_sticker":return i._("Sticker").toString();case"animated_image":return i._("GIF").toString();default:return i._("Attachment").toString()}else if(b>1)return i._({"*":"{number of attachments} Attachments","_1":"{number of attachments} Attachment"},[i._param("number of attachments",b),i._plural(b)]).toString();else return null};d.$5=function(){b("Bootloader").loadModules(["MessageReplyTypedLogger","MessageReplyEvent"],function(a,c){a=new a();a.setEvent(c.SCROLL_TO_ORIGINAL_MESSAGE).setIsWorkplace(b("CurrentUser").isWorkUser()).log()},"RepliedToMessageContent.react")};return c}(j.Component);e.exports=a}),null);
__d("MessengerSharedPhotoReact.bs",["cx","fbt","bs_curry","React","Link.react","CssBackgroundImage.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j={height:"100%"};function a(a){var c=a.className,d=a.fbid,e=a.onClick,f=a.uri;a=a.isSpherical;var g=function(a){a.preventDefault();return b("bs_curry")._1(e,d)},k=h._("photo");if(f!==void 0){f=f;a=a?i.jsx("div",{className:"_3603 _64ks"}):null;return i.jsx(b("Link.react"),{"aria-label":k,className:c,href:f,onClick:g,children:i.jsx(b("CssBackgroundImage.react"),{className:c,imageURI:f,backgroundPosition:"center",style:j,children:a})})}else return i.jsx(b("Link.react"),{"aria-label":k,className:c,onClick:g,role:"button"})}c=a;f.style100pct=j;f.make=c}),null);
__d("MessengerSharedPhotoReact.re",["MessengerSharedPhotoReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerSharedPhotoReact.bs").make;f.make=a}),null);
__d("ChatPhotoViewFooterHScroll.react",["cx","Animation","MessengerSharedPhotoReact.re","React","SphericalPhotoUtils","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerSharedPhotoReact.re").make,i=b("React"),j=b("SphericalPhotoUtils").getThumbnailsFromPhotoEncodings,k=200,l=74,m=140,n=30;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.state={currentPhoto:"",prevScrollLeft:0,scrollLeft:0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.width&&this.props.updateNumberInOneBatch(this.$2(this.props.width)),this.$1=new(b("Animation"))(this.refs.childContainer).to("scrollLeft",0).duration(k).go()};d.UNSAFE_componentWillReceiveProps=function(a){if(a.photoID!=this.state.currentPhoto||this.props.sharedPhotos.length!==a.sharedPhotos.length){var b=a.width?(a.width-l)/2-m:0,c=a.sharedPhotos.findIndex(function(b){return b.node.id===a.photoID});this.setState({currentPhoto:a.photoID,prevScrollLeft:this.state.scrollLeft,scrollLeft:c*l-b})}a.width!=this.props.width&&this.props.updateNumberInOneBatch(this.$2(a.width))};d.componentDidUpdate=function(){this.$1&&this.$1.from("scrollLeft",this.state.prevScrollLeft).to("scrollLeft",this.state.scrollLeft).duration(k).go()};d.componentWillUnmount=function(){this.$1&&this.$1.stop()};d.shouldComponentUpdate=function(a,b){return a.photoID!=this.state.currentPhoto||a.sharedPhotos.length!==this.props.sharedPhotos.length?!0:!1};d.render=function(){var a=this,b=this.props.sharedPhotos;b=b.map(function(b){var c,d=b.node.photo_encodings?b.node.photo_encodings.length!==0:!1;c=(c=b)!=null?(c=c.node)!=null?(c=c.image1)!=null?c.uri:c:c:c;if(d){var e=j(b.node.photo_encodings);e=e.smallThumbnail;c=e||c}return!c?null:i.jsx("div",{className:"_1oyb",children:i.jsx(h,{className:"_1oyc"+(a.state.currentPhoto!==b.node.id?" _1oyd":""),fbid:b.node.legacy_attachment_id,onClick:a.props.onScroll,uri:c,isSpherical:d})},b.node.legacy_attachment_id)});return i.jsx("div",{className:"_1oye",children:i.jsx("div",{className:"_1oyf",ref:"childContainer",children:i.jsx("div",{className:"_1oyh",ref:"scrollable",children:b})})})};d.$2=function(a){return a?Math.ceil((a-m*2)/l):n};return c}(i.Component);a.propTypes={onScroll:(c=b("prop-types")).func,photoID:c.string,sharedPhotos:c.array,updateNumberInOneBatch:c.func,width:c.number};e.exports=a}),null);
__d("XForwardingNUXSeenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/forwarding_nux_seen/",{})}),null);
__d("MessagingForwardingButtonNUX.react",["AsyncRequest","ChatConfig","React","XForwardingNUXSeenController","XUIAmbientNUX.react","prop-types"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showNUX:!b("ChatConfig").get("seen_forwarding_nux")},d.$1=function(){if(!d.state.showNUX)return;b("ChatConfig").set("seen_forwarding_nux",!0);new(b("AsyncRequest"))(b("XForwardingNUXSeenController").getURIBuilder().getURI()).send();d.setState({showNUX:!1})},d.close=function(){d.$1()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return g.jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,onCloseButtonClick:this.$1,position:"left",width:"auto",shown:this.state.showNUX,children:this.props.children})};return c}(g.Component);a.propTypes={contextRef:b("prop-types").func.isRequired};e.exports=a}),null);
__d("MessengerPhotoViewCloseLinkReact.bs",["cx","fbt","bs_curry","React","TooltipLink.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.onClick;a=i.jsx("span",{children:h._("Press Esc to close")});return i.jsx(b("TooltipLink.react"),{children:i.jsx("div",{className:"_387s"}),className:"_51ok _50-m _51an",onClick:function(a){return b("bs_curry")._1(c,0)},tooltip:a})}c=a;f.make=c}),null);
__d("MessengerPhotoViewCloseLinkReact.re",["MessengerPhotoViewCloseLinkReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerPhotoViewCloseLinkReact.bs").make;f.make=a}),null);
__d("SpotlightViewerBottomBarLink",["cx","Link.react","React"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.className||"_4_8j _4_8k";return h.jsx(b("Link.react"),babelHelpers["extends"]({},this.props,{className:a,children:this.props.children}))};return c}(h.Component);e.exports=a}),null);
__d("ChatPhotoViewHeader.react",["cx","fbt","CurrentUser","MessagingForwardingButtonNUX.react","MessengerPhotoViewCloseLinkReact.re","React","SpotlightViewerBottomBarLink","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MessengerPhotoViewCloseLinkReact.re").make,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.$2(),c.props.showForwardDialog&&c.props.showForwardDialog()},c.$4=function(){c.$2(),c.props.showShareDialog&&c.props.showShareDialog()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return j.jsxs("div",{className:"_51an _50-m _3h_t _5l-3",role:"banner",children:[this.$1(),j.jsx(i,{onClick:this.props.onClose})]})};d.$2=function(){this.refs.forwardNUX&&this.refs.forwardNUX.close()};d.$1=function(){var a=this,c,d,e;this.props.disableForward||(c=j.jsxs(b("SpotlightViewerBottomBarLink"),{className:"_3h_u",onClick:this.$3,ref:"forwardButton",children:[j.jsx("div",{className:"_3h_v _3h_w"}),h._("Forward")]}),d=j.jsx(b("MessagingForwardingButtonNUX.react"),{contextRef:function(){return a.refs.forwardButton},ref:"forwardNUX",children:h._("Send this image to other people in separate messages.")}));this.props.enableShareToFB&&(e=j.jsxs("div",{className:"_3h_u",onClick:this.$4,ref:"shareButton",role:"button",tabIndex:"0",children:[j.jsx("div",{className:"_3tth _3h_w"}),this.$5()]}));return j.jsxs("div",{ref:"buttons",children:[j.jsxs(b("SpotlightViewerBottomBarLink"),{className:"_3h_u",rel:"async",ajaxify:this.props.url,ref:"downloadButton",children:[j.jsx("div",{className:"_3h_x _3h_w"}),h._("Download")]}),c,d,e,j.jsxs("div",{className:"_3h_u",onClick:this.props.openInfo,ref:"moreInfo",role:"link",tabIndex:"0",children:[j.jsx("div",{className:"_3h_y _3h_w"}),h._("Info")]})]},"buttonsContainer")};d.$5=function(){if(b("CurrentUser").isWorkUser())return h._("Share to Workplace");else return h._("Share to Facebook")};return c}(j.PureComponent);a.propTypes={disableForward:(c=b("prop-types")).bool,enableShareToFB:c.bool,onClose:c.func,openInfo:c.func,showForwardDialog:c.func,showShareDialog:c.func,url:c.object};e.exports=a}),null);
__d("ChatSpeakingSticker.react",["React","ReactDOM","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=b("ReactDOM").findDOMNode(d.refs.stickerVideo);a.play()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return g.jsx("div",{onClick:this.$1,role:"presentation",children:g.jsx("video",{height:this.props.videoSize.height,ref:"stickerVideo",width:this.props.videoSize.width,children:g.jsx("source",{src:this.props.videoURI})})})};return c}(g.PureComponent);a.propTypes={videoURI:(c=b("prop-types")).string.isRequired,videoSize:c.shape({height:c.number,width:c.number}).isRequired};e.exports=a}),null);
__d("EmojiSticker.react",["cx","Image.react","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad()};d.render=function(){var a=this.props.emojiImage?this.props.emojiImage:h.jsx(b("Image.react"),{src:this.props.sourceURI});return h.jsx("div",{"aria-label":this.props.emoji,className:b("joinClasses")(this.props.className,"_383m"),tabIndex:"0",children:a})};return c}(h.Component);a.propTypes={emoji:(c=b("prop-types")).string,emojiImage:c.any,onAttachmentLoad:c.func,sourceURI:c.string.isRequired};e.exports=a}),null);
__d("MercuryShareAttachmentReactShape",["React","prop-types"],(function(a,b,c,d,e,f){"use strict";b("React");c=(a=b("prop-types")).shape({share_id:a.string,description:a.string,media:a.shape({image:a.string,image_size:a.shape({height:a.number,width:a.number}),duration:a.number,playable:a.bool,source:a.string}),source:a.string,style_list:a.arrayOf(a.string),subattachments:a.array,target:a.object,title:a.string,properties:a.object,uri:a.string,action_links:a.array,messaging_attribution:a.shape({attribution_type:a.string,attribution_id:a.string,name:a.string,icon_url:a.string}),messenger_ctas:a.arrayOf(a.shape({id:a.string,page_id:a.string,action_title:a.string,action_url:a.string,action_open_type:a.number,is_high_confidence:a.bool,is_mutable_by_server:a.bool,user_confirmation:a.bool,native_url:a.string,is_disabled:a.bool,nested_ctas:a.array,webview_metadata:a.object}))}).isRequired;e.exports=c}),null);
__d("MercuryAnimatedShareSnippet.react",["cx","fbt","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?h._("You sent a GIF."):h._("{sender name} sent a GIF.",[h._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("81849")}),a]})};return c}(j.Component);a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object])};e.exports=a}),null);
__d("MercuryCrisisListingShareSnippet.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("span",{children:this.props.isViewerSender?g._("You shared a post."):g._("{sender_name} shared a post.",[g._param("sender_name",this.props.senderName)])})};return b}(h.Component);e.exports=a}),null);
__d("MercuryFallbackShareAttachmentSnippet.react",["cx","fbt","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;this.props.isViewerSender?a=h._("You sent a link."):a=h._("{sender name} sent a link.",[h._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("86988")}),a]})};return c}(j.Component);a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object])};e.exports=a}),null);
__d("MercuryFormProgressShareAttachmentSnippet.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.$1=function(){var a;return(a=this.props)!=null?(a=a.attachment)!=null?(a=a.target)!=null?a.progress:a:a:a};c.render=function(){var a=this.$1(),b;a===null?b=g._("A form was sent."):this.props.isViewerSender?a===100?b=g._("{sender name} submitted a form.",[g._param("sender name",this.props.senderName)]):b=g._("You sent a form."):a===100?b=g._("You submitted a form."):b=g._("{sender name} sent a form.",[g._param("sender name",this.props.senderName)]);return h.jsx("span",{children:b})};return b}(h.Component);e.exports=a}),null);
__d("MercuryFundraiserShareSnippet.react",["cx","fbt","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?h._("You shared a fundraiser"):h._("{sender name} shared a fundraiser",[h._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("40052")}),a]})};return c}(j.Component);a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object])};e.exports=a}),null);
__d("MercuryInstantGameShareSnippet.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a,b=this.props.isViewerSender?h._("You shared a game."):h._("{sender name} shared a game to you.",[h._param("sender name",this.props.senderName)]),c=this.props.attachment;a=(a=c)!=null?(a=a.style_list)!=null?a[0]:a:a;if(a==="instant_games_custom_update"){c=(a=c)!=null?a.title:a;c&&(b=c)}return i.jsx("span",{className:"uiIconText _3l6h",children:b})};return b}(i.Component);e.exports=a}),null);
__d("MercuryLeadFormUserInfoShareAttachmentSnippet.react",["ix","cx","fbt","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?i._("You submitted a form."):i._("{sender name} submitted your form.",[i._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:g("404223")}),a]})};return c}(j.Component);e.exports=a}),null);
__d("MercuryMBirthdayReminderShareAttachmentSnippet.react",["MercuryShareAttachmentReactShape","React","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props.attachment.title.split(" ")[0];return g.jsx("span",{children:"Wish "+a+" a happy birthday."})};return b}(g.Component);a.propTypes={attachment:b("prop-types").object};e.exports=a}),null);
__d("MercuryMessageLiveLocationShareAttachmentSnippet.react",["cx","fbt","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;this.props.isViewerSender?a=h._("You sent a live location."):a=h._("{sender name} sent a live location.",[h._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:this.props.className,children:[j.jsx("span",{className:"_j0r"}),j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("87068")}),a]})]})};return c}(j.Component);a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object])};e.exports=a}),null);
__d("MercuryMessageLocationShareAttachmentSnippet.react",["cx","fbt","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;this.props.isViewerSender?a=h._("You sent a location."):a=h._("{sender name} sent a location.",[h._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("87068")}),a]})};return c}(j.Component);e.exports=a}),null);
__d("MercuryMessengerInviteShareAttachmentSnippet.react",["cx","MercuryShareAttachmentReactShape","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("span",{className:"_3l6h",children:this.props.attachment.title})};return b}(h.Component);a.propTypes={attachment:b("MercuryShareAttachmentReactShape")};e.exports=a}),null);
__d("MercuryMontageDirectShareSnippet.react",["cx","fbt","React","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a;a=(a=this.props)!=null?(a=a.attachment)!=null?(a=a.media)!=null?a.source:a:a:a;var b;this.props.isViewerSender?b=a?h._("You sent a video."):h._("You sent a photo."):b=a?h._("{sender name} sent a video.",[h._param("sender name",this.props.senderName)]):h._("{sender name} sent a photo.",[h._param("sender name",this.props.senderName)]);return i.jsx("span",{className:"uiIconText _3l6h",children:b})};return b}(i.Component);a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object]),attachment:c.object};e.exports=a}),null);
__d("MercuryMusicIntegrationAttachmentSnippet.react",["fbt","MercuryFallbackShareAttachmentSnippet.react","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props.attachment.target;if(!c)return h.jsx(b("MercuryFallbackShareAttachmentSnippet.react"),babelHelpers["extends"]({},this.props));var d=c.title;c=c.app_name;this.props.isViewerSender?a=g._("You shared \"{music title}\" from {music servvice}.",[g._param("music title",d),g._param("music servvice",c)]):a=g._("{sender name} shared \"{music title}\" from {music servvice}.",[g._param("sender name",this.props.senderName),g._param("music title",d),g._param("music servvice",c)]);return h.jsx("span",{children:a})};return c}(h.PureComponent);a.propTypes={attachment:(c=b("prop-types")).object,isViewerSender:c.bool,senderName:c.oneOfType([c.string,c.object])};e.exports=a}),null);
__d("MercuryPaymentPlatformMCOMSnippet.react",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return null};return b}(a.Component);e.exports=c}),null);
__d("MercuryPaymentPlatformSnippet.react",["cx","ix","Image.react","MercuryShareAttachmentReactShape","React","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;a=(a=this.props)!=null?(a=a.attachment)!=null?(a=a.target)!=null?(a=a.payment_snippet)!=null?a.text:a:a:a:a;return!a?null:i.jsxs("span",{className:"uiIconText _3l6h",children:[i.jsx(b("Image.react"),{src:h("86988")}),a]})};return c}(i.Component);a.propTypes={attachment:b("MercuryShareAttachmentReactShape"),isSenderViewer:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object])};e.exports=a}),null);
__d("MercuryPhotoShareSnippet.react",["cx","fbt","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?h._("You sent a photo."):h._("{sender name} sent a photo.",[h._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("81849")}),a]})};return c}(j.Component);a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object])};e.exports=a}),null);
__d("MercuryPromotionShareAttachmentSnippet.react",["cx","fbt","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props.attachment,d=c&&c.target,e;a=(a=c)!=null?(a=a.style_list)!=null?a[0]:a:a;this.props.isViewerSender!=null?e=h._("You sent an attachment."):e=h._("{sender name} sent an attachment.",[h._param("sender name",this.props.senderName)]);a==="instant_games_leaderboard_update"&&(e=c.title);c=(a=d==null?void 0:d.message)!=null?a:e;return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("86988")}),c]})};return c}(j.Component);e.exports=a}),null);
__d("MercurySaleGroupProductItemShareSnippet.react",["cx","fbt","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?h._("You sent a for sale item."):h._("{sender name} sent a for sale item.",[h._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("86988")}),a]})};return c}(j.Component);a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object])};e.exports=a}),null);
__d("MercuryVideoShareSnippet.react",["cx","fbt","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?h._("You sent a video."):h._("{sender name} sent a video.",[h._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("82423")}),a]})};return c}(j.Component);a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object])};e.exports=a}),null);
__d("MercuryWECAttachmentSnippet.react",["cx","fbt","ix","Image.react","MercuryShareAttachmentReactShape","React","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.attachment.subattachments.length===0||this.props.attachment.subattachments[0].target===null||this.props.attachment.subattachments[0].target===void 0)return null;var a=this.props.attachment.subattachments[0].target.attach_type;if(a=="photo"){a=this.props.isViewerSender?h._({"*":"You sent {number} photos .","_1":"You sent 1 photo ."},[h._plural(this.props.attachment.subattachments.length,"number",this.props.attachment.subattachments.length===1?"a":this.props.attachment.subattachments.length.toString())]):h._({"*":"{sender name} sent {number} photos.","_1":"{sender name} sent 1 photo."},[h._param("sender name",this.props.senderName),h._plural(this.props.attachment.subattachments.length,"number",this.props.attachment.subattachments.length===1?"a":this.props.attachment.subattachments.length.toString())]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("81849")}),a]})}return null};return c}(j.Component);a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object]),attachment:b("MercuryShareAttachmentReactShape")};e.exports=a}),null);
__d("MessengerLightweightActionSnippet.react",["cx","MercuryShareAttachmentReactShape","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("span",{className:"_3l6h",children:this.props.attachment.title})};return b}(h.PureComponent);a.propTypes={attachment:b("MercuryShareAttachmentReactShape")};e.exports=a}),null);
__d("MessengerMomentsAppSnippet.react",["cx","ix","Image.react","MercuryShareAttachmentReactShape","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.attachment;return!a||!a.target?null:i.jsxs("span",{className:"uiIconText _3l6h",children:[i.jsx(b("Image.react"),{src:h("86988")}),a.target.snippet]})};return c}(i.Component);a.propTypes={attachment:b("MercuryShareAttachmentReactShape")};e.exports=a}),null);
__d("NeoKidInitiateFriendingMercuryShareAttachmentSnippet.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props.isViewerSender?g._("You sent a contact request."):g._("{sender name} sent a contact request.",[g._param("sender name",this.props.senderName)]);return h.jsx("span",{children:a})};return b}(h.Component);e.exports=a}),null);
__d("MercuryAttachmentSnippetType",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({PHOTO:null,GIF:null,VIDEO:null,AUDIO_CLIP:null,STICKER:null,SHARE:null,ERROR:null,MIXED:null,GIFT:null,THIRDPARTYSTICKER:null,FILE:null,LIKE_STICKER:null});e.exports=a}),null);
__d("MercuryGiftSnippetRenderer",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={renderText:function(a,b){return a?g._("You sent a valentine."):g._("{name} sent a valentine.",[g._param("name",b)])}};e.exports=a}),null);
__d("P2PSnippetStringUtils",["fbt"],(function(a,b,c,d,e,f,g){a={getRequestCanceledSnippet:function(a,b,c,d,e){if(a)return g._("Your request for {payment request amount} from {receiver's name} was canceled.",[g._param("payment request amount",e),g._param("receiver's name",d)]);else if(b)return g._("{requester's name}'s request for {payment request amount} was canceled.",[g._param("requester's name",c),g._param("payment request amount",e)]);else return g._("{requester's name}'s request for {payment request amount} from {receiver's name} was canceled.",[g._param("requester's name",c),g._param("payment request amount",e),g._param("receiver's name",d)])},getRequestDeclinedSnippet:function(a,b,c,d,e){if(a)return g._("{receiver's name} declined your request for {payment request amount}.",[g._param("receiver's name",d),g._param("payment request amount",e)]);else if(b)return g._("You declined {requester's name}'s request for {payment request amount}.",[g._param("requester's name",c),g._param("payment request amount",e)]);else return g._("{receiver's name} declined {sender's name}'s request for {payment request amount}.",[g._param("receiver's name",d),g._param("sender's name",c),g._param("payment request amount",e)])},getRequestSentSnippet:function(a,b,c,d,e){if(a)return g._("You requested {amount} from {requestee name}.",[g._param("amount",e),g._param("requestee name",d)]);else if(b)return g._("{requester name} requested {amount} from you.",[g._param("requester name",c),g._param("amount",e)]);else return g._("{name} requested {amount} from {requestee name}.",[g._param("name",c),g._param("amount",e),g._param("requestee name",d)])},getRequestSnippetByStatus:function(a,b,c,d,e,f){a=a||1;b=[b,c,d,e,f];switch(a){case 2:return this.getRequestDeclinedSnippet.apply(this,b);case 5:case 6:return this.getRequestCanceledSnippet.apply(this,b)}return this.getRequestSentSnippet.apply(this,b)},getTransferCanceledSnippet:function(a,b,c,d,e){if(a)return g._("Your {amount} payment to {receiver_name} was canceled.",[g._param("amount",e),g._param("receiver_name",d)]);else if(b)return g._("{sender name}'s {amount} payment was canceled.",[g._param("sender name",c),g._param("amount",e)]);else return g._("{sender_name}'s {amount} payment to {receiver_name} was canceled.",[g._param("sender_name",c),g._param("amount",e),g._param("receiver_name",d)])},getTransferDeclinedSnippet:function(a,b,c,d,e){if(a)return g._("{receiver_name} didn't accept your {amount} payment.",[g._param("receiver_name",d),g._param("amount",e)]);else if(b)return g._("You didn't accept {sender name}'s {amount} payment.",[g._param("sender name",c),g._param("amount",e)]);else return g._("{receiver_name} didn't accept {sender_name}'s {amount} payment.",[g._param("receiver_name",d),g._param("sender_name",c),g._param("amount",e)])},getTransferSentSnippet:function(a,b,c,d,e){if(a)return g._("You sent {receiver name} {amount}.",[g._param("receiver name",d),g._param("amount",e)]);else if(b)return g._("{name} sent you {amount}.",[g._param("name",c),g._param("amount",e)]);else return g._("{sender name} sent {receiver name} {amount}.",[g._param("sender name",c),g._param("receiver name",d),g._param("amount",e)])},getTransferSnippetByStatus:function(a,b,c,d,e,f){b=[b,c,d,e,f];c=a||15;switch(c){case 5:return this.getTransferDeclinedSnippet.apply(this,b);case 3:case 10:case 11:case 12:case 16:return this.getTransferCanceledSnippet.apply(this,b)}return this.getTransferSentSnippet.apply(this,b)}};e.exports=a}),null);
__d("MercuryAttachmentSnippetRenderer",["fbt","CurrentUser","MercuryAttachmentSnippetType","MercuryAudioType","MercuryGiftSnippetRenderer","MessengerLightweightActionUtils","P2PSnippetStringUtils","StickerConstants"],(function(a,b,c,d,e,f,g){"use strict";a={getAttachmentSnippetType:function(a){if(this._hasOnlyPhotos(a))return b("MercuryAttachmentSnippetType").PHOTO;if(this._hasOnlyAnimatedImages(a))return b("MercuryAttachmentSnippetType").GIF;if(this._hasOnlyVideo(a))return b("MercuryAttachmentSnippetType").VIDEO;if(this._hasAudioClip(a))return b("MercuryAttachmentSnippetType").AUDIO_CLIP;if(this._hasLikeSticker(a))return b("MercuryAttachmentSnippetType").LIKE_STICKER;if(this._hasSticker(a))return b("MercuryAttachmentSnippetType").STICKER;if(this._hasThirdPartySticker(a))return b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER;if(this._hasShare(a))return b("MercuryAttachmentSnippetType").SHARE;if(this._hasGift(a))return b("MercuryAttachmentSnippetType").GIFT;if(this._hasError(a))return b("MercuryAttachmentSnippetType").ERROR;return this._hasFile(a)?b("MercuryAttachmentSnippetType").FILE:b("MercuryAttachmentSnippetType").MIXED},renderAttachmentSnippetText:function(a,c,d,e){switch(a){case b("MercuryAttachmentSnippetType").PHOTO:return this._renderPhotoAttachmentSnippetText(c,d,this._getPhotoAttachments(e));case b("MercuryAttachmentSnippetType").GIF:return this._renderAnimatedImagesAttachmentSnippetText(c,d,this._getAnimatedImageAttachments(e));case b("MercuryAttachmentSnippetType").VIDEO:return c?g._("You sent a video."):g._("{sender name} sent a video.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").AUDIO_CLIP:return c?g._("You sent a voice message."):g._("{name} sent a voice message.",[g._param("name",d)]);case b("MercuryAttachmentSnippetType").STICKER:case b("MercuryAttachmentSnippetType").LIKE_STICKER:case b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER:return c?g._("You sent a sticker."):g._("{name} sent a sticker.",[g._param("name",d)]);case b("MercuryAttachmentSnippetType").SHARE:if(e&&this._hasP2PPayment(e))return this._renderP2PPaymentSnippetText(e[0]);if(e&&this._hasP2PPaymentRequest(e))return this._renderP2PPaymentRequestSnippetText(e[0]);if(e&&this._hasBusinessMessage(e))return this._renderBusinessMessageSnippetText(e[0],d);if(e&&this._hasLocation(e))return c?g._("You sent a location."):g._("{sender name} sent a location.",[g._param("sender name",d)]);if(e&&this._hasLiveLocation(e))return c?g._("You sent a live location."):g._("{sender name} sent a live location.",[g._param("sender name",d)]);if(e&&this._hasMontageDirect(e)){a=e[0];a=(a=a)!=null?(a=a.share)!=null?(a=a.media)!=null?a.source:a:a:a;return c?a?g._("You sent a video."):g._("You sent a photo."):a?g._("View {sender name}'s disappearing video.",[g._param("sender name",d)]):g._("View {sender name}'s disappearing photo.",[g._param("sender name",d)])}if(e&&e.length===1&&b("MessengerLightweightActionUtils").isLWAAttachment(e[0]))return b("MessengerLightweightActionUtils").getLWASnippetText(e);return e&&e.length===1&&this._isGloballyRemovedMessageAttachment(e[0])?e[0].share.description:c?g._("You sent a link."):g._("{sender name} sent a link.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").GIFT:return b("MercuryGiftSnippetRenderer").renderText(c,d);case b("MercuryAttachmentSnippetType").FILE:return c?g._("You sent an attachment."):g._("{sender name} sent an attachment.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").MIXED:return c?g._("You sent some attachments."):g._("{sender name} sent some attachments.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").ERROR:return c?g._("You sent an attachment."):g._("{sender name} sent an attachment.",[g._param("sender name",d)]);default:return""}},_isGloballyRemovedMessageAttachment:function(a){return a.share&&a.share.style_list&&a.share.style_list.includes("globally_deleted_message_placeholder")},_hasOnlyPhotos:function(a){return this._getPhotoAttachments(a).length===a.length},_hasThirdPartySticker:function(a){return a.length===1&&a[0].attach_type==="third_party_sticker"},_hasOnlyAnimatedImages:function(a){return this._getAnimatedImageAttachments(a).length===a.length},_hasOnlyVideo:function(a){return a.length===1&&a[0].attach_type==="video"},_hasAudioClip:function(a){var c=a[0].metadata&&a[0].metadata.type;return a.length===1&&(c===b("MercuryAudioType").AudioClip||c===b("MercuryAudioType").VoiceMessageWithTranscript)},_hasBusinessMessage:function(a){return this._hasSingleShareAttachmentOfStyle(a,"business_message_items")},_hasSticker:function(a){return a.length===1&&a[0].attach_type==="sticker"},_hasLikeSticker:function(a){if(a.length<1)return!1;var c=a[0].metadata&&a[0].metadata.stickerID;return a.length===1&&(c==b("StickerConstants").LIKE_STICKER_ID||c==b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||c==b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||c==b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID)},_hasLocation:function(a){return this._hasSingleShareAttachmentOfStyle(a,"message_location")},_hasLiveLocation:function(a){return this._hasSingleShareAttachmentOfStyle(a,"message_live_location")},_hasMontageDirect:function(a){return this._hasSingleShareAttachmentOfStyle(a,"montage_direct")},_hasP2PPayment:function(a){return this._hasSingleShareAttachmentOfStyle(a,"orion")},_hasP2PPaymentRequest:function(a){return this._hasSingleShareAttachmentOfStyle(a,"orion_request")},_hasSingleShareAttachmentOfStyle:function(a,b){return a.length===1&&a[0].attach_type==="share"&&a[0].share&&a[0].share.style_list.indexOf(b)>=0},_hasShare:function(a){return a.length===1&&a[0].attach_type==="share"},_hasError:function(a){return a.length===1&&a[0].attach_type==="error"},_hasGift:function(a){return a.length===1&&a[0].attach_type==="gift"},_hasFile:function(a){return a.length===1&&a[0].attach_type==="file"},_getPhotoAttachments:function(a){return!a?[]:a.filter(function(a){return a.attach_type==="photo"})},_getAnimatedImageAttachments:function(a){return!a?[]:a.filter(function(a){return a.attach_type==="animated_image"})},_renderPhotoAttachmentSnippetText:function(a,b,c){if(c.length===1)if(a)return g._("You sent a photo.");else return g._("{name} sent a photo.",[g._param("name",b)]);else if(a)return g._({"*":"You sent {num_photos} photos."},[g._param("num_photos",c.length,[0])]);else return g._({"*":"{name} sent {num_photos} photos."},[g._param("name",b),g._param("num_photos",c.length,[0])])},_renderAnimatedImagesAttachmentSnippetText:function(a,b,c){if(c.length===1)if(a)return g._("You sent a GIF.");else return g._("{name} sent a GIF.",[g._param("name",b)]);else if(a)return g._("You sent {num_animated_images} GIFs.",[g._param("num_animated_images",c.length)]);else return g._("{name} sent {num_animated_images} GIFs.",[g._param("name",b),g._param("num_animated_images",c.length)])},_renderBusinessMessageSnippetText:function(a,b){a=a.share.target;a=a&&a.message||g._("{sender name} sent an attachment.",[g._param("sender name",b)]);return a},_renderP2PPaymentSnippetText:function(a){a=a.share.target;return this.renderP2PPaymentSnippetText(b("CurrentUser").getID()===a.sender.id,a.sender.name,a.amountWithSymbol,a.status,b("CurrentUser").getID()===a.receiver.id,a.receiver.name)},_renderP2PPaymentRequestSnippetText:function(a){a=a.share.target;return this.renderP2PPaymentRequestSnippetText(b("CurrentUser").getID()===a.requester.id,a.requester.name,a.amountWithSymbol,a.currentStatus,b("CurrentUser").getID()===a.requestee.id,a.requestee.name)},renderP2PPaymentSnippetText:function(a,c,d,e,f,g){return b("P2PSnippetStringUtils").getTransferSnippetByStatus(e,a,f||!1,c||"",g||"",d)},renderP2PPaymentRequestSnippetText:function(a,c,d,e,f,g){return b("P2PSnippetStringUtils").getRequestSnippetByStatus(e,a,f||!1,c||"",g||"",d)}};e.exports=a}),null);
__d("P2PMercuryAttachmentSnippetRendererBase.react",["cx","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsxs("span",{className:"uiIconText _3l6h _3_io",children:[i.jsx(b("Image.react"),{height:12,src:h("94348"),width:12}),this.props.text]})};return c}(i.Component);a.propTypes={text:b("prop-types").node};e.exports=a}),null);
__d("P2PMercuryAttachmentSnippet.react",["CurrentUser","MercuryAttachmentSnippetRenderer","P2PMercuryAttachmentSnippetRendererBase.react","React","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("MercuryAttachmentSnippetRenderer").renderP2PPaymentSnippetText(b("CurrentUser").getID()===this.props.sender.id,this.props.sender.name,this.props.amountWithSymbol,this.props.status,b("CurrentUser").getID()===this.props.receiver.id,this.props.receiver.name);return g.jsx(b("P2PMercuryAttachmentSnippetRendererBase.react"),{text:a})};return c}(g.Component);a.propTypes={amountWithSymbol:(c=b("prop-types")).string,receiver:c.object,sender:c.object,status:c.number};a.defaultProps={sender:{},receiver:{}};e.exports=a}),null);
__d("P2PMercuryShareAttachmentSnippet.react",["MercuryShareAttachmentReactShape","P2PMercuryAttachmentSnippet.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.attachment?this.props.attachment.target:{};return g.jsx(b("P2PMercuryAttachmentSnippet.react"),babelHelpers["extends"]({},a))};return c}(g.Component);a.propTypes={attachment:b("MercuryShareAttachmentReactShape")};e.exports=a}),null);
__d("P2PPaymentRequestMercuryAttachmentSnippet.react",["CurrentUser","MercuryAttachmentSnippetRenderer","P2PMercuryAttachmentSnippetRendererBase.react","React","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("MercuryAttachmentSnippetRenderer").renderP2PPaymentRequestSnippetText(b("CurrentUser").getID()===this.props.requester.id,this.props.requester.name,this.props.formattedAmount,this.props.status,b("CurrentUser").getID()===this.props.requestee.id,this.props.requestee.name);return g.jsx(b("P2PMercuryAttachmentSnippetRendererBase.react"),{text:a})};return c}(g.Component);a.propTypes={formattedAmount:(c=b("prop-types")).string.isRequired,requestee:c.object.isRequired,requester:c.object.isRequired,status:c.number.isRequired};e.exports=a}),null);
__d("P2PPaymentRequestMercuryShareAttachmentSnippet.react",["P2PMercuryAttachmentSnippetRendererBase.react","P2PPaymentRequestMercuryAttachmentSnippet.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.attachment,c=a.target;return!c?g.jsx(b("P2PMercuryAttachmentSnippetRendererBase.react"),{text:a.title}):g.jsx(b("P2PPaymentRequestMercuryAttachmentSnippet.react"),{formattedAmount:c.amountWithSymbol,requestee:c.requestee,requester:c.requester,status:c.currentStatus})};return c}(g.Component);e.exports=a}),null);
__d("ServicesGenericAdminTextAttachmentSnippet.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){return g.jsx("span",{})};e.exports=a}),null);
__d("MercuryShareStyleMap",["cx","requireCond","CurrentUser","JSResource","MercuryShareAttachmentRenderLocations","cr:1030824","emptyFunction","gkx","MercuryFallbackShareAttachmentSnippet.react","P2PMercuryShareAttachmentSnippet.react","P2PPaymentRequestMercuryShareAttachmentSnippet.react","MercuryPhotoShareSnippet.react","NeoKidInitiateFriendingMercuryShareAttachmentSnippet.react","MercuryInstantGameShareSnippet.react","MercuryPromotionShareAttachmentSnippet.react","MessengerMomentsAppSnippet.react","MercuryVideoShareSnippet.react","MercuryMessageLocationShareAttachmentSnippet.react","MercuryMessageLiveLocationShareAttachmentSnippet.react","MercuryAnimatedShareSnippet.react","MercurySaleGroupProductItemShareSnippet.react","MercuryPaymentPlatformMCOMSnippet.react","MercuryPaymentPlatformSnippet.react","MercuryMusicIntegrationAttachmentSnippet.react","MercuryFundraiserShareSnippet.react","MercuryCrisisListingShareSnippet.react","MercuryMessengerInviteShareAttachmentSnippet.react","MessengerLightweightActionSnippet.react","MercuryLeadFormUserInfoShareAttachmentSnippet.react","MercuryWECAttachmentSnippet.react","MercuryMBirthdayReminderShareAttachmentSnippet.react","MercuryFormProgressShareAttachmentSnippet.react","ServicesGenericAdminTextAttachmentSnippet.react","MercuryMontageDirectShareSnippet.react"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();h.set("fallback",{componentName:"MercuryFallbackShareAttachment.react",componentLoader:b("JSResource")("MercuryFallbackShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});b("CurrentUser").isWorkUser()?h.set("event",{componentName:"MercuryWorkEventShareAttachment.react",componentLoader:b("JSResource")("MercuryWorkEventShareAttachment.react").__setRef("MercuryShareStyleMap")}):h.set("event",{componentName:"MercuryEventShareAttachment.react",componentLoader:b("JSResource")("MercuryEventShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")}});a={componentName:"P2PMercuryShareAttachmentContainer.react",componentLoader:b("JSResource")("P2PMercuryShareAttachmentContainer.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("P2PMercuryShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _3-50"]])};h.set("event_attendance_confirmation",{componentName:"MercuryEventAttendanceConfirmationAttachment.react",componentLoader:b("JSResource")("MercuryEventAttendanceConfirmationAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _7jp4"]]),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")}});h.set("orion",a);if(b("gkx")("678645")){c={componentName:"P2PServerDrivenMercuryShareAttachmentContainer.react",componentLoader:b("JSResource")("P2PServerDrivenMercuryShareAttachmentContainer.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _3-50"]])};h.set("PAYMENT_BUBBLE_VIEW",c);h.set("p2p_server_bubble",c)}h.set("orion_request",{componentName:"P2PPaymentRequestMercuryShareAttachmentContainer.react",componentLoader:b("JSResource")("P2PPaymentRequestMercuryShareAttachmentContainer.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("P2PPaymentRequestMercuryShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _3-50"]])});h.set("insights_chart",{componentName:"MercuryImageShareAttachment.react",componentLoader:b("JSResource")("MercuryImageShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPhotoShareSnippet.react")},unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("retail_receipt",{componentName:"MNCommerceReceiptMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommerceReceiptMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set("neo_draw_and_guess_game_request",{componentName:"NeoDrawAndGuessRequestMercuryShareAttachment.react",componentLoader:b("JSResource")("NeoDrawAndGuessRequestMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _4p_r _5i_d"]])});h.set("NEO_INVITATION",{componentName:"NeoInvitationMercuryShareAttachment.react",componentLoader:b("JSResource")("NeoInvitationMercuryShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("parent_approved_plain_text_bot_message",{componentName:"ParentApprovedPlainTextBotMessageMercuryShareAttachment.react",componentLoader:b("JSResource")("ParentApprovedPlainTextBotMessageMercuryShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("NEO_KID_INITIATE_FRIENDING",{componentName:"NeoKidInitiateFriendingMercuryShareAttachment.react",componentLoader:b("JSResource")("NeoKidInitiateFriendingMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("NeoKidInitiateFriendingMercuryShareAttachmentSnippet.react")}});h.set("retail_cancellation",{componentName:"MNCommerceCancelationMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommerceCancelationMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set("retail_shipment",{componentName:"MNCommerceRetailShipmentShareAttachment.react",componentLoader:b("JSResource")("MNCommerceRetailShipmentShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set("retail_shipment_tracking_event",{componentName:"MNCommerceShipmentTrackingEventShareAttachment.react",componentLoader:b("JSResource")("MNCommerceShipmentTrackingEventShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set("retail_now_in_stock",{componentName:"MNCommerceProductSubscriptionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommerceProductSubscriptionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set("retail_promotion",{componentName:"MNCommercePromotionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommercePromotionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _28rg"]])});b("gkx")("678262")&&(h.set("instant_games_share_message",{componentName:"MessengerGamesShareAttachment.react",componentLoader:b("JSResource")("MessengerGamesShareContainer.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryInstantGameShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _4niv _205d _28rg"]])}),h.set("instant_games_share_score_message",{componentName:"MessengerGamesScoreShareContainer.react",componentLoader:b("JSResource")("MessengerGamesScoreShareContainer.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _4niv _205d _28rg"]])}),h.set("instant_games_custom_update",{componentName:"MessengerGamesScoreShareContainer.react",componentLoader:b("JSResource")("MessengerGamesScoreShareContainer.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryInstantGameShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _4niv _205d _28rg"]])}));h.set("mobile_game_thread_share",{componentName:"MessengerMobileGameThreadShareMessage.react",componentLoader:b("JSResource")("MessengerMobileGameThreadShareMessage.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryInstantGameShareSnippet.react")}});h.set("retail_item",{componentName:"MNCommercePromotionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommercePromotionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _28rg"]])});h.set("business_message_items",{componentName:"MNCommercePromotionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommercePromotionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _28rg"]])});h.set("in_thread_multiphoto_carousel",{componentName:"InThreadMultiphotoCarouselItemShareAttachment.react",componentLoader:b("JSResource")("InThreadMultiphotoCarouselItemShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _28rg"]]),overrideWidthInHScroll:240});h.set("messenger_platform_media_attachment",{componentName:"MNCommercePromotionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommercePromotionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _28rg _4jj7"]])});h.set("h_scroll",{componentName:"MNCommerceHScrollMessageAttachment.react",componentLoader:b("JSResource")("MNCommerceHScrollMessageAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _8ka"]])});h.set("messenger_platform_compact_item",{componentName:"MessengerPlatformVerticalListItemAttachment.react",componentLoader:b("JSResource")("MessengerPlatformVerticalListItemAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _28rg"]])});h.set("messenger_platform_cover_item",{componentName:"MessengerPlatformVerticalListItemAttachment.react",componentLoader:b("JSResource")("MessengerPlatformVerticalListItemAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _28rg"]])});h.set("messenger_platform_button_list",{componentName:"MNCommercePromotionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommercePromotionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _28rg"]])});h.set("vertical_attachment_list",{componentName:"MessengerPlatformVerticalListAttachment.react",componentLoader:b("JSResource")("MessengerPlatformVerticalListAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _5i_d _28rg"]])});h.set("ride_ordered",{componentName:"MercuryFallbackShareAttachment.react",componentLoader:b("JSResource")("MercuryFallbackShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("living_room",{componentName:"MercuryLivingRoomShareAttachment.react",componentLoader:b("JSResource")("MercuryLivingRoomShareAttachment.react").__setRef("MercuryShareStyleMap"),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("ride_receipt",{componentName:"MercuryFallbackShareAttachment.react",componentLoader:b("JSResource")("MercuryFallbackShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("airline_update",{componentName:"MNAirlineUpdateMercuryAttachment.react",componentLoader:b("JSResource")("MNAirlineUpdateMercuryAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _8kb"]])});h.set("airline_itinerary",{componentName:"MNAirlineItineraryMercuryAttachment.react",componentLoader:b("JSResource")("MNAirlineItineraryMercuryAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _8kb"]])});h.set("airline_checkin_reminder",{componentName:"MNAirlineCheckInMercuryAttachment.react",componentLoader:b("JSResource")("MNAirlineCheckInMercuryAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _8kb"]])});h.set("airline_boarding_pass",{componentName:"MNAirlineBoardingPassMercuryAttachment.react",componentLoader:b("JSResource")("MNAirlineBoardingPassMercuryAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _8kb"]])});d={componentName:"MessengerMomentsAppShareAttachment.react",componentLoader:b("JSResource")("MessengerMomentsAppShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MessengerMomentsAppSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])};h.set("moments_app_invitation",d);h.set("moments_app_photo_request",d);h.set("genie_message",{componentName:"GenieMessageShareAttachment.react",componentLoader:b("JSResource")("GenieMessageShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_2wrf"]]),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")}});h.set("movie_bot_movie_list",{componentName:"MovieBotMovieListShareAttachment.react",componentLoader:b("JSResource")("MovieBotMovieListShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("movie_bot_movie_showtime_list",{componentName:"MovieBotMovieShowtimeListShareAttachment.react",componentLoader:b("JSResource")("MovieBotMovieShowtimeListShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("share_large_image",{componentName:"MercuryShareLargeImageAttachment.react",componentLoader:b("JSResource")("MercuryShareLargeImageAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPhotoShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});b("CurrentUser").isWorkUser()?h.set("image_share",{componentName:"MercuryImageShareAttachment.react",componentLoader:b("JSResource")("MercuryImageShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPhotoShareSnippet.react")}}):h.set("image_share",{componentName:"MercuryImageShareAttachment.react",componentLoader:b("JSResource")("MercuryImageShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPhotoShareSnippet.react")},unwrapInStory:b("emptyFunction").thatReturnsTrue});b("CurrentUser").isWorkUser()?(h.set("photo_link_share",{componentName:"MercuryImageShareAttachment.react",componentLoader:b("JSResource")("MercuryImageShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPhotoShareSnippet.react")}}),h.set("video",{componentName:"MercuryStoryShareAttachment.react",componentLoader:b("JSResource")("MercuryStoryShareAttachment.react").__setRef("MercuryShareStyleMap")})):h.set("video",{componentName:"MercuryVideoShareAttachment.react",componentLoader:b("JSResource")("MercuryVideoShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryVideoShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_3duc"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("message_location",{componentName:"MercuryMessageLocationShareAttachment.react",componentLoader:b("JSResource")("MercuryMessageLocationShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryMessageLocationShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("message_live_location",{componentName:"MercuryMessageLiveLocationShareAttachment.react",componentLoader:b("JSResource")("MercuryMessageLiveLocationShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryMessageLiveLocationShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("animated_image_share",{componentName:"MercuryAnimatedShareAttachment.react",componentLoader:b("JSResource")("MercuryAnimatedShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryAnimatedShareSnippet.react")},unwrapInStory:b("emptyFunction").thatReturnsFalse});h.set("group_sell_product_item",{componentName:"MercurySaleGroupProductItemShareAttachment.react",componentLoader:b("JSResource")("MercurySaleGroupProductItemShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercurySaleGroupProductItemShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("commerce_attachment",{componentName:"MercurySaleGroupProductItemShareAttachment.react",componentLoader:b("JSResource")("MercurySaleGroupProductItemShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercurySaleGroupProductItemShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("commerce_product_item",{componentName:"MercuryCommerceProductItemShareAttachment.react",componentLoader:b("JSResource")("MercuryCommerceProductItemShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("payment_platform_redesigned",{componentName:"MercuryPaymentPlatformMCOMAttachment.react",componentLoader:b("JSResource")("MercuryPaymentPlatformMCOMAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPaymentPlatformMCOMSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _9bjq _9bjr"],[b("MercuryShareAttachmentRenderLocations").CHAT,"_9bjq _9bjs"]])});h.set("payment_platform",{componentName:"MercuryPaymentPlatformShareAttachment.react",componentLoader:b("JSResource")("MercuryPaymentPlatformShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPaymentPlatformSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("financial_bill_payment_request",{componentName:"MNBillPaymentRequestMercuryShareAttachment.react",componentLoader:b("JSResource")("MNBillPaymentRequestMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set("music_aggregation",{componentName:"MercuryMusicAttachment.react",componentLoader:b("JSResource")("MercuryMusicAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryMusicIntegrationAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _4p_r"]])});h.set("video_share_youtube",{componentName:"MercuryVideoShareYoutubeAttachment.react",componentLoader:b("JSResource")("MercuryVideoShareYoutubeAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("rtc_call_log",{componentName:"MercuryRTCShareAttachment.react",componentLoader:b("JSResource")("MercuryRTCShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("fundraiser_person_for_person",{componentName:"MercuryFundraiserAttachment.react",componentLoader:b("JSResource")("MercuryFundraiserAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFundraiserShareSnippet.react")}});h.set("fundraiser_person_to_charity",{componentName:"MercuryFundraiserAttachment.react",componentLoader:b("JSResource")("MercuryFundraiserAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFundraiserShareSnippet.react")}});h.set("crisis_listing",{componentName:"MercuryCrisisListingAttachment.react",componentLoader:b("JSResource")("MercuryCrisisListingAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryCrisisListingShareSnippet.react")}});h.set("messenger_team_bot_share",{componentName:"MessengerTeamBotShareAttachment.react",componentLoader:b("JSResource")("MessengerTeamBotShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("messenger_invite",{componentName:"MercuryMessengerInviteShareAttachment.react",componentLoader:b("JSResource")("MercuryMessengerInviteShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_3thf"]]),getSnippetComponent:function(){return b("MercuryMessengerInviteShareAttachmentSnippet.react")},unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("high_school_community_invite",{componentName:"MercuryHighSchoolCommunityInviteAttachment.react",componentLoader:b("JSResource")("MercuryHighSchoolCommunityInviteAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_3y64"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("pages_platform_booking_message",{componentName:"PagesPlatformBookingMessageAttachment.react",componentLoader:b("JSResource")("PagesPlatformBookingMessageAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _3fk6"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("friend_request",{componentName:"MercuryMessengerFriendRequestAttachment.react",componentLoader:b("JSResource")("MercuryMessengerFriendRequestAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("cultural_moment_holiday_card",{componentName:"MercuryCulturalMomentHolidayCardAttachment.react",componentLoader:b("JSResource")("MercuryCulturalMomentHolidayCardAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_3duc"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("pages_platform_lead_gen",{componentName:"PagesPlatformLeadGenMercuryShareAttachmentContainer.react",componentLoader:b("JSResource")("PagesPlatformLeadGenMercuryShareAttachmentContainer.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_b4_"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("lightweight_action",{componentName:"MessengerLightweightActionAttachment.react",componentLoader:b("JSResource")("MessengerLightweightActionAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MessengerLightweightActionSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("job_search_job_application",{componentName:"JobApplicationMessageBubbleWrapperContainer.react",componentLoader:b("JSResource")("JobApplicationMessageBubbleWrapperContainer.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _1zrz"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("page_messenger_attachment",{componentName:"PageMessengerShareAttachment.react",componentLoader:b("JSResource")("PageMessengerShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("lead_form_user_info",{componentName:"MercuryLeadFormUserInfoShareAttachment.react",componentLoader:b("JSResource")("MercuryLeadFormUserInfoShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryLeadFormUserInfoShareAttachmentSnippet.react")}});h.set("ICE_BREAKER",{componentName:"MercuryIceBreakerMessageShareAttachment.react",componentLoader:b("JSResource")("MercuryIceBreakerMessageShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("wec_message",{componentName:"MercuryWECMessageAttachment.react",componentLoader:b("JSResource")("MercuryWECMessageAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryWECAttachmentSnippet.react")}});h.set("m_birthday_reminder",{componentName:"MercuryMBirthdayReminderShareAttachment.react",componentLoader:b("JSResource")("MercuryMBirthdayReminderShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryMBirthdayReminderShareAttachmentSnippet.react")}});h.set("personal_reminder",{componentName:"MercuryMPersonalReminderShareAttachment.react",componentLoader:b("JSResource")("MercuryMPersonalReminderShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("personal_reminder_list",{componentName:"MercuryMPersonalRemindersListShareAttachment.react",componentLoader:b("JSResource")("MercuryMPersonalRemindersListShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("article_message",{componentName:"MercuryArticleMessageShareAttachment.react",componentLoader:b("JSResource")("MercuryArticleMessageShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("messenger_form_progress_attachment",{componentName:"MercuryFormProgressShareAttachment.react",componentLoader:b("JSResource")("MercuryFormProgressShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFormProgressShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("services_generic_admin_text",{componentName:"ServicesGenericAdminTextAttachment.react",componentLoader:b("JSResource")("ServicesGenericAdminTextAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("ServicesGenericAdminTextAttachmentSnippet.react")}});h.set("fbpay_offer",{componentName:"MecuryMessageOfferShareAttachment.react",componentLoader:b("JSResource")("MecuryMessageOfferShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("application_share_referral",{componentName:"MecuryMessageShareReferralAttachment.react",componentLoader:b("JSResource")("MecuryMessageShareReferralAttachment.react").__setRef("MercuryShareStyleMap")});b("CurrentUser").isWorkUser()&&h.set("joinable_call",{componentName:"WorkChatCallAttachment.react",componentLoader:b("JSResource")("WorkChatCallAttachment.react").__setRef("MercuryShareStyleMap")});b("CurrentUser").isWorkUser()&&(b("gkx")("1237084")?h.set("attached_story",{componentName:"WorkChatStoryShareAttachment.react",componentLoader:b("JSResource")("WorkChatStoryShareAttachment.react").__setRef("MercuryShareStyleMap")}):h.set("attached_story",{componentName:"MercuryStoryShareAttachment.react",componentLoader:b("JSResource")("MercuryStoryShareAttachment.react").__setRef("MercuryShareStyleMap")}));b("CurrentUser").isWorkUser()&&h.set("avatar",{componentName:"MercuryAvatarShareAttachment.react",componentLoader:b("JSResource")("MercuryAvatarShareAttachment.react").__setRef("MercuryShareStyleMap")});b("CurrentUser").isWorkUser()&&h.set("unavailable",{componentName:"MercuryUnavailableShareAttachment.react",componentLoader:b("JSResource")("MercuryUnavailableShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("montage_direct",{componentName:"MontageDirectAttachment.react",componentLoader:b("JSResource")("MontageDirectAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryMontageDirectShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_1ti9"]])});h.set("mentorship_curriculum_step",{componentName:"MentorshipCurriculumStepShareAttachment.react",componentLoader:b("JSResource")("MentorshipCurriculumStepShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("marketplace_generic_admin_text",{componentName:"MarketplaceGenericAdminTextAttachment.react",componentLoader:b("JSResource")("MarketplaceGenericAdminTextAttachment.react").__setRef("MercuryShareStyleMap")});h.set("mentorship_discussion_topic_set",{componentName:"MentorshipDiscussionTopicSetAttachment.react",componentLoader:b("JSResource")("MentorshipDiscussionTopicSetAttachment.react").__setRef("MercuryShareStyleMap")});h.set("mentorship_h_scroll",{componentName:"MentorshipHScrollAttachment.react",componentLoader:b("JSResource")("MentorshipHScrollAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _7qm8 _7qmd"]])});h.set("mentorship_xma",{componentName:"MentorshipGenericXMAShareAttachment.react",componentLoader:b("JSResource")("MentorshipGenericXMAShareAttachment.react").__setRef("MercuryShareStyleMap")});b("gkx")("1462436")&&h.set("rooms_speakeasy_xma",{componentName:"MercuryRTCRoomsRingbackAttachment.react",componentLoader:b("JSResource")("MercuryRTCRoomsRingbackAttachment.react").__setRef("MercuryShareStyleMap")});b("CurrentUser").isWorkUser()&&b("gkx")("990297")&&h.set("file_upload",{componentName:"MercuryWorkContentAppShareAttachment.react",componentLoader:b("JSResource")("MercuryWorkContentAppShareAttachment.react").__setRef("MercuryShareStyleMap")});b("cr:1030824")!==null&&h.set("montage_share",b("cr:1030824"));h.set("shop_product_item",{componentName:"MercuryShopProductItemShareAttachment.react",componentLoader:b("JSResource")("MercuryShopProductItemShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _99al"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue,overrideWidthInHScroll:242});f={getStyleFactory:function(a){if(!a||!a.style_list)return null;if(a.style_list[0]==="attached_story"){var b=a.subattachments,c=b&&b.length?b[0].style_list:[],d=c.length?this._getStyleMapEntry(c):null,e=b[0];if(Array.isArray(c)&&c.find(function(a){return a==="video"})){c={video_title:a.title,description:a.description,source:a.source};e=Object.assign({},b[0],c)}if(d&&d.unwrapInStory&&d.unwrapInStory())return{attachment:e,factory:d}}a.style_list[0]==="payment_platform"&&(a.target.should_show_new_xma&&(a.style_list=["payment_platform_redesigned","fallback"]));b=this._getStyleMapEntry(a.style_list);return!b?null:{attachment:a,factory:b}},_getStyleMapEntry:function(a){for(var b=0;b<a.length;b++){var c=h.get(a[b]);if(c)return c}return null}};e.exports=f}),null);
__d("MessengerErrorBoundary.react",["cx","fbt","ChatReliabilityInstrumentation","ErrorBoundary.react","LogHistory","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("LogHistory").getInstance("messenger_error_boundary"),k=function(a){return h._({"conversation list":"Could not display conversation list.","conversation":"Could not display conversation.","composer":"Could not display composer.","conversation information":"Could not display conversation information.","attachment":"Could not display attachment.","pinned conversation list":"Could not display pinned conversation list.","video":"Could not display video."},[h._enum(a,{"conversation list":"conversation list",conversation:"conversation",composer:"composer","conversation information":"conversation information",attachment:"attachment","pinned conversation list":"pinned conversation list",video:"video"})])},l=function(a,c){return function(){return i.jsx("div",{className:b("joinClasses")("_5jpt",c),children:a})}};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){var e="React error in "+c+" got "+a.message;j.error(e,JSON.stringify(a));b("ChatReliabilityInstrumentation").logERROR(e);d.props.onHandleError&&d.props.onHandleError(a,c)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.component;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","component"]);return i.jsx(b("ErrorBoundary.react"),babelHelpers["extends"]({},a,{fallbackComponent:l(k(d),c),onHandleError:this.$1}))};return c}(i.Component);e.exports=a}),null);
__d("MercuryShareAttachment.react",["cx","BootloadedComponent.react","DOM","Event","FlexLayout.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryShareStyleMap","MessengerErrorBoundary.react","React","ReactDOM","WorkChatRedesignedMessageListCheck.re","emptyFunction","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){d.$1(a),b("DOM").scry(b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d)),"img").forEach(function(a){var c=b("Event").listen(a,"load",function(){d.$1(a.height),c.remove()})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.$2=function(a,c){this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER&&!this.props.isSubattachment&&(c=b("joinClasses")((b("WorkChatRedesignedMessageListCheck.re").enabled?"":"_52mr")+" _2poz _ui9","_4skb",c));return h.jsxs("div",{className:c,children:[a,this.props.afterDecorators!=null&&this.props.afterDecorators.length>1?h.jsx(b("FlexLayout.react"),{align:"center",className:"_7moe",children:this.props.afterDecorators}):this.props.afterDecorators]})};d.render=function(){var a=b("MercuryShareStyleMap").getStyleFactory(this.props.attachment);if(!a)return null;var c=a.attachment;a=a.factory;return this.$2(h.jsx(b("MessengerErrorBoundary.react"),babelHelpers["extends"]({},this.props,{component:"attachment",children:h.createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({},this.props,{attachment:c,bootloadLoader:a.componentLoader,bootloadPlaceholder:h.jsx("div",{}),key:(c=this)!=null?(c=c.props)!=null?(c=c.attachment)!=null?c.share_id:c:c:c,module:a.componentName,onComponentLoad:this.$3}))})),a.cx&&a.cx.get(this.props.location))};d.$1=function(a){this.props.onComponentLoaded(a)};return c}(h.Component);a.propTypes={attachment:b("MercuryShareAttachmentReactShape"),isFromViewer:(c=b("prop-types")).bool,isPageMessage:c.bool,isSponsored:c.bool,isSubattachment:c.bool,isVisible:c.bool,location:c.oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),messageID:c.string,onComponentLoaded:c.func.isRequired,onSelect:c.func,pageID:c.string,threadID:c.string.isRequired,afterDecorators:c.array,timestamp:c.number,author:c.string,thread:c.object};a.defaultProps={onComponentLoaded:b("emptyFunction")};e.exports=a}),null);
__d("MessengerErrorAttachment.react",["cx","fbt","CurrentUser","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.attachment.error_msg||h._("This attachment could not be loaded.");return i.jsx("div",{className:"_1o12 _52mr",children:i.jsxs("div",{className:"_1o13",children:[a,this.$1()]})})};d.$1=function(){return!this.props.attachment.error_msg&&b("CurrentUser").isEmployee()&&b("CurrentUser").hasWorkUser()&&!b("CurrentUser").isWorkUser()?i.jsx("div",{children:h._("It was probably meant for your \u0040workplace account.")}):null};return c}(i.PureComponent);e.exports=a}),null);
__d("MessengerFileAttachment.bs",["cx","React","Link.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.attachment;var c=a.name;c=c==null?null:c;a=a.url;if(a==null)return null;else return h.jsxs(b("Link.react"),{className:"_4pcn _2uf4",href:a.toString(),target:"_blank",children:[h.jsx("div",{className:"_2uf5"}),c]})}c=a;f.make=c}),null);
__d("MessengerFileAttachment.re",["MessengerFileAttachment.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerFileAttachment.bs").make;f.make=a}),null);
__d("MessengerFromViewerUtils",["CurrentUser","MercuryIDs"],(function(a,b,c,d,e,f){"use strict";function a(a){return a.author===b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID())}e.exports={isFromViewer:a}}),null);
__d("MessengerHotLikePreview.react",["cx","Animation","ChatConfig","CurrentUser","EmojiLikeConstants","HotLikeSound","MercuryShareAttachmentRenderLocations","MessengerDotComAndInboxM4Check.bs","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikePreviewEvents","MessengerHotLikeSVGReact.re","MessengerHotLikeUtils","MessengerSupportedEmojiUtils","React","ReactDOM","StickerConstants","SubscriptionsHandler","gkx","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerHotLikeIconSVGM4React.bs").makeWithGradient,i=b("MessengerHotLikeSVGReact.re").make,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$5=function(){d.$6=new(b("Animation"))(b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d))),(!b("ChatConfig").getBool("chat_tab_has_gradients")||d.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER)&&(d.$7(-2,2,150,1e3),d.$7(-4,4,100,1e3),d.$7(-10,10,75,1e3)),d.$6.go()},d.$2=function(a,c){var e=c?b("MessengerHotLikePreviewEvents").FINISH_EMOJI_ANIMATION:b("MessengerHotLikePreviewEvents").FINISH_ANIMATION;if(d.$8)return;d.$8=!0;c=Date.now()-d.props.since;var f=null;d.props.customLike&&(f=b("MessengerHotLikeUtils").getEmojiSizeForTime(c));var g=b("MessengerHotLikeUtils").getStickerIDForTime(c);b("HotLikeSound").snap(g);c=b("MessengerHotLikeUtils").getMetadataForHotLike(f||g);d.$6.stop();var h=30,i=-10;(g===b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||b("ChatConfig").getBool("chat_tab_has_gradients"))&&(h=0,i=0);d.$4.stop().to("width",c.width*1.2).to("height",c.height*1.2).to("rotateZ",h).duration(100).checkpoint().to("width",c.width*.9).to("height",c.height*.9).to("rotateZ",i).duration(100).checkpoint().to("width",c.width).to("height",c.height).to("rotateZ",0).duration(100).ondone(function(){d.props.forGameChat||b("MessengerHotLikePreviewEvents").emit(e,a,g,f)}).go()},d.$3=function(a){b("HotLikeSound").pop(),d.$4.stop().to("width",0).to("height",0).duration(100).ondone(function(){b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").REMOVE,a)}).go()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions((a=b("MessengerHotLikePreviewEvents")).addListener(a.STOP,this.$2),a.addListener(a.STOP_EMOJI,this.$2),a.addListener(a.POP,this.$3));b("HotLikeSound").start();this.$4=new(b("Animation"))(b("ReactDOM").findDOMNode(this)).to("width",80).to("height",80).duration(3e3).go();this.$5()};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.render=function(){if(this.props.customLike){var a=this.props.customLike,c=b("MessengerSupportedEmojiUtils").getNewEmojiData(a.emoji,b("EmojiLikeConstants").size.LARGE);c=c?c.url:this.props.customLike.large;a.uri&&(c=a.uri);return j.jsx("div",{className:"_4a9g _383m",style:{backgroundImage:"url("+c+")"}})}a=(b("gkx")("1072568")||!b("CurrentUser").isWorkUser())&&this.props.thread!=null?j.jsx(h,{thread:this.props.thread}):j.jsx(i,{color:this.props.customColor});return j.jsx("div",{className:"_4a9g _576q",children:a})};d.$7=function(a,b,c,d){d=Math.floor(d/c);var e;for(var f=0;f<d;f++)e=f%2?a:b,this.$6.to("rotateZ",e).duration(c).checkpoint()};return c}(j.Component);a.propTypes={customLike:b("prop-types").object,forGameChat:b("prop-types").bool,since:b("prop-types").number};e.exports=a}),null);
__d("ChatSpeakingStickerReact.bs",["ReasonReact.bs","ChatSpeakingSticker.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("ChatSpeakingSticker.react"),{videoURI:a,videoSize:c},d)}f.make=a}),null);
__d("MercuryAttachmentPayload.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c=c!==void 0?b("bs_caml_option").valFromOption(c):null;return{app_attribution:null,attach_type:a,blurred_image_uri:null,deduplication_key:null,description:null,icon_type:null,key:c,large_preview_height:null,large_preview_width:null,large_preview_url:null,media:null,metadata:null,message_file_fbid:null,name:null,photo_encodings:null,preview_height:null,preview_uploading:null,preview_url:null,preview_width:null,rel:null,share:null,source:null,target:null,thumbnail_url:null,upload_id:null,uri:null,url:d,video_title:null}}f.create=a}),null);
__d("MessagesViewerSetID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MESSAGES:"messages",MESSAGES_VIEW_ALL_IN_THREAD:"messages:view_all_in_thread"})}),null);
__d("MessagesViewer",["AsyncRequest","DOM","PhotoStore","React","ReactDOM","ge"],(function(a,b,c,d,e,f){var g=b("React");a={renderSpotlight:function(a,c,d,e){var f=a.setID;f||(f="messages");h(g.jsx(d,{actorid:a.actorid,dimensions:[a.dimensions],disablepaging:a.disablePaging,disableForward:a.disableForward,forwardDialogComponent:e,open:!0,photoid:a.fbid,reverse:!1,rootClassName:a.rootClassName,setid:f,snapToPhoto:a.snapToPhoto,thumbsrc:a.src}));if(!b("PhotoStore").hasBeenCreated(f)&&a.endpoint){d=new(b("AsyncRequest"))(a.endpoint);c&&d.setRelativeTo(c);d.send()}},renderVideo:function(a){h(a)}};function h(a){var c=b("ge")("messages_viewer");c||(c=b("DOM").create("div",{id:"messages_viewer"}),document.body.appendChild(c));b("ReactDOM").render(a,c,function(){this.subscribeOnce("close",function(){b("ReactDOM").unmountComponentAtNode(c)})})}e.exports=a}),null);
__d("MessengerAttachmentViewer",["Bootloader","MessagesViewer","React","Run","emptyFunction"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a={renderVideo:function(a){b("Bootloader").loadModules(["MessagingVideoViewer.react","MessengerForwardAttachmentDialogReact.bs"],function(c,d){d=d.jsComponent;b("MessagesViewer").renderVideo(g.jsx(c,babelHelpers["extends"]({},a,{forwardDialogComponent:d})))},"MessengerAttachmentViewer")},bootstrapWithConfig:function(a,c){b("Bootloader").loadModules(["SpotlightMessagesViewer","MessengerForwardAttachmentDialogReact.bs"],function(d,e){e=e.jsComponent;b("MessagesViewer").renderSpotlight(a,c,d,e)},"MessengerAttachmentViewer")},preload:function(){b("Run").onAfterLoad(function(){b("Bootloader").loadModules(["MessagingVideoViewer.react","SpotlightMessagesViewer","MessengerForwardAttachmentDialogReact.bs"],b("emptyFunction"),"MessengerAttachmentViewer")})}};e.exports=a}),null);
__d("MessengerBusinessHideImageBootloaded.react",["cx","CssBackgroundImage.react","ErrorBoundary.react","JSResource","React","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("MessengerBusinessHideImage.react").__setRef("MessengerBusinessHideImageBootloaded.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("ErrorBoundary.react"),{children:h.jsx(h.Suspense,{fallback:h.jsx(b("CssBackgroundImage.react"),{backgroundPosition:"center",imageURI:this.props.thumbnail,className:"_3v3t"}),children:h.jsx(i,{fbid:this.props.fbid,renderSmall:this.props.renderSmall})})})};return c}(h.Component);e.exports=a}),null);
__d("MessengerBusinessHideImageReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerBusinessHideImageBootloaded.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerBusinessHideImageBootloaded.react"),{fbid:b("bs_js_null_undefined").fromOption(a),renderSmall:d,thumbnail:b("bs_js_null_undefined").fromOption(c)},e)}f.make=a}),null);
__d("SphericalPhotoViewerInMessengerThreadBootloaded.react",["cx","BootloadedComponent.react","CssBackgroundImage.react","JSResource","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.photoEncodings&&this.props.thumbnail){var a=this.props.photoEncodings.find(function(a){return a.projection_type==="perspective"}),c=null,d=null;if(a&&a.thumbnails&&a.thumbnails.length>0){a=a.thumbnails;c=a[0]?a[0].uri:null;d=a[1]?a[1].uri:null}if(this.props.useRenderer&&this.props.width&&this.props.height&&this.props.fbid){a=d||c||this.props.thumbnail;return h.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SphericalPhotoViewerInMessengerThreadWrapper.react").__setRef("SphericalPhotoViewerInMessengerThreadBootloaded.react"),bootloadPlaceholder:h.jsx(b("CssBackgroundImage.react"),{backgroundPosition:"center",imageURI:a,className:"_3v3t"}),height:this.props.height,width:this.props.width,fbid:this.props.fbid,thumbnail:a,photoEncodings:this.props.photoEncodings,isVisible:this.props.isVisible,onClickHandler:this.props.onClickHandler})}else{a=c||d||this.props.thumbnail;return h.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SphericalPhotoMessengerThumbnail.react").__setRef("SphericalPhotoViewerInMessengerThreadBootloaded.react"),bootloadPlaceholder:h.jsx(b("CssBackgroundImage.react"),{backgroundPosition:"center",imageURI:a,className:"_3v3t"}),photoEncodings:this.props.photoEncodings,thumbnail:a})}}return null};return c}(h.Component);e.exports=a}),null);
__d("MessengerSphericalPhotoReact.bs",["Utils.bs","ReasonReact.bs","bs_js_null_undefined","SphericalPhotoViewerInMessengerThreadBootloaded.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j){var k;return b("ReasonReact.bs").wrapJsForReason(b("SphericalPhotoViewerInMessengerThreadBootloaded.react"),{height:(k=b("bs_js_null_undefined")).fromOption(a),width:k.fromOption(c),fbid:k.fromOption(d),thumbnail:k.fromOption(e),photoEncodings:k.fromOption(f),isVisible:b("Utils.bs").optionBoolToBool(g),onClickHandler:h,useRenderer:i},j)}f.make=a}),null);
__d("MessengerPhotoReact.bs",["cx","fbt","bs_curry","Image.bs","React","Utils.bs","cssURL","Link.react","bs_caml_option","ReasonReact.bs","joinClasses","bs_caml_primitive","MercuryAttachmentType","MessengerSpinnerReact.bs","bs_caml_builtin_exceptions","MessengerSurfaceQuickChat.bs","MessengerSphericalPhotoReact.bs","MessengerBusinessHideImageReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a,c){var d=a.metadata;if(d==null)return null;else if(a.attach_type===b("MercuryAttachmentType").VIDEO)if(c&&!(d.large_preview==null))return d.large_preview;else return d.inbox_preview;else if(c)return a.large_preview_url;else return a.preview_url}function k(a){if(a==null)return[null,null];else return[a.width,a.height]}function l(a){var c=window.screen.width>1800;if(b("Utils.bs").isTruthy(a.preview_uploading)){var d=function(a,b){if(a==null)return b;else return a};if(c&&!(a.large_preview_url==null))return{width:d(a.large_preview_width,480),height:d(a.large_preview_height,480),src:a.large_preview_url,renderLargePreview:c};else return{width:d(a.preview_width,280),height:d(a.preview_height,280),src:a.preview_url,renderLargePreview:c}}else{d=j(a,c);var e=!(d==null),f=a.metadata;if(e&&!(f==null)){e=c&&!(f.large_size==null)?f.large_size:f.inbox_size;f=k(e);return{width:f[0],height:f[1],src:d,renderLargePreview:c}}if(a.preview_url==null){e=a.media;if(e==null)return;else if(!(e.playable==null)&&!(e.animated_image==null)){f=k(e.animated_image_size);return{width:f[0],height:f[1],src:e.animated_image,renderLargePreview:c}}else{d=k(e.image_size);return{width:d[0],height:d[1],src:e.image,renderLargePreview:c}}}else if(c&&!(a.large_preview_url==null))return{width:a.large_preview_width,height:a.large_preview_height,src:a.large_preview_url,renderLargePreview:c};else return{width:a.preview_width,height:a.preview_height,src:a.preview_url,renderLargePreview:c}}}function m(a){var c=function(a){return""+(String(a)+"")};if(b("Utils.bs").isTruthy(a.preview_uploading))return c(a.preview_url==null?280:0);else{var d=function(a){var b=a[1];a=a[0];if(!(a==null)&&!(b==null))return[a,b]},e=function(a){if(a!==void 0){a=a;return d([a.width,a.height])}};e=a.media==null?d([a.preview_width,a.preview_height]):e(l(a));if(e!==void 0){a=e;return c(b("bs_caml_primitive").caml_float_min(a[1]*b("bs_caml_primitive").caml_float_min(1,450/a[0]),450))}else return}}function n(a){var c=a.metadata,d=a.isAnimated,e=a.className,f=a.attachment;a=a.isSingle;var g=b("MessengerSurfaceQuickChat.bs").useIsQuickChatSurface(0);b("Utils.bs").isTruthy(f.preview_uploading);var h=c.src;if(h==null||!a)return null;else{a=c.renderLargePreview?window.screen.height*.7:window.screen.height*.65;c=g?{maxHeight:""+(String(a)+""),maxWidth:"160px",width:"100%"}:{maxHeight:""+(String(a)+""),maxWidth:"100%",width:"100%"};if(g)a={maxWidth:"160px"};else{g=f.preview_width;f.preview_height;a=g==null?c:{maxWidth:"100%",width:g.toString()+"px"}}return i.jsx("div",{children:b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(b("joinClasses")(e,d?"":"_5pf5"),"",void 0,void 0,h,void 0,void 0,void 0,b("bs_caml_option").some(c),[])),style:a})}}function a(a){var c=a.className,d=a.attachment,e=a.isSingle,f=a.isVisible,g=a.onAttachmentLoad,j=a.onClick;a=a.children;c=c!==void 0?c:"";i.useEffect(function(){g!==void 0&&b("bs_curry")._1(g,0);return},[]);var k=l(d);if(k!==void 0){k=k;var o=d.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE,p=!(d.app_attribution==null),q=d.photo_encodings;q=q==null?!1:q.length!==0;var r=d.blurred_image_uri;r=!(r==null);if((!o||!e)&&!q){var s=k.src;s=s==null?void 0:b("cssURL")(s);var t=e?m(d):void 0;s=[s,t]}else s=[void 0,void 0];t={};var u=s[0];u!==void 0&&(t.backgroundImage=b("bs_caml_option").valFromOption(u));u=s[1];u!==void 0&&(t.minHeight=b("bs_caml_option").valFromOption(u));s=t;u=b("Utils.bs").isTruthy(d.preview_uploading)?i.jsx("span",{children:i.createElement(b("MessengerSpinnerReact.bs").make,{}),className:"_7atr"}):null;t=o?b("MercuryAttachmentType").ANIMATED_IMAGE:void 0;var v=function(a){if(j!==void 0)return b("bs_curry")._1(j,d);else return 0},w=function(a){a.preventDefault();return v(0)};if(q){var x=k.src,y=d.metadata,z;if(y==null)z=void 0;else{y=y.fbid;z=y==null?void 0:b("bs_caml_option").some(y)}y=d.photo_encodings;z=b("ReasonReact.bs").element(void 0,void 0,b("MessengerSphericalPhotoReact.bs").make(400,400,z,x==null?void 0:b("bs_caml_option").some(x),y==null?void 0:b("bs_caml_option").some(y),f,v,e,[]))}else if(r){x=d.metadata;if(x==null)y=void 0;else{f=x.fbid;y=f==null?void 0:b("bs_caml_option").some(f)}x=k.src;z=b("ReasonReact.bs").element(void 0,void 0,b("MessengerBusinessHideImageReact.bs").make(y,x==null?void 0:b("bs_caml_option").some(x),!1,[]))}else z=i.createElement(n,{metadata:k,isAnimated:e&&o,className:(p?"_mxz":"")+(e&&!p?" _52mr":"")+(e&&!p?" _1byr":""),attachment:d,isSingle:e});if(r)f=null;else{y={"aria-label":h._("Open Photo"),className:"_4tsl",children:a};x=b("bs_caml_option").nullable_to_opt(k.src);x!==void 0&&(y.href=b("bs_caml_option").valFromOption(x));f=i.createElement(b("Link.react"),y)}return i.cloneElement(i.jsxs("div",{children:[i.jsx("div",{className:q&&!e?"_64ks":""}),f,z,u],className:b("joinClasses")(c,"_4tsk"+(p?" _mxz":"")+(e&&!p?" _52mr":"")+(e&&!p?" _1byr":"")+(b("Utils.bs").isTruthy(d.preview_uploading)&&k.src==null?" _3etv":"")+(q&&!e?" _3603":"")),role:"presentation",style:s,onClick:w}),{"data-testid":t})}else return null}c=280;d=480;e=1800;g=450;var o=n;a=a;f.preview_thumbnail_size=c;f.preview_large_size=d;f.large_window_width=e;f.max_photo_width=g;f.getSrcFromAttachment=j;f.sizeToWidthHeight=k;f.extractPreviewMetadata=l;f.getMinHeightForAttachment=m;f.getImageFromMetadata=o;f.make=a}),null);
__d("MessengerSharedMediaActions",["MessengerFluxReduceDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({CURRENT_LOADED:null,DELETE_PHOTOS:null,LATEST_LOADED:null,LOAD_CURRENT:null,LOAD_MORE_LATEST:null,LOAD_MORE_PREVIOUS:null,PREVIOUS_LOADED:null}),h="MessengerSharedMedia";a={Types:g,Namespace:h,currentLoaded:function(a){b("MessengerFluxReduceDispatcher").dispatch({type:g.CURRENT_LOADED,namespace:h,data:a})},deletePhotos:function(a,c){b("MessengerFluxReduceDispatcher").dispatch({type:g.DELETE_PHOTOS,namespace:h,threadFBID:a,photoFBIDs:c})},loadCurrent:function(a,c){b("MessengerFluxReduceDispatcher").dispatch({type:g.LOAD_CURRENT,namespace:h,threadFBID:a,photoID:c})},loadMorePrevious:function(a,c,d){b("MessengerFluxReduceDispatcher").dispatch({type:g.LOAD_MORE_PREVIOUS,namespace:h,threadFBID:a,afterCursor:c,first:d})},loadMoreLatest:function(a,c,d){b("MessengerFluxReduceDispatcher").dispatch({type:g.LOAD_MORE_LATEST,namespace:h,threadFBID:a,beforeCursor:c,last:d})},previousLoaded:function(a){b("MessengerFluxReduceDispatcher").dispatch({type:g.PREVIOUS_LOADED,namespace:h,data:a})},latestLoaded:function(a){b("MessengerFluxReduceDispatcher").dispatch({type:g.LATEST_LOADED,namespace:h,data:a})}};e.exports=a}),null);
__d("MessengerThreadSharedMediaAfterWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1668947383157276"};b.getQueryID=function(){return"515216185516880"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerThreadSharedMediaBeforeWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1712143858865110"};b.getQueryID=function(){return"1694317194012102"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerThreadSharedMediaFindWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1933185426727404"};b.getQueryID=function(){return"237087923629184"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerSharedMediaReducer",["MessengerSharedMediaActions","MessengerThreadSharedMediaHelper"],(function(a,b,c,d,e,f){"use strict";var g=b("MessengerSharedMediaActions").Types;function a(a,c){switch(c.type){case g.LOAD_CURRENT:var d=a.get("sharedMedia").get(c.threadFBID);if(d){d=d.edges.find(function(a){return a.node.legacy_attachment_id===c.photoID});if(d)return a}d=a.get("isLoading").get(c.threadFBID);if(!!d&&d.curr)return a;d=l(a,c.threadFBID,"curr",!0);b("MessengerThreadSharedMediaHelper").search(c.threadFBID,c.photoID,function(a){return b("MessengerSharedMediaActions").currentLoaded(a)});return d}return a}function c(a,c){switch(c.type){case g.LOAD_MORE_PREVIOUS:var d=a.get("isLoading").get(c.threadFBID);if(!!d&&d.prev)return a;d=l(a,c.threadFBID,"prev",!0);if(d===null)return a;b("MessengerThreadSharedMediaHelper").loadMorePrevious(c.threadFBID,c.afterCursor,c.first,function(a){return b("MessengerSharedMediaActions").previousLoaded(a)});return d}return a}function d(a,c){switch(c.type){case g.LOAD_MORE_LATEST:var d=a.get("isLoading").get(c.threadFBID);if(!!d&&d.latest)return a;d=l(a,c.threadFBID,"latest",!0);if(d===null)return a;b("MessengerThreadSharedMediaHelper").loadMoreLatest(c.threadFBID,c.beforeCursor,c.last,function(a){return b("MessengerSharedMediaActions").latestLoaded(a)});return d}return a}function f(a,c){var d;switch(c.type){case g.CURRENT_LOADED:c=c.data;var e=Object.keys(c)[0];c=(c=c[e])!=null?c.message_shared_media:c;d=(d=c)!=null?(d=d.edges)!=null?d.length:d:d;var f=l(a,e,"curr",!1);if(d!==0&&c){d=k(a.get("sharedMedia").get(e),c,0);d=a.get("sharedMedia").set(e,d);f=f.set("sharedMedia",d);d=c.edges[0];b("MessengerThreadSharedMediaHelper").loadMorePrevious(e,d.cursor,10,function(a){return b("MessengerSharedMediaActions").previousLoaded(a)});b("MessengerThreadSharedMediaHelper").loadMoreLatest(e,d.cursor,10,function(a){return b("MessengerSharedMediaActions").latestLoaded(a)})}return f}return a}function h(a,b){switch(b.type){case g.PREVIOUS_LOADED:b=b.data;var c=Object.keys(b)[0];b=b[c].message_shared_media;var d=l(a,c,"prev",!1);b=k(a.get("sharedMedia").get(c),b,1);c=a.get("sharedMedia").set(c,b);d=d.set("sharedMedia",c);return d}return a}function i(a,b){switch(b.type){case g.LATEST_LOADED:b=b.data;var c=Object.keys(b)[0];b=b[c].message_shared_media;var d=l(a,c,"latest",!1);b=k(a.get("sharedMedia").get(c),b,-1);c=a.get("sharedMedia").set(c,b);d=d.set("sharedMedia",c);return d}return a}function j(a,b){switch(b.type){case g.DELETE_PHOTOS:var c=b.threadFBID;b=b.photoFBIDs;var d=a.get("sharedMedia").get(c);if(!d||!d.edges)break;var e=new Set(b.map(function(a){return a.toString()}));d.edges=d.edges.filter(function(a){return!e.has(a.node.legacy_attachment_id)});b=a.get("sharedMedia").set(c,d);c=a.set("sharedMedia",b);return c}return a}function k(a,b,c){var d={};d.count=b.count;if(c===1&&a){var e=a.edges;d.has_previous_page=a.has_previous_page;d.has_next_page=b.page_info.has_next_page;b.edges.length>0?d.edges=e.concat(b.edges):d.edges=e}else if(c===-1&&a){e=a.edges;d.has_previous_page=b.page_info.has_previous_page;d.has_next_page=a.has_next_page;b.edges.length>0?d.edges=b.edges.concat(e):d.edges=e}else d.has_previous_page=b.page_info.has_previous_page,d.has_next_page=b.page_info.has_next_page,b.edges.length>0&&(d.edges=b.edges);return d}function l(a,b,c,d){var e=a.get("isLoading").get(b);e===void 0?(e={},e[c]=d):e[c]=d;c=a.set("isLoading",a.get("isLoading").set(b,e));return c}f={currentLoaded:f,deletePhotos:j,latestLoaded:i,loadCurrent:a,loadMoreLatest:d,loadMorePrevious:c,previousLoaded:h};e.exports=f}),null);
__d("MessengerSharedMediaState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={sharedMedia:b("immutable").Map({}),isLoading:b("immutable").Map({})};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("MessengerSharedMediaStore",["FluxReduceStore","MessengerFluxReduceDispatcher","MessengerSharedMediaActions","MessengerSharedMediaReducer","MessengerSharedMediaState"],(function(a,b,c,d,e,f){"use strict";var g=Object.keys(b("MessengerSharedMediaReducer"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("MessengerSharedMediaState"))()};d.reduce=function(a,c){if(c.namespace!==b("MessengerSharedMediaActions").Namespace)return a;g.forEach(function(d){a=b("MessengerSharedMediaReducer")[d](a,c)});return a};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("MessengerFluxReduceDispatcher"))}),null);
__d("MessengerSharedPhotosAlbumViewPhotoReact.bs",["fbt","bs_curry","React","cssURL","bs_belt_Option","bs_caml_option"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=h.forwardRef(function(a,c){var d=a.className,e=a.fbid,f=a.onClick,i=a.uri;a=a.children;c=c;a={children:a,"aria-label":g._("Photo"),className:d,style:{backgroundImage:b("cssURL")(i)},href:"#",onClick:function(a){return b("bs_curry")._1(f,e)}};d=b("bs_belt_Option").map(c==null?void 0:b("bs_caml_option").some(c),function(a){return a});d!==void 0&&(a.ref=b("bs_caml_option").valFromOption(d));return h.jsx("a",a)});f.make=a}),null);
__d("MessengerSharedPhotosAlbumViewVScrollReact.bs",["cx","FBID.bs","bs_curry","React","bs_string","ReactDOM","Animation","bs_caml_array","bs_caml_option","setInterval","clearInterval","bs_caml_builtin_exceptions","MessengerSharedMediaActions","MessengerSharedPhotosAlbumViewPhotoReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){if(a!==void 0){a=b("bs_caml_option").valFromOption(a);return(a.scrollTop+a.clientHeight|0)>=(a.scrollHeight-20|0)}else throw b("bs_caml_builtin_exceptions").not_found}function j(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a).scrollTop<=20;else throw b("bs_caml_builtin_exceptions").not_found}function k(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a).clientHeight;else throw b("bs_caml_builtin_exceptions").not_found}function l(a,c){if(a!==void 0){new(b("Animation"))(b("bs_caml_option").valFromOption(a)).to("scrollTop",c).duration(200).go();return 0}else return 0}function m(a){var c=a.child;if(c!==void 0)return l(a.childContainer,b("ReactDOM").findDOMNode(b("bs_caml_option").valFromOption(c)).offsetTop-70|0);else return 0}function n(a){a=a.interval;if(a!==void 0){b("clearInterval")(b("bs_caml_option").valFromOption(a));return 0}else return 0}function a(a){var c=a.isLoading,d=a.onClick,e=a.sharedPhotos,f=a.threadID,g=a.totalCount,l=a.viewedPhoto,o=h.useRef({interval:void 0,childContainer:void 0,child:void 0,scrollable:void 0}),p=function(a){a=e.length;if(i(o.current.childContainer))if(a<g&&!c.prev){b("MessengerSharedMediaActions").loadMorePrevious(f,b("bs_caml_array").caml_array_get(e,e.length-1|0).cursor,48);return 0}else return 0;else if(j(o.current.childContainer)&&!c.latest){b("MessengerSharedMediaActions").loadMoreLatest(f,b("bs_caml_array").caml_array_get(e,0).cursor,48);return 0}else return 0},q=function(a){a=e.length;if(a<48){b("MessengerSharedMediaActions").loadMorePrevious(f,b("bs_caml_array").caml_array_get(e,e.length-1|0).cursor,48);return 0}else return 0},r=function(a){var c=a.childContainer;c=c!==void 0?(b("bs_caml_option").valFromOption(c).addEventListener("scroll",p),function(c){c=a.childContainer;if(c!==void 0)return b("bs_caml_option").valFromOption(c).removeEventListener("scroll",p);else return 0}):function(a){return 0};q(0);var d=function(c){if(k(a.scrollable)>0){m(a);c=a.interval;if(c!==void 0){b("clearInterval")(b("bs_caml_option").valFromOption(c));a.interval=void 0;return 0}else return 0}else return 0};a.interval=b("bs_caml_option").some(b("setInterval")(d,200));return c};a=function(a){o.current.childContainer=a==null?void 0:b("bs_caml_option").some(a);return 0};var s=function(a){o.current.scrollable=a==null?void 0:b("bs_caml_option").some(a);return 0},t=function(a){o.current.child=a==null?void 0:b("bs_caml_option").some(a);return 0};h.useEffect(function(){var a=r(o.current);return function(c){n(o.current);return b("bs_curry")._1(a,0)}},[]);return h.jsx("div",{children:h.jsx("div",{children:e.map(function(a){a=a.node;var c=a.photo_encodings;c=c==null?!1:c.length!==0;var e=a.photo_encodings,f,g=0;if(c&&!(e==null)){e=e.find(function(a){return a.projection_type==="perspective"});if(e!==void 0){e=e.thumbnails;if(e.length!==0)f=e[0].uri;else{e=a.image1;f=e==null?void 0:e.uri}}else{e=a.image1;f=e==null?void 0:e.uri}}else g=1;if(g===1){e=a.image1;f=e==null?void 0:e.uri}if(f!==void 0){g={className:"_3bly"+(c?" _3603":""),fbid:b("FBID.bs").ofStringExn(a.legacy_attachment_id),onClick:d,uri:f,children:h.jsx("div",{className:c?"_64ks":""},b("bs_string").concat("_",[a.legacy_attachment_id,["spherical_gradient",0]]))};e=a.legacy_attachment_id===l?t:void 0;e!==void 0&&(g.ref=b("bs_caml_option").valFromOption(e));return h.jsx(b("MessengerSharedPhotosAlbumViewPhotoReact.bs").make,g,a.legacy_attachment_id)}else return null}),ref:s,className:"_3xoa"}),ref:a,className:"_3xo8",onScroll:p})}c=200;d=48;e=6;g=20;var o=70,p=a;a=a;f.animationDuration=c;f.imagesToLoad=d;f.photosPerRow=e;f.scrollToEdgeTolerance=g;f.headerHeight=o;f.isScrolledToBottom=i;f.isScrolledToTop=j;f.getScrollHeight=k;f.scrollTo=l;f.autoScrollWhenLoaded=m;f.willUnmount=n;f.make=p;f.jsComponent=a}),null);
__d("MessengerSharedPhotosAlbumView.react",["cx","fbt","MessengerPhotoViewCloseLinkReact.re","MessengerSharedPhotosAlbumViewVScrollReact.bs","React","ShimButton.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MessengerPhotoViewCloseLinkReact.re").make,j=b("MessengerSharedPhotosAlbumViewVScrollReact.bs").jsComponent,k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(){c.props.onClick(c.props.viewedPhoto)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return k.jsxs("div",{className:"_3bl- _5l-3",ref:"window",children:[this.$1(),k.jsx(j,{isLoading:this.props.isLoading,onClick:this.props.onClick,sharedPhotos:this.props.sharedPhotos,threadID:this.props.threadID,totalCount:this.props.totalCount,viewedPhoto:this.props.viewedPhoto})]})};d.$1=function(){return k.jsxs("div",{className:"_3bm0 _5l-3",ref:"header",children:[k.jsxs(b("ShimButton.react"),{className:"_3bm2",onClick:this.$2,children:[k.jsx("div",{className:"_3bm3"}),h._("Back to photo")]}),k.jsx("div",{className:"_3bm4",children:h._("Shared Photos")}),k.jsx(i,{onClick:this.props.onCloseSharedPhotos})]})};return c}(k.Component);a.propTypes={onClick:(c=b("prop-types")).func.isRequired,onCloseSharedPhotos:c.func.isRequired,sharedPhotos:c.arrayOf(c.object).isRequired,totalCount:c.number.isRequired,viewedPhoto:c.string.isRequired,threadID:c.string.isRequired,isLoading:c.object.isRequired};e.exports=a}),null);
__d("MessengerSharedPhotosAlbumViewContainer.react",["FluxContainer","MessengerSharedMediaStore","MessengerSharedPhotosAlbumView.react","React","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={edges:[],count:0,isLoading:{}},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("MessengerSharedMediaStore")]};c.calculateState=function(a,c){a=b("MessengerSharedMediaStore").getState();var d=a.sharedMedia;return{edges:d.get(c.threadID).edges,count:d.get(c.threadID).count,isLoading:a.isLoading.get(c.threadID)}};var d=c.prototype;d.render=function(){return this.state.edges.length===0?null:g.jsx(b("MessengerSharedPhotosAlbumView.react"),{onClick:this.props.onClick,onCloseSharedPhotos:this.props.onCloseSharedPhotos,sharedPhotos:this.state.edges,totalCount:this.state.count,viewedPhoto:this.props.viewedPhoto,threadID:this.props.threadID,isLoading:this.state.isLoading})};return c}(g.PureComponent);a.propTypes={onClick:(c=b("prop-types")).func.isRequired,onCloseSharedPhotos:c.func.isRequired,viewedPhoto:c.string.isRequired,threadID:c.string};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MessageShareType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMAGE:"image",PLATFORM_SHARE_CTA:"platform_share_CTA"})}),null);
__d("MessengerComposeViewHeaderReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerComposeViewHeader.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l){return b("ReasonReact.bs").wrapJsForReason(b("MessengerComposeViewHeader.react"),{className:b("bs_js_null_undefined").fromOption(a),forceHideClearButton:c,onClear:b("bs_js_null_undefined").fromOption(d),onAddRecipient:e,onRemoveRecipient:f,onResize:g,recipients:h,viewer:i,isWorkUser:j,tabIndex:b("bs_js_null_undefined").fromOption(k)},l)}f.make=a}),null);
__d("MessengerDialogCancelButton.react",["fbt","MessengerDialogButton.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("MessengerDialogButton.react"),babelHelpers["extends"]({action:"cancel",label:g._("Cancel"),type:"secondary"},this.props))};return c}(h.PureComponent);e.exports=a}),null);
__d("MessengerDialogReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerDialog.react","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogCancelButton.react"],(function(a,b,c,d,e,f){"use strict";function g(a){if(a!==void 0)switch(a){case 0:return"cancel";case 1:return"button";case 2:return"confirm"}}function h(a){if(a!==void 0)if(a)return"secondary";else return"primary"}function a(a,c,d,e,f,g,h,i,j,k,l){var m;return b("ReasonReact.bs").wrapJsForReason(b("MessengerDialog.react"),{className:(m=b("bs_js_null_undefined")).fromOption(a),label:m.fromOption(c),onToggle:m.fromOption(d),repositionOnUpdate:m.fromOption(e),shown:m.fromOption(f),titleID:m.fromOption(g),type:m.fromOption(h),width:m.fromOption(i),removeDialogOnToggle:m.fromOption(j),causalElement:m.fromOption(k)},l)}a={make:a};var i={};function c(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("MessengerDialogFooter.react"),{className:b("bs_js_null_undefined").fromOption(a),leftContent:b("bs_js_null_undefined").fromOption(c)},d)}c={make:c};var j={};function d(a,c){return b("ReasonReact.bs").wrapJsForReason(b("MessengerDialogCancelButton.react"),{onClick:b("bs_js_null_undefined").fromOption(a)},c)}d={make:d};var k={};function e(a,c,d,e,f,i,j,k,l,m){var n;return b("ReasonReact.bs").wrapJsForReason(b("MessengerDialogButton.react"),{action:(n=b("bs_js_null_undefined")).fromOption(g(a)),label:n.fromOption(c),disabled:n.fromOption(d),use:n.fromOption(e),onClick:n.fromOption(f),type:n.fromOption(h(i)),className:n.fromOption(j),leftContent:n.fromOption(k),ariaLabel:n.fromOption(l)},m)}e={make:e};var l={},m={},n=0,o=0,p=0;f.stringOfButtonAction=g;f.stringOfButtonType=h;f.Dialog=a;f.Dialog2=i;f.Header=n;f.Title=o;f.Footer=c;f.Footer2=j;f.CancelButton=d;f.CancelButtonJsx3=k;f.Button=e;f.ButtonJsx3=l;f.Body=p;f.Body2=m}),null);
__d("XMessagingForwardAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/forward/",{})}),null);
__d("XMessengerPlatformShareCTAController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/platform/share/",{})}),null);
__d("MessengerForwardAttachmentDialogReact.bs",["ix","cx","fbt","bs_block","bs_curry","Image.bs","React","immutable","bs_caml_option","CurrentUser","fbglyph","ReasonReact.bs","AsyncRequest","MercuryLocalIDs","MessageShareType","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerSpinnerReact.bs","MessengerDialogBodyReact.bs","MessengerDialogTitleReact.bs","MessengerDialogHeaderReact.bs","MessengerComposeViewHeaderReact.bs","XMessengerPlatformShareCTAController","XMessagingForwardAttachmentController"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=i._("Send"),l=b("ReasonReact.bs").reducerComponent("MessengerForwardAttachmentDialogReact");function m(a,c,d){new(b("AsyncRequest"))(a.getURIBuilder().getURI()).setMethod("POST").setHandler(d).setData(c).send();return 0}function n(a,c,d,e,f,h,n){var o=function(a){if(a)return 0;else{b("MessengerDialogs.bs").removeDialog(void 0,0);return b("bs_curry")._1(c,0)}},p=function(c,e){var f=e.send;c=function(a){if(a.payload.success)return b("bs_curry")._1(f,2);else return b("bs_curry")._1(f,b("bs_block").__(2,[b("bs_caml_option").nullable_to_opt(a.payload.error)]))};var g={};e.state.recipients.forEach(function(c,a,d){g[String(b("MercuryLocalIDs").generateOfflineThreadingID(void 0))]=c.getUniqueID();return!0});var i=0;h!==void 0&&d!==void 0&&b("bs_caml_option").valFromOption(h)===b("MessageShareType").PLATFORM_SHARE_CTA?m(b("XMessengerPlatformShareCTAController"),{cta_id:a,message_id:b("bs_caml_option").valFromOption(d),recipient_map:g},c):i=1;i===1&&m(b("XMessagingForwardAttachmentController"),{attachment_id:a,recipient_map:g},c);return b("bs_curry")._1(e.send,1)};return{debugName:l.debugName,reactClassInternal:l.reactClassInternal,handedOffState:l.handedOffState,getDerivedStateFromProps:l.getDerivedStateFromProps,didMount:l.didMount,didUpdate:l.didUpdate,willUnmount:l.willUnmount,shouldUpdate:l.shouldUpdate,render:function(a){var c=a.state,d=c.sending,h=c.sendError;if(d)d=j.jsxs("div",{children:[j.createElement(b("MessengerSpinnerReact.bs").make,{}),j.jsx("span",{children:i._("Sending"),className:"_1e1n _3-99"})]});else if(h!==void 0){var l=g("141787");d=j.jsxs("div",{children:[b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,l,void 0,void 0,void 0,void 0,[])),j.jsx("span",{children:h,className:"_3-99"})],className:"_1e1n"})}else d=null;l=c.recipients.isEmpty()||c.sending;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,o,void 0,e,void 0,void 0,560,void 0,void 0,[j.createElement(b("MessengerDialogHeaderReact.bs").make,{children:j.createElement(b("MessengerDialogTitleReact.bs").make,{children:f})}),j.createElement(b("MessengerDialogBodyReact.bs").make,{children:b("ReasonReact.bs").element(void 0,void 0,b("MessengerComposeViewHeaderReact.bs").make("_1e1o",!1,function(c){return b("bs_curry")._1(a.send,0)},function(c){return b("bs_curry")._1(a.send,b("bs_block").__(0,[c]))},function(c){return b("bs_curry")._1(a.send,b("bs_block").__(1,[c]))},function(a){return 0},c.recipients,b("CurrentUser").getID(),b("CurrentUser").isWorkUser(),0,[]))}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,b("bs_caml_option").some(d),[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(2,k,l,void 0,b("bs_curry")._1(a.handle,p),0,void 0,void 0,l?i._("Disabled send button"):k,[]))]))]))},initialState:function(a){return{recipients:b("immutable").List([]),sendError:void 0,sending:!1}},retainedProps:l.retainedProps,reducer:function(a){if(typeof a==="number")switch(a){case 0:return function(a){return b("bs_block").__(0,[{recipients:b("immutable").List([]),sendError:a.sendError,sending:a.sending}])};case 1:return function(a){return b("bs_block").__(0,[{recipients:a.recipients,sendError:void 0,sending:!0}])};case 2:b("bs_curry")._1(c,0);return function(a){return b("bs_block").__(0,[{recipients:b("immutable").List([]),sendError:void 0,sending:!1}])}}else switch(a.tag|0){case 0:var d=a[0];return function(a){return b("bs_block").__(0,[{recipients:a.recipients.push(d),sendError:a.sendError,sending:a.sending}])};case 1:var e=a[0];return function(a){return b("bs_block").__(0,[{recipients:a.recipients.filter(function(a){return a!==e}),sendError:a.sendError,sending:a.sending}])};case 2:var f=a[0];return function(a){return b("bs_block").__(0,[{recipients:a.recipients,sendError:f,sending:!1}])}}},jsElementWrapped:l.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(l,function(a){return n(a.attachmentID,a.onClose,b("bs_caml_option").nullable_to_opt(a.messageID),a.shown,a.title,b("bs_caml_option").nullable_to_opt(a.shareType),[])});f.sendButtonLabel=k;f.component=l;f.sendData=m;f.make=n;f.jsComponent=a}),null);
__d("MessengerPhotoViewBottomBarReact.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.children;return h.jsx("div",{children:a,className:"_51an _50-m _16zz"})}c=a;f.make=c}),null);
__d("MessengerPhotoViewBottomBarReact.re",["MessengerPhotoViewBottomBarReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerPhotoViewBottomBarReact.bs").make;f.make=a}),null);
__d("MessengerPhotoViewHScroll.react",["cx","Animation","MessengerSharedPhotoReact.re","React","SphericalPhotoUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerSharedPhotoReact.re").make,i=b("React"),j=b("SphericalPhotoUtils").getThumbnailsFromPhotoEncodings,k=200,l=80;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$2()};d.componentDidUpdate=function(){this.$2()};d.componentWillUnmount=function(){this.$1&&this.$1.stop(),this.$1=null};d.render=function(){var a=this,b=this.props.sharedPhotos;b=b.reduce(function(b,c){var d=c.node.image1===null?c.node.image:c.node.image1,e=c.node.photo_encodings?c.node.photo_encodings.length!==0:!1;if(d){d=d.uri;if(e){var f=j(c.node.photo_encodings);f=f.smallThumbnail;d=f||d}b.push(i.jsx("div",{className:"_4dy9",children:i.jsx(h,{className:"_42rl"+(a.props.photoID!==c.node.legacy_attachment_id?" _q1a":""),fbid:c.node.legacy_attachment_id,onClick:a.props.onScroll,uri:d,isSpherical:e})},c.node.legacy_attachment_id))}return b},[]);var c=(this.props.width-l)/2;return i.jsx("div",{className:(this.props.blurSupported?"":"_99ro")+" _463g",children:i.jsx("div",{className:"_463h",ref:"childContainer",children:i.jsx("div",{className:"_463j",style:{paddingLeft:c,paddingRight:c},ref:"scrollable",children:b})})})};d.$2=function(){var a=this,c=this.refs.childContainer?this.refs.childContainer.scrollLeft:0,d=this.props.sharedPhotos.findIndex(function(b){return b.node.legacy_attachment_id===a.props.photoID});d=d*l;this.$1||(this.$1=new(b("Animation"))(this.refs.childContainer));this.$1.from("scrollLeft",c).to("scrollLeft",d).duration(k).go()};return c}(i.PureComponent);e.exports=a}),null);
__d("MessengerPhotoViewHeader.react",["cx","fbt","MessagingForwardingButtonNUX.react","MessengerPhotoViewCloseLinkReact.re","React","SpotlightViewerBottomBarLink","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MessengerPhotoViewCloseLinkReact.re").make,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.refs.forwardNUX&&c.refs.forwardNUX.close(),c.props.showForwardDialog&&c.props.showForwardDialog()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return j.jsxs("div",{className:"_51an _50-m _3c1i _5l-3",role:"banner",children:[this.$1(),this.$2()]})};d.$2=function(){var a;return j.jsx(i,{onClick:(a=this.props.onClose)!=null?a:b("emptyFunction")})};d.$1=function(){var a=this,c,d;this.props.disableForward!==!0&&(c=j.jsxs(b("SpotlightViewerBottomBarLink"),{className:"_3c1o",onClick:this.$3,ref:"forwardButton",children:[j.jsx("div",{className:"_2msr _3oo2"}),h._("Forward")]}),d=j.jsx(b("MessagingForwardingButtonNUX.react"),{contextRef:function(){return a.refs.forwardButton},ref:"forwardNUX",children:h._("Send this image to other people in separate messages.")}));return j.jsxs("div",{ref:"buttons",className:"_99rn",children:[j.jsxs(b("SpotlightViewerBottomBarLink"),{ajaxify:this.props.url,className:"_3c1o",rel:"async",children:[j.jsx("div",{className:"_3ooo _2msr"}),h._("Download")]}),c,d,j.jsxs(b("SpotlightViewerBottomBarLink"),{className:"_3c1o",href:"#",onClick:this.props.openInfo,ref:"moreInfo",children:[j.jsx("div",{className:"_3c1k _2msr"}),h._("Info")]})]},"buttonsContainer")};return c}(j.PureComponent);e.exports=a}),null);
__d("XMessagingVideoAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/video/",{video_id:{type:"String",required:!0},video_container_id:{type:"String",required:!0},width:{type:"Int",required:!0},height:{type:"Int",required:!0},start_muted:{type:"Bool",defaultValue:!1},no_fullscreen:{type:"Bool",defaultValue:!1},load_player_controller:{type:"Bool",defaultValue:!1},hide_controls_on_finish:{type:"Bool",defaultValue:!1},hide_url_menu_option:{type:"Bool",defaultValue:!1},is_share:{type:"Bool",defaultValue:!1},render_play_button:{type:"Bool",defaultValue:!1},start_timestamp:{type:"Int",defaultValue:0},native_thumbnail:{type:"Bool",defaultValue:!1}})}),null);
__d("MessengerVideoPlayer.react",["cx","ActorURI","AsyncRequest","BackgroundImage.react","Event","FullScreen","MessengerSpinner.react","React","ShimButton.react","SpotlightMercurySharedMediaViewer.react","SubscriptionsHandler","Vector","VideoPlayerReasonTransitionHelper","XMessagingVideoAttachmentController","cssURL","getFullScreenElement","guid","joinClasses","prop-types","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="_ox1",j="_27db";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d,e;e=a.call(this,c)||this;e.$2=!0;e.$3=[];e.$4=-1;e.$5=!1;e.$6=!1;e.state={playerAPI:null,forcePause:!!((d=e.props.videoData)==null?void 0:d.disableAutoplay),loaded:!1};e.$10=function(a){if(e.isVideoControlClicked(a)){a.preventDefault();a.stopPropagation();return}if(!e.isVideoClicked(a))return;a.preventDefault();e.props.isOnStage?(a.stopPropagation(),e.isState("playing")?e.pause("user_initiated"):e.play("user_initiated")):(e.pause("user_initiated"),e.props.onClick&&e.props.onClick())};e.$11=function(a){if(!e.isRightClick(a))return;a.stopPropagation();a.preventDefault();b("setImmediate")(function(){e.props.onSelect&&e.props.onSelect()})};e.$8=function(){if(!e.$2||e.state.forcePause)return;e.$6&&(e.play(new(b("VideoPlayerReasonTransitionHelper"))("page_visibility_initiated")),e.$6=!1)};e.$7=function(){if(!e.$2||e.state.forcePause||!(e.state.playerAPI&&e.state.playerAPI.isMuted()))return;e.$6=!!e.state.playerAPI&&e.state.playerAPI.isState("playing");e.pause()};e.$1=b("guid")();e.$2=!((d=c.videoData)==null?void 0:d.disableAutoplay);e.props.isInThread&&(e.listeners=new(b("SubscriptionsHandler"))(),e.listeners.addSubscriptions(b("Event").listen(window,"blur",e.$7),b("Event").listen(window,"focus",e.$8)));return e}var d=c.prototype;d.shouldComponentUpdate=function(a){var c=document.getElementById(this.$1.toString()),d=b("FullScreen").isFullScreen();if(c!=null&&d&&c.children[0].children[0]===b("getFullScreenElement")())return!1;d=!!(a.stageDimensions&&a.stageDimensions!==this.props.stageDimensions);d&&(this.$4=this.getCurrentTimePosition(),this.$5=!this.isState("playing"));return!this.props.videoData||a.videoData.id!==this.props.videoData.id||d};d.UNSAFE_componentWillReceiveProps=function(a){if(!this.$2)return;this.props.isInThread&&a.isVisible!==this.props.isVisible&&(a.isVisible&&!this.state.forcePause?this.play(new(b("VideoPlayerReasonTransitionHelper"))("video_visibility_initiated")):this.pause())};d.componentDidMount=function(){this.props.videoData&&this.$9()};d.componentDidUpdate=function(){this.$3.forEach(function(a){return a.abandon()}),this.$3=[],this.props.videoData&&this.$9()};d.componentWillUnmount=function(){this.pause("unloaded"),this.seek(0),this.$3.forEach(function(a){return a.abandon()}),this.listeners&&this.listeners.release(),this.state.playerAPI&&this.state.playerAPI.detachRootNode(),this.state.playerAPI&&this.state.playerAPI.destroy&&this.state.playerAPI.destroy()};d.isVideoLoaded=function(){var a=!!this.state.playerAPI;!a;return this.isState("fallback")?!1:a};d.isVideoClicked=function(a){return a.target instanceof HTMLElement?a.target.classList.contains(i):!1};d.isVideoControlClicked=function(a){var b=document.getElementsByClassName(j);for(var c=0;c<b.length;c++){var d=a.target;if(b[c].contains(d))return!0}return!1};d.isRightClick=function(a){a=a||window.event;return a.button===2};d.play=function(a){if(!this.isVideoLoaded())return;this.state.playerAPI&&this.state.playerAPI.play(a)};d.pause=function(a){if(!this.isVideoLoaded())return;this.state.playerAPI&&this.state.playerAPI.pause(a)};d.seek=function(a){if(!this.isVideoLoaded())return;this.state.playerAPI&&this.state.playerAPI.seek(a)};d.getCurrentTimePosition=function(){return this.isVideoLoaded()&&this.state.playerAPI?this.state.playerAPI.getCurrentTimePosition():-1};d.render=function(){var a=this.props.videoData,c=h.jsx("div",{ref:"placeholder",children:h.jsx(b("MessengerSpinner.react"),{color:"blue",size:b("MessengerSpinner.react").large_size})}),d={};if(a&&a.url){var e=a.original_dimensions;d.backgroundImage=this.state.loaded?b("cssURL")(a.url):"none";c=h.jsx("div",{ref:"placeholder",children:h.jsx(b("BackgroundImage.react"),{className:this.props.className,width:e.x,height:e.y,loadingIndicatorStyle:"large",backgroundSize:"cover",ref:"placeholder",style:d,src:a.url})})}return h.jsx(b("ShimButton.react"),{className:b("joinClasses")(this.props.className,"_4-od"),id:this.$1,onClick:this.$10,onMouseDown:this.$11,style:d,children:c})};d.$9=function(){var a=this,c=this.props.videoData;if(c){var d=c.original_dimensions;this.props.stageDimensions&&(d=b("SpotlightMercurySharedMediaViewer.react").getImageDimensionsForStage(new(b("Vector"))(c.original_dimensions.x,c.original_dimensions.y),this.props.stageDimensions));d=b("XMessagingVideoAttachmentController").getURIBuilder().setString("video_id",c.legacy_attachment_id).setString("video_container_id",this.$1).setInt("width",d.x).setInt("height",d.y).setInt("start_timestamp",this.$4>0?Math.round(this.$4):0).setBool("start_muted",c.start_muted).setBool("no_fullscreen",c.no_fullscreen).setBool("load_player_controller",!0).setBool("hide_controls_on_finish",c.hide_controls_on_finish).setBool("native_thumbnail",c.disableAutoplay).setBool("hide_url_menu_option",Boolean(c.hide_url_menu_option)).setBool("is_share",c.is_share).setBool("render_play_button",this.props.isInThread).getURI();c=this.props.attachment;c&&c.metadata&&c.metadata.pageid&&(d=b("ActorURI").create(d,c.metadata.pageid));var e=new(b("AsyncRequest"))();this.$3.push(e);e.setMethod("GET").setStatusElement(this.refs.placeholder).setURI(d).setRelativeTo(this).setReadOnly(!0).setHandler(function(b){a.$3=a.$3.filter(function(a){return a!==e})}).send()}};d.$12=function(){this.props.isVisible&&this.isState("finished")?(this.seek(0),this.play("loop_initiated")):this.props.isVisible&&this.isState("paused")&&!this.$6?this.setState({forcePause:!0}):this.isState("playing")&&this.setState({forcePause:!1})};d.onVideoLoaded=function(){var a=this;if(!this.$2)return;this.state.playerAPI&&this.state.playerAPI.addListener("stateChange",function(){return a.$12()});this.props.isVisible&&!this.$5&&!this.state.forcePause?this.play("autoplay_initiated"):this.pause();this.$4=-1;this.$5=!1};d.isState=function(a){return!!(this.state.playerAPI&&this.state.playerAPI.isState(a))};return c}(h.Component);a.propTypes={attachment:(c=b("prop-types")).object,className:c.string,isInThread:c.bool,isVisible:c.bool,isOnStage:c.bool,stageDimensions:c.instanceOf(b("Vector")),videoData:c.object,onClick:c.func,onSelect:c.func};a.invokeVideoLoaded=function(a,b,c){a.$2=c,b.setAllowCrossPageTransition(!0),b.isState("loading")?a.stateChangeListener=b.addListener("stateChange",function(){if(!b.isState("loading")){if(a.state&&a.state.playerAPI)return;a.setState({playerAPI:b},a.onVideoLoaded);a.stateChangeListener&&a.stateChangeListener.remove()}}):a.setState({playerAPI:b,loaded:!0},a.onVideoLoaded)};e.exports=a}),null);
__d("MessagingForwardAttachmentDialog.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("BootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),babelHelpers["extends"]({},this.props)),loader:b("JSResource")("MessagingForwardAttachmentDialogImpl.react").__setRef("MessagingForwardAttachmentDialog.react"),placeholder:g.jsx("div",{})})};return c}(g.PureComponent);e.exports=a}),null);
__d("SpotlightMessagesViewerPagers.react",["cx","fbt","LeftRight.react","Link.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){return i.jsxs(b("LeftRight.react"),{children:[i.jsx(b("Link.react"),{"aria-disabled":a.disablePrevArrow,"aria-label":h._("Previous"),className:"_322u"+(a.disablePrevArrow?"":" _2bbb")+" _50-m",children:i.jsx("div",{className:(a.disablePrevArrow?"":"_4ksl")+(a.disablePrevArrow?"":" _4ksm")})}),i.jsx(b("Link.react"),{"aria-disabled":a.disableNextArrow,"aria-label":h._("Next"),className:"_322u"+(a.disableNextArrow?"":" _2bbc")+" _50-m",children:i.jsx("div",{className:(a.disableNextArrow?"":"_4ksl")+(a.disableNextArrow?"":" _4kso")})})]})};e.exports=a}),null);
__d("XMessagingPhotoDownloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/photo/",{photo_id:{type:"String",required:!0}})}),null);
__d("XMessagingShareAttachmentDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/share/dialog/",{__asyncDialog:{type:"Int"}})}),null);
__d("SpotlightMercurySharedMediaViewer.react",["csx","cx","fbt","invariant","ActorURI","AsyncDialog","AsyncRequest","BootloadedComponent.react","ChatPhotoViewFooterHScroll.react","ChatPhotoViewHeader.react","Event","FunnelLogger","JSResource","KeyEventController","MessagingForwardAttachmentDialog.react","MessengerThreadSharedMediaHelper","MessengerVideoPlayer.react","Parent","PhotoUtils","React","SpotlightMessagesViewerPagers.react","SpotlightViewer","SpotlightViewerImage","SpotlightViewport","SubscriptionsHandler","Vector","XMessagingPhotoDownloadController","XMessagingShareAttachmentDialogController","lazyLoadComponent","prop-types"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React"),l=88,m=30,n="WWW_MESSENGER_SHARE_TO_FB_FUNNEL",o="_4-og";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=void 0,d.$2=[],d.state={hasPrevPage:!1,hasNextPage:!1,firstPhotoLoaded:!1,isLoading:!1,mediaData:[],numberInOneBatch:m,photoData:null,showForward:!1,showInfo:!1,stageDimensions:new(b("Vector"))()},d.$11=function(){return!d.state.photoData?null:k.jsx(b("ChatPhotoViewFooterHScroll.react"),{onScroll:d.$18,photoID:d.state.photoData.node.id,sharedPhotos:d.state.mediaData,updateNumberInOneBatch:d.$19,width:d.state.stageDimensions.x})},d.$19=function(a){d.setState({numberInOneBatch:a})},d.$18=function(a){if(!d.state.mediaData||d.state.isLoading)return;var b=d.state.mediaData.findIndex(function(b){return b.node.legacy_attachment_id===a});if(b<0)return;var c=d.state.mediaData[b];d.setState({photoData:c});d.$22(b)},d.$5=function(a,c){if(d.state.photoData==null||d.state.isLoading)return;if(c&&!!b("Parent").bySelector(c.target,"._170l"))return;c&&c.target instanceof HTMLElement&&c.target.className===o&&d.$10();c=d.state.mediaData.findIndex(function(a){d.state.photoData!=null||j(0,1033);return a.node.legacy_attachment_id===d.state.photoData.node.legacy_attachment_id});if(c<0||c===d.state.mediaData.length-1&&!d.state.hasNextPage&&a)return;if(c===0&&!a){d.setState({isLoading:!0},function(){return d.$7(d.state.photoData,1,function(b){if(b===0)return;d.$5(a)})});return}var e=a?d.state.mediaData[c+1]:d.state.mediaData[c-1];d.setState({photoData:e});d.$22(c)},d.$10=function(){if(d.props.photoID===null)return;d.setState({photoData:null});d.props.onClosePhotoView()},d.$16=function(){d.setState({showForward:!0})},d.$20=function(){d.setState({showForward:!1})},d.$15=function(){d.setState({showInfo:!0})},d.$21=function(){d.setState({showInfo:!1})},d.$17=function(){d.setState({showForward:!1,showInfo:!1});b("FunnelLogger").appendAction(n,"click");var a=d.state.photoData;if(!d.$14()||!(a&&a.node))return;a=a.node.legacy_attachment_id;var c=b("XMessagingShareAttachmentDialogController").getURIBuilder().getURI();c=new(b("AsyncRequest"))(c).setData({attachment_id:a}).setMethod("POST");b("AsyncDialog").send(c)},d.$23=function(a,b,c){var e=Object.keys(a)[0];a=a[e].message_shared_media;e=a.page_info;var f=a.edges.length;if(f!==0){var g=d.state.mediaData;switch(b){case 0:d.setState({photoData:a.edges[0],mediaData:[a.edges[0]],firstPhotoLoaded:!0});break;case 1:g=g.concat(a.edges);d.setState({hasNextPage:e.has_next_page,mediaData:g});break;case-1:g=a.edges;g=g.concat(d.state.mediaData);d.setState({mediaData:g,hasPrevPage:e.has_previous_page});break}}d.setState({isLoading:!1});c(f)},d.$3=function(){var a=new(b("Vector"))(b("Vector").getViewportDimensions().x,b("Vector").getViewportDimensions().y-l);return a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getDefaultProps=function(){return{enableShareToFB:!1}};d.componentDidMount=function(){var a=this;this.setState({isLoading:!0,stageDimensions:this.$3()},function(){return a.$4(a.props.photoID)});this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Event").listen(window,"resize",function(){a.setState({stageDimensions:a.$3()})}),b("KeyEventController").registerKey("LEFT",function(){a.$5(!1);return!1}),b("KeyEventController").registerKey("RIGHT",function(){a.$5(!0);return!1}));this.props.enableShareToFB&&b("FunnelLogger").startFunnel(n)};d.UNSAFE_componentWillUpdate=function(a,b){var c=this;b.firstPhotoLoaded!==this.state.firstPhotoLoaded&&this.setState({isLoading:!0},function(){c.$6(b.photoData,b.numberInOneBatch,function(){}),c.$7(b.photoData,b.numberInOneBatch,function(){})});b.numberInOneBatch!=this.state.numberInOneBatch&&!b.isLoading&&this.setState({isLoading:!0},function(){return c.$6(b.mediaData[b.mediaData.length-1],b.numberInOneBatch,function(){})})};d.componentWillUnmount=function(){this.$1&&this.$1.release(),this.$1=null,this.$2.forEach(function(a){return a.abandon()})};d.render=function(){var a=this,c=this.$8(),d=this.state.stageDimensions,e=this.state.isLoading||this.props.useloadingindicator&&!this.state.photoData;if(this.state.photoData==null)return null;var f=this.state.mediaData.findIndex(function(b){a.state.photoData!=null||j(0,1033);return b.node.id===a.state.photoData.node.id});f=k.jsxs("div",{children:[this.$9(),this.props.disablepaging?null:k.jsx(b("SpotlightMessagesViewerPagers.react"),{disablePrevArrow:f<=0&&!this.state.hasPrevPage,disableNextArrow:!this.state.hasNextPage&&f>=this.state.mediaData.length-1})]});return k.jsxs("span",{children:[k.jsxs(b("SpotlightViewer"),{className:"_53vs",onHide:this.$10,open:this.props.photoID!==null,ref:"spotlightViewer",rootClassName:this.props.rootClassName,children:[k.jsx(b("SpotlightViewport"),{active:!1,fadeInNOut:!0,media:c,onClick:this.$5,ref:"viewport",showLoadingIndicator:e,stageDimensions:d,useWidth:!0,children:f}),this.$11()]}),this.$12(),this.$13()]})};d.$9=function(){if(!this.state.photoData)return null;var a=this.state.photoData;a=a.node.legacy_attachment_id;a=b("XMessagingPhotoDownloadController").getURIBuilder().setString("photo_id",a).getURI();this.props.actorid&&(a=b("ActorURI").create(a,this.props.actorid));return k.jsx(b("ChatPhotoViewHeader.react"),{disableForward:this.props.disableForward,enableShareToFB:this.$14(),onClose:this.$10,openInfo:this.$15,ref:"photoviewheader",showForwardDialog:this.$16,showShareDialog:this.$17,url:a})};d.$12=function(){if(!this.state.photoData||!this.state.showForward)return null;var a=i._("Forward in separate messages");return k.jsx(b("MessagingForwardAttachmentDialog.react"),{attachmentID:this.state.photoData.node.legacy_attachment_id,onClose:this.$20,shown:this.state.showForward,title:a})};d.$13=function(){return this.state.showInfo?k.jsx(k.Suspense,{fallback:k.jsx("div",{}),children:k.jsx(p,{closeInfo:this.$21,infoOpen:this.state.showInfo,photoID:this.state.photoData.node.id})}):k.jsx("xhp",{})};d.$14=function(){var a=this.state.photoData;return!a?!1:!!this.props.enableShareToFB&&a.node.__typename==="MessageImage"&&a.node.image1.uri.indexOf(".gif")<0};d.$22=function(a){var b=this,c=this.state.numberInOneBatch,d=this.state.mediaData;a<=c/2?this.setState({isLoading:!0},function(){return b.$7(d[0],c,function(){})}):a>=d.length-c/2&&this.state.hasNextPage&&this.setState({isLoading:!0},function(){return b.$6(d[d.length-1],c,function(){})})};d.$4=function(a){var c=this;a=b("MessengerThreadSharedMediaHelper").search(this.props.threadID,String(a),function(a){return c.$23(a,0,function(){})});this.$2.push(a)};d.$6=function(a,c,d){var e=this;a=b("MessengerThreadSharedMediaHelper").loadMorePrevious(this.props.threadID,a.cursor,c||1,function(a){return e.$23(a,1,d)});this.$2.push(a)};d.$7=function(a,c,d){var e=this;a=a?a.cursor:null;a=b("MessengerThreadSharedMediaHelper").loadMoreLatest(this.props.threadID,a,c||1,function(a){return e.$23(a,-1,d)});this.$2.push(a)};d.$8=function(){if(this.state.photoData&&this.state.photoData.node){var a=this.state.photoData.node;if(a.__typename&&a.__typename==="MessageVideo")return this.$24();var d=this.state.stageDimensions,e=this.$25(a,d);if(!e)return null;if(a.photo_encodings&&a.photo_encodings.length!==0)return this.$26(a.legacy_attachment_id,e,a.photo_encodings,d);a=c.getImageDimensionsForStage(new(b("Vector"))(e.width,e.height),d);return this.$27(e,a)}else return null};d.$24=function(){return this.state.photoData?k.jsx(b("MessengerVideoPlayer.react"),{isOnStage:!0,isVisible:!0,videoData:this.state.photoData.node,stageDimensions:this.state.stageDimensions}):null};d.$27=function(a,c){return k.jsx(b("SpotlightViewerImage"),{dimensions:c,ref:"image",src:a.uri})};d.$26=function(a,c,d,e){return k.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SpotlightViewerSphericalPhoto.react").__setRef("SpotlightMercurySharedMediaViewer.react"),bootloadPlaceholder:k.jsx("div",{}),height:e.y,width:e.x,fbid:a,thumbnail:c.uri,photoEncodings:d,stageDimensions:this.state.stageDimensions})};d.$25=function(a,c){var d=null;a=b("PhotoUtils").getImagesFromData(a);a=a.sort(function(a,b){return a.width==null?b.width==null?0:1:b.width==null?-1:b.width-a.width});window.devicePixelRatio&&window.devicePixelRatio>1&&(c=new(b("Vector"))(c.x*window.devicePixelRatio,c.y*window.devicePixelRatio));for(var e=0;e<a.length;e++)(!d||a[e].width>=c.x||a[e].height>=c.y)&&(d=a[e]);return d};return c}(k.Component);a.propTypes={disableForward:(c=b("prop-types")).bool,enableShareToFB:c.bool,onClosePhotoView:c.func,photoID:c.string,rootClassName:c.string,threadID:c.string};a.getImageDimensionsForStage=function(a,c){var d=a.x;a=a.y;var e=c.x;c=c.y;var f=d/a,g=e/c;d>=e||a>=c?g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c):f<g?d=Math.round(a*f):a=Math.round(d/f);return new(b("Vector"))(d,a)};var p=b("lazyLoadComponent")(b("JSResource")("MessengerPhotoInfoDialogContainer.react").__setRef("SpotlightMercurySharedMediaViewer.react"));e.exports=a}),null);
__d("SpotlightMessengerSharedMediaViewer.react",["csx","cx","fbt","invariant","ActorURI","BootloadedComponent.react","Event","JSResource","KeyEventController","MessengerForwardAttachmentDialogReact.bs","MessengerPhotoViewBottomBarReact.re","MessengerPhotoViewHeader.react","MessengerPhotoViewHScroll.react","MessengerSharedMediaActions","MessengerVideoPlayer.react","Parent","PhotoUtils","React","ScriptPath","SpotlightMessagesViewerPagers.react","SpotlightViewer","SpotlightViewerImage","SpotlightViewport","SubscriptionsHandler","Tooltip.react","Vector","XMessagingPhotoDownloadController","lazyLoadComponent","prop-types"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("MessengerForwardAttachmentDialogReact.bs").jsComponent,l=b("MessengerPhotoViewBottomBarReact.re").make,m=b("React"),n=88,o=80,p=30,q="_4-og",r=function(){var a=document.createElement("a");a.style.cssText="backdrop-filter:blur(2px);";return!!a.style.length}();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=void 0,d.$2=[],d.state={photoData:null,showForward:!1,showInfo:!1,stageDimensions:new(b("Vector"))()},d.$14=function(a){if(!d.props.sharedMedia)return;var b=d.props.sharedMedia.findIndex(function(b){return b.node.legacy_attachment_id===a});if(b<0)return;var c=d.props.sharedMedia[b];d.setState({photoData:c});d.$17(b)},d.$4=function(a,c){if(d.state.photoData==null)return;var e=d.state.photoData;if(c&&!!b("Parent").bySelector(c.target,"._170l"))return;c&&c.target instanceof HTMLElement&&c.target.className===q&&d.$7();c=d.props.sharedMedia.findIndex(function(a){return a.node.legacy_attachment_id===e.node.legacy_attachment_id});if(c<0||c===d.props.sharedMedia.length-1&&!d.props.hasNextPage&&a)return;if(c===0&&!a){b("MessengerSharedMediaActions").loadMoreLatest(d.props.threadID,d.props.sharedMedia[0].cursor,p);return}a=a?d.props.sharedMedia[c+1]:d.props.sharedMedia[c-1];d.setState({photoData:a});d.$17(c)},d.$7=function(){if(d.props.photoID===null)return;b("ScriptPath").closeOverlayView("spotlight_media_view");d.setState({photoData:null});d.props.onClosePhotoView()},d.$12=function(){d.setState({showForward:!0})},d.$15=function(){d.setState({showForward:!1})},d.$11=function(){d.setState({showInfo:!0})},d.$16=function(){d.setState({showInfo:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.props.sharedMedia.find(function(b){return b.node.legacy_attachment_id===a.props.photoID});this.setState({photoData:c,stageDimensions:this.$3()});this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Event").listen(window,"resize",function(){a.setState({stageDimensions:a.$3()})}),b("KeyEventController").registerKey("LEFT",function(){a.$4(!1);return!1}),b("KeyEventController").registerKey("RIGHT",function(){a.$4(!0);return!1}));b("ScriptPath").openOverlayView("spotlight_media_view",{photoID:this.props.photoID,threadID:this.props.threadID})};d.componentWillUnmount=function(){this.$1&&this.$1.release(),this.$1=null,this.$2.forEach(function(a){return a.abandon()})};d.render=function(){var a=this,c=this.$5(),d=this.state.stageDimensions,e=this.props.useloadingindicator&&!this.state.photoData;if(this.state.photoData==null)return null;var f=this.props.sharedMedia.findIndex(function(b){a.state.photoData!=null||j(0,1033);return b.node.id===a.state.photoData.node.id});f=m.jsxs("div",{children:[this.$6(),this.props.disablepaging?null:m.jsx(b("SpotlightMessagesViewerPagers.react"),{disablePrevArrow:f<=0&&!this.props.hasPrevPage,disableNextArrow:!this.props.hasNextPage&&f>=this.props.sharedMedia.length-1})]});return m.jsxs("span",{children:[m.jsxs(b("SpotlightViewer"),{className:"_53vs",onHide:this.$7,open:this.props.photoID!==null,ref:"spotlightViewer",rootClassName:this.props.rootClassName,wash:r?"blur":"dark",children:[m.jsx(b("SpotlightViewport"),{active:!1,fadeInNOut:!0,media:c,onClick:this.$4,ref:"viewport",showLoadingIndicator:e,stageDimensions:d,useWidth:!0,className:"_9ahm"+(r?" _99rm":""),children:f}),this.$8()]}),this.$9(),this.$10()]})};d.$6=function(){if(!this.state.photoData)return null;var a=this.state.photoData.node.legacy_attachment_id;a=b("XMessagingPhotoDownloadController").getURIBuilder().setString("photo_id",a).getURI();this.props.actorid&&(a=b("ActorURI").create(a,this.props.actorid));return m.jsx(b("MessengerPhotoViewHeader.react"),{disableForward:this.props.disableForward,onClose:this.$7,openInfo:this.$11,photoID:this.props.photoID,ref:"photoviewheader",showForwardDialog:this.$12,url:a})};d.$13=function(a){return a?Math.ceil(a/o):p};d.$8=function(){var a=this;if(!this.state.photoData)return null;var c=this.state.photoData,d=m.jsx("button",{className:"_2n5b",onClick:function(){return a.props.openAlbum(c.node.legacy_attachment_id)},type:"button",children:m.jsx(b("Tooltip.react"),{tooltip:"View Gallery",children:m.jsx("div",{"aria-label":i._("Full-screen photo gallery"),className:"_3por"})})});return m.jsxs(l,{children:[m.jsx(b("MessengerPhotoViewHScroll.react"),{onScroll:this.$14,photoID:c.node.legacy_attachment_id,sharedPhotos:this.props.sharedMedia,width:this.state.stageDimensions.x,blurSupported:r}),d]})};d.$9=function(){if(!this.state.photoData||this.props.disableForward)return null;var a=i._("Forward in separate messages");return m.jsx(k,{attachmentID:this.state.photoData.node.legacy_attachment_id,onClose:this.$15,shown:this.state.showForward,title:a})};d.$10=function(){return this.state.showInfo?m.jsx(m.Suspense,{fallback:m.jsx("div",{}),children:m.jsx(s,{closeInfo:this.$16,infoOpen:this.state.showInfo,photoID:this.state.photoData.node.id})}):null};d.$17=function(a){var c=this.$13(this.state.stageDimensions.x),d=this.props.sharedMedia;a<=c/2?(b("MessengerSharedMediaActions").loadMoreLatest(this.props.threadID,d[0].cursor,c),d.length<c&&this.props.hasNextPage&&b("MessengerSharedMediaActions").loadMorePrevious(this.props.threadID,d[d.length-1].cursor,c)):a>=d.length-c/2&&this.props.hasNextPage&&b("MessengerSharedMediaActions").loadMorePrevious(this.props.threadID,d[d.length-1].cursor,c)};d.$3=function(){var a=new(b("Vector"))(b("Vector").getViewportDimensions().x,b("Vector").getViewportDimensions().y-n);return a};d.$5=function(){if(this.state.photoData&&this.state.photoData.node){var a=this.state.photoData.node;if(a.__typename&&a.__typename==="MessageVideo")return this.$18();var d=this.state.stageDimensions,e=this.$19(a,d);if(!e)return null;if(a.photo_encodings&&a.photo_encodings.length!==0)return this.$20(a.legacy_attachment_id,e,a.photo_encodings,d);a=c.getImageDimensionsForStage(new(b("Vector"))(e.width,e.height),d);return this.$21(e,a)}else return null};d.$18=function(){return this.state.photoData?m.jsx(b("MessengerVideoPlayer.react"),{isVisible:!0,isOnStage:!0,videoData:this.state.photoData.node,stageDimensions:this.state.stageDimensions}):null};d.$21=function(a,c){return m.jsx(b("SpotlightViewerImage"),{dimensions:c,ref:"image",src:a.uri})};d.$20=function(a,c,d,e){return m.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SpotlightViewerSphericalPhoto.react").__setRef("SpotlightMessengerSharedMediaViewer.react"),bootloadPlaceholder:m.jsx("div",{}),height:e.y,width:e.x,fbid:a,thumbnail:c.uri,photoEncodings:d,stageDimensions:this.state.stageDimensions})};d.$19=function(a,c){c=b("PhotoUtils").getImagesFromData(a);return c[c.length-1]};return c}(m.Component);a.propTypes={disableForward:(c=b("prop-types")).bool,hasPrevPage:c.bool,hasNextPage:c.bool,onClosePhotoView:c.func,openAlbum:c.func,photoID:c.string,rootClassName:c.string,threadID:c.string,sharedMedia:c.arrayOf(c.object)};a.getImageDimensionsForStage=function(a,c){var d=a.x;a=a.y;var e=c.x;c=c.y;var f=d/a,g=e/c;d>=e||a>=c?g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c):f<g?d=Math.round(a*f):a=Math.round(d/f);return new(b("Vector"))(d,a)};var s=b("lazyLoadComponent")(b("JSResource")("MessengerPhotoInfoDialogContainer.react").__setRef("SpotlightMessengerSharedMediaViewer.react"));e.exports=a}),null);
__d("SpotlightMessengerSharedMediaViewerContainer.react",["FluxContainer","MessengerSharedMediaActions","MessengerSharedMediaStore","React","SpotlightMessengerSharedMediaViewer.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("MessengerSharedMediaStore")]};c.calculateState=function(a,c){a=b("MessengerSharedMediaStore").getState();var d=a.sharedMedia.get(c.threadID);a=a.isLoading.get(c.threadID);return{sharedMedia:d,isLoading:a}};var d=c.prototype;d.componentDidMount=function(){b("MessengerSharedMediaActions").loadCurrent(this.props.threadID,this.props.photoID)};d.render=function(){var a=this;if(!this.state.sharedMedia)return null;var c=this.state.sharedMedia&&this.state.sharedMedia.edges.find(function(b){return b.node.legacy_attachment_id===a.props.photoID});return!c?null:g.jsx(b("SpotlightMessengerSharedMediaViewer.react"),{disableForward:this.props.disableForward,hasPrevPage:this.state.sharedMedia&&this.state.sharedMedia.has_previous_page,hasNextPage:this.state.sharedMedia&&this.state.sharedMedia.has_next_page,onClosePhotoView:this.props.onClosePhotoView,openAlbum:this.props.openAlbum,photoID:this.props.photoID,rootClassName:this.props.rootClassName,sharedMedia:this.state.sharedMedia&&this.state.sharedMedia.edges,threadID:this.props.threadID})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MessengerThreadSharedPhotos.react",["cx","MessengerSharedPhotosAlbumViewContainer.react","React","SpotlightMessengerSharedMediaViewerContainer.react","SpotlightViewer","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={photoView:c.props.findFBID,albumView:""},c.$3=function(a){c.setState({albumView:a,photoView:""})},c.$4=function(){c.setState({albumView:""})},c.$5=function(a){c.setState({albumView:"",photoView:a})},c.$6=function(){c.setState({photoView:""})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(){!this.state.photoView&&!this.state.albumView&&this.props.onCloseSharedPhotos()};d.render=function(){var a=this.state.photoView?this.$1():null,b=this.state.albumView?this.$2():null;return h.jsxs("div",{children:[b,a]})};d.$1=function(){return h.jsx(b("SpotlightMessengerSharedMediaViewerContainer.react"),{disableForward:!1,onClosePhotoView:this.$6,openAlbum:this.$3,photoID:this.state.photoView,rootClassName:"",threadID:this.props.threadFBID})};d.$2=function(){return h.jsx(b("SpotlightViewer"),{className:"_3ode",onHide:this.$4,open:!0,ref:"spotlightViewer",children:h.jsx(b("MessengerSharedPhotosAlbumViewContainer.react"),{onClick:this.$5,onCloseSharedPhotos:this.props.onCloseSharedPhotos,threadID:this.props.threadFBID,viewedPhoto:this.state.albumView})})};return c}(h.Component);a.propTypes={findFBID:b("prop-types").string,onCloseSharedPhotos:b("prop-types").func,threadFBID:b("prop-types").string};e.exports=a}),null);
__d("MessengerThreadSharedPhotosReact.bs",["ReasonReact.bs","MessengerThreadSharedPhotos.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadSharedPhotos.react"),{findFBID:a,onCloseSharedPhotos:c,threadFBID:d},e)}f.make=a}),null);
__d("MessengerVideoPlayerReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerVideoPlayer.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k){var l;return b("ReasonReact.bs").wrapJsForReason(b("MessengerVideoPlayer.react"),{attachment:(l=b("bs_js_null_undefined")).fromOption(a),className:l.fromOption(c),isInThread:l.fromOption(d),isVisible:l.fromOption(e),isOnStage:l.fromOption(f),stageDimensions:l.fromOption(g),videoData:h,onClick:l.fromOption(i),onSelect:l.fromOption(j)},k)}f.make=a}),null);
__d("MessengerVideoReact.bs",["cx","ix","bs_curry","Image.bs","React","bs_caml_option","ReasonReact.bs","joinClasses","MessengerPhotoReact.bs","MessengerVideoPlayerReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){a=a.metadata;if(!(a==null)&&!(a.fbid==null)){var b=window.screen.width>1800&&!(a.large_size==null)&&!(a.large_preview==null),c=a.fbid,d=b?a.large_size:a.inbox_size;d=d==null?{x:0,y:0}:{x:d.width,y:d.height};b=b?a.large_preview:a.inbox_preview;return{legacy_attachment_id:c,original_dimensions:d,start_muted:!0,hide_controls_on_finish:!0,url:b,is_share:!1}}return{legacy_attachment_id:null,original_dimensions:null,start_muted:!0,hide_controls_on_finish:!0,url:null,is_share:!1}}function k(a){var b=a%60;return String(a/60|0)+(":"+((b<10?"0":"")+String(b)))}function a(a){var c=a.className,d=a.attachment,e=a.isSingle,f=a.onAttachmentLoad,g=a.isVisible,l=a.onClick,m=a.onSelect,n=c!==void 0?c:"";a=function(a){a=d.metadata;var c=d.media;c=a==null?c==null?void 0:b("bs_caml_option").nullable_to_opt(c.duration):b("bs_caml_option").nullable_to_opt(a.duration);if(c!==void 0)return k(c);else return null};var o=function(a){if(l!==void 0)return b("bs_curry")._1(l,d);else return 0};c=function(a){var c=a.legacy_attachment_id;if(c==null)return;else return b("bs_caml_option").some(b("ReasonReact.bs").element(void 0,void 0,b("MessengerVideoPlayerReact.bs").make(b("bs_caml_option").some(d),b("joinClasses")(n,"_ccq","_4tsk","_3o67",e?"_52mr":"",e?"_1byr":""),!0,g,void 0,void 0,a,o,m,[])))};var p=j(d);c=c(p);if(c!==void 0)return b("bs_caml_option").valFromOption(c);else{p={className:b("joinClasses")(n,"_ccq"),attachment:d,isSingle:e,children:[b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_ccr",void 0,void 0,void 0,h("27983"),void 0,void 0,void 0,void 0,[])),i.jsx("span",{children:a(0),className:"_ccs"})]};f!==void 0&&(p.onAttachmentLoad=b("bs_caml_option").valFromOption(f));l!==void 0&&(p.onClick=b("bs_caml_option").valFromOption(l));return i.createElement(b("MessengerPhotoReact.bs").make,p)}}c=1800;d=a;f.large_window_width=c;f.constructVideoData=j;f.formatDuration=k;f.make=d}),null);
__d("MessengerXMATextBlock.react",["cx","LineClamp.react","React","ShimButton.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=26;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.url!=null&&c.props.url!=""&&window.open(c.props.url)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){if(!this.props)return h.jsx("div",{className:"__6j"});var a=this.props.width!=null?{maxWidth:this.props.width-i,textAlign:"left"}:{textAlign:"left"},c={textDecoration:"none"};return h.jsx("div",{className:b("joinClasses")(this.props.className,"__6j _43kk _6ude"),style:a,children:h.jsxs(b("ShimButton.react"),{form:"link",onClick:this.$1,style:c,children:[this.renderTitle(),this.renderDescription(),this.renderSource()]})})};d.renderTitle=function(){return this.props.title==null?null:h.jsx("div",{className:"__6k",children:h.jsx(b("LineClamp.react"),{lines:2,lineHeight:16,children:this.props.title})})};d.renderDescription=function(){if(this.props.description==null)return null;var a=this.props.width!=null?{maxWidth:this.props.width-i}:{};return h.jsx("div",{className:"__6l",style:a,children:h.jsx(b("LineClamp.react"),{lines:2,lineHeight:15,children:this.props.description})})};d.renderSource=function(){return this.props.source==null?null:h.jsx("div",{className:"__6m",children:h.jsx(b("LineClamp.react"),{lines:1,lineHeight:14,children:this.props.source})})};return c}(h.Component);a.propTypes={className:(c=b("prop-types")).string,description:c.string,source:c.string,title:c.string,url:c.string,width:c.number,isFromViewer:c.bool,attachment:c.object};e.exports=a}),null);
__d("MessengerXMATextBlockReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerXMATextBlock.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k){var l;return b("ReasonReact.bs").wrapJsForReason(b("MessengerXMATextBlock.react"),{className:(l=b("bs_js_null_undefined")).fromOption(a),description:l.fromOption(c),source:l.fromOption(d),title:l.fromOption(e),url:l.fromOption(f),width:l.fromOption(g),threadID:l.fromOption(h),isFromViewer:l.fromOption(i),attachment:l.fromOption(j)},k)}f.make=a}),null);
__d("MessengerVideoXMAReact.bs",["cx","React","bs_caml_option","ReasonReact.bs","joinClasses","MessengerVideoPlayerReact.bs","MessengerXMATextBlockReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){if(a==null)return null;else{var b=a.width>a.height?a.width:a.height,c=window.screen.width>1800?640:450;if(b<=c)return{x:a.width,y:a.height};else{c=c/b;b=a.width*c|0;a=a.height*c|0;return{x:b,y:a}}}}function j(a){var b=a.media;a=a.target;if(b==null||a==null||b.image_size==null||a.video_id==null)return;else{var c=b.image_size;return{legacy_attachment_id:a.video_id,original_dimensions:i(c),start_muted:!0,hide_controls_on_finish:!0,url:b.image,is_share:!0}}}function a(a){var c=a.className,d=a.attachment,e=a.isVisible,f=a.onSelect,g=a.threadID,i=a.isFromViewer,k=c!==void 0?c:"";a=function(a){if(a!==void 0)return b("ReasonReact.bs").element(void 0,void 0,b("MessengerVideoPlayerReact.bs").make(b("bs_caml_option").some(d),b("joinClasses")(k,"_ccq","_4tsk","_3o67","_52mr","_1byr"),!0,e,void 0,void 0,b("bs_caml_option").valFromOption(a),void 0,f,[]));else return null};c=function(a){var c;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerXMATextBlockReact.bs").make("_2f5n _4br2 _29ew _3dug",(c=b("bs_caml_option")).nullable_to_opt(d.description),c.nullable_to_opt(d.source),c.nullable_to_opt(d.video_title),c.nullable_to_opt(d.uri),a!==void 0?b("bs_caml_option").valFromOption(a).x:void 0,g,i,b("bs_caml_option").some(d),[]))};var l=j(d);a=a(l);return h.jsxs("div",{children:[a,c(l!==void 0?b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(l).original_dimensions):void 0)],className:"_3duc"})}c=640;d=450;e=1800;g=a;f.large_preview_dim=c;f.thumbinail_inbox_dim=d;f.large_window_width=e;f.adjustSize=i;f.constructVideoData=j;f.make=g}),null);
__d("MessengerPhotosGroupReact.bs",["cx","URI","bs_block","bs_curry","React","Utils.bs","ActorURI","bs_belt_Array","LogHistory","MercuryIDs","bs_belt_Option","bs_caml_option","ReasonReact.bs","joinClasses","bs_caml_primitive","bs_js_null_undefined","MessagesViewerSetID","MessengerPhotoReact.bs","MessengerVideoReact.bs","MercuryAttachmentType","getPageIDFromThreadID","MessengerVideoXMAReact.bs","bs_caml_builtin_exceptions","ChatSpeakingStickerReact.bs","MercuryAttachmentPayload.bs","MessengerAttachmentViewer","MessengerThreadSharedPhotosReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j="empty-spacer";a=b("LogHistory").getInstance("messenger_photo_group");var k=b("ReasonReact.bs").reducerComponent("MessengerPhotosGroup");function l(a,c,d,e,f,g,l,m,n,o,p,q,r,s){var t=d!==void 0?d:"",u=function(a){a=a.length;var c=a===2||a===4;return b("joinClasses")(t,"_2n8h",a===1?"_2n8i":"",c?"_4ksk":"",a>1&&!c?"_2n8k":"","_5fk1")},v=function(a){if(m!==void 0){a=b("bs_caml_option").valFromOption(m);var c=a.thread_fbid;if(!(c==null)&&b("bs_caml_primitive").caml_string_compare(c,"")!==0)return c;else return b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id)}else return null},w=function(a,c){var d=v(0);c=c.metadata;c=c==null?null:c.fbid;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadSharedPhotosReact.bs").make(c,function(c){return b("bs_curry")._1(a.send,0)},d,[]))},x=function(d,k,m,s){var t=k.deduplication_key,u=k.metadata;if(t==null)if(u==null){var w=k.upload_id;w=w==null?"":w}else{u=u.fbid;w=u==null?"":u}else w=t;var x;if(m||f===!0)if(k.large_preview_url==null)x=void 0;else{var y=k.large_preview_url;x=function(a){return window.open(y)}}else{var z=k.metadata;u=0;z==null||z.fbid==null?u=1:x=k.app_attribution==null?function(a){return b("bs_curry")._1(d.send,[a])}:function(c){var d=z;c=c;if(b("Utils.bs").isTruthy(c.preview_uploading))return 0;else if(c.attach_type===b("MercuryAttachmentType").VIDEO){var f=d.dimensions;f=f==null?{x:null,y:null}:{x:f.width,y:f.height};var i=c.url;b("MessengerAttachmentViewer").renderVideo({pageID:b("bs_js_null_undefined").fromOption(p),rootClassName:"_1j1h",videoID:d.fbid,videoSize:f,videoURI:i==null?new(h||(h=b("URI")))(""):i});return 0}else if(c.attach_type===b("MercuryAttachmentType").PHOTO||c.attach_type===b("MercuryAttachmentType").THIRDPARTYSTICKER||c.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE){f=a.length===1;i=c.url;i=i==null?new(h||(h=b("URI")))(""):i;if(g!==!0&&c.attach_type===b("MercuryAttachmentType").PHOTO&&e!==void 0){var j=v(0),k=e===1;j=new(h||(h=b("URI")))("/ajax/messaging/attachments/sharedphotos.php").setQueryData({thread_id:j,image_id:d.fbid});j=p!==void 0?new(b("ActorURI").create)(j,b("bs_caml_option").valFromOption(p)):j;j=[b("MessagesViewerSetID").MESSAGES_VIEW_ALL_IN_THREAD,j,k]}else j=[null,i,f];b("MessengerAttachmentViewer").bootstrapWithConfig({actorid:b("bs_js_null_undefined").fromOption(p),dimensions:d.dimensions,disableForward:p!==void 0,disablePaging:j[2],endpoint:j[1],fbid:d.fbid,rootClassName:"_1j1h",setID:j[0],snapToPhoto:!0,src:c.preview_url});return 0}else if(c.uri==null)return 0;else return window.open(c.uri)};if(u===1)if(k.uri==null)x=void 0;else{var A=k.uri;x=function(a){return window.open(A)}}}t=b("bs_belt_Option").getWithDefault(c,k.attach_type);if(t===b("MercuryAttachmentType").PHOTO||t===b("MercuryAttachmentType").ANIMATED_IMAGE||t===b("MercuryAttachmentType").THIRDPARTYSTICKER){m={attachment:k,isSingle:s,children:[]};l!==void 0&&(m.isVisible=b("bs_caml_option").valFromOption(l));n!==void 0&&(m.onAttachmentLoad=b("bs_caml_option").valFromOption(n));x!==void 0&&(m.onClick=b("bs_caml_option").valFromOption(x));return i.jsx(b("MessengerPhotoReact.bs").make,m,w)}else if(t===b("MercuryAttachmentType").VIDEO){u=k.metadata;if(!(u==null)&&b("Utils.bs").isTruthy(u.render_as_sticker)){m=u.dimensions;u=m==null?{height:null,width:null}:{height:m.height,width:m.width};m=k.url;m=m==null?new(h||(h=b("URI")))(""):m;return b("ReasonReact.bs").element(void 0,void 0,b("ChatSpeakingStickerReact.bs").make(m,u,[]))}if(g===!0){m={attachment:k};l!==void 0&&(m.isVisible=b("bs_caml_option").valFromOption(l));o!==void 0&&(m.onSelect=b("bs_caml_option").valFromOption(o));q!==void 0&&(m.threadID=b("bs_caml_option").valFromOption(q));r!==void 0&&(m.isFromViewer=b("bs_caml_option").valFromOption(r));return i.jsx(b("MessengerVideoXMAReact.bs").make,m,w)}else{u={attachment:k,isSingle:s};n!==void 0&&(u.onAttachmentLoad=b("bs_caml_option").valFromOption(n));l!==void 0&&(u.isVisible=b("bs_caml_option").valFromOption(l));x!==void 0&&(u.onClick=b("bs_caml_option").valFromOption(x));o!==void 0&&(u.onSelect=b("bs_caml_option").valFromOption(o));return i.jsx(b("MessengerVideoReact.bs").make,u,w)}}else if(t===j){m={className:"_4tsk _4rf-"};s=b("bs_caml_option").nullable_to_opt(k.key);s!==void 0&&(m.key=b("bs_caml_option").valFromOption(s));return i.jsx("div",m)}else throw[b("bs_caml_builtin_exceptions").invalid_argument,t+" is not handled by MessengerPhotosGroup"]},y=function(c,a,d){if(a.length!==1){var e=a.length===2||a.length===4?2:3,f=[],g={contents:0},k=a.length;while(g.contents<k){var l=b("bs_caml_primitive").caml_int_min(e,k-g.contents|0);l=b("bs_belt_Array").makeBy(e,function(f){return function(i){if(i<f)return x(c,a[g.contents+i|0],d,!1);else{i="ghost"+String(e-i|0);i=b("MercuryAttachmentPayload.bs").create(j,b("bs_caml_option").some(i),new(h||(h=b("URI")))(""));return x(c,i,d,!1)}}}(l));f.push(i.jsx("div",{children:l,className:"_2n8g"},String(g.contents)));g.contents=g.contents+e|0}return f}else{l=a[0];return x(c,l,d,!0)}};return{debugName:k.debugName,reactClassInternal:k.reactClassInternal,handedOffState:k.handedOffState,getDerivedStateFromProps:k.getDerivedStateFromProps,didMount:function(a){b("MessengerAttachmentViewer").preload();return 0},didUpdate:k.didUpdate,willUnmount:k.willUnmount,shouldUpdate:k.shouldUpdate,render:function(c){var d=m!==void 0?!(b("getPageIDFromThreadID")(b("bs_caml_option").valFromOption(m).thread_id)==null):!1;d=y(c,a,d);var e=c.state.findID;c=e!==void 0?w(c,b("bs_caml_option").valFromOption(e)):null;return i.jsxs("div",{children:[c,d],className:u(a),tabIndex:0})},initialState:function(a){return{findID:void 0}},retainedProps:k.retainedProps,reducer:function(a,c){if(a)return b("bs_block").__(0,[{findID:b("bs_caml_option").some(a[0])}]);else return b("bs_block").__(0,[{findID:void 0}])},jsElementWrapped:k.jsElementWrapped}}c=b("ReasonReact.bs").wrapReasonForJs(k,function(a){var c;return l(a.attachments,(c=b("bs_caml_option")).nullable_to_opt(a.attachType),c.nullable_to_opt(a.className),c.nullable_to_opt(a.count),c.nullable_to_opt(a.isPageMessage),c.nullable_to_opt(a.isXMA),c.nullable_to_opt(a.isVisible),c.nullable_to_opt(a.message),c.nullable_to_opt(a.onAttachmentLoad),c.nullable_to_opt(a.onSelect),c.nullable_to_opt(a.pageID),c.nullable_to_opt(a.threadID),c.nullable_to_opt(a.isFromViewer),[])});d=b("bs_belt_Option").getWithDefault;f.$pipe$question=d;f.empty_spacer_type=j;f.history=a;f.component=k;f.make=l;f.jsComponent=c}),null);
__d("MessengerPhotosGroup.react",["MessengerPhotosGroupReact.bs"],(function(a,b,c,d,e,f){"use strict";a=b("MessengerPhotosGroupReact.bs").jsComponent;e.exports=a}),null);
__d("MessengerStickerUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){return!!(a&&a.attach_type==="sticker")}function h(a){var b=a.attachments;return!!(a.is_like_preview||a.sticker_id||b&&b.length===1&&g(b[0]))}function a(a){return a.size===1&&h(a.first())}e.exports={isStickerMessageGroup:a,isStickerMessage:h,isStickerAttachment:g}}),null);
__d("MercuryShareAttachmentRenderLocations.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!==void 0)return a===1;else return!1}function b(a){switch(a){case 0:return"chat";case 1:return"chat_preview";case 2:return"messenger";case 3:return"pages_inbox"}}f.isPreview=a;f.getValue=b}),null);
__d("MessengerVoiceClipAttachmentReact.bs",["cx","cssVar","React","ReactStyle.bs","bs_caml_option","MessengerColors","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","MercuryAttachmentAudioClip.react","WorkChatRedesignedMessageListCheck.bs","MercuryShareAttachmentRenderLocations.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.attachment,d=a.customColor,e=a.message;a=a.thread;var f=c.metadata,g;if(f==null)g=0;else{f=f.duration;g=f==null?0:f/1e3}f=c.app_attribution!==null;var h=d!==void 0;e="audio:"+e.message_id;c=c.url;var j;if(c==null)j=null;else{c={src:c.toString(),duration:g,location:b("MercuryShareAttachmentRenderLocations.bs").getValue(2),rootClassName:"_3czg"+(f?" _4yjw":"")+" _2poz _ui9",showHelp:!1,width:200};d!==void 0&&(c.customColor=b("bs_caml_option").valFromOption(d));j=i.jsx(b("MercuryAttachmentAudioClip.react"),c,e)}return i.jsx("div",{children:j,className:(b("WorkChatRedesignedMessageListCheck.bs").enabled?"":"_hh7")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6ybn":"")+(b("WorkChatRedesignedMessageListCheck.bs").enabled?"":" _s1-")+(h?" _5sxi":"")+(f?"":" _52mr")+(f?" _mxz":"")+" _1fz8"+(f?" _1-wa":"")+" _1nqp",style:d!==void 0?b("MessengerDotComAndInboxM4Check.bs").yes?b("ReactStyle.bs").unsafeAddProp(b("MessengerColors").makeLinearGradient(a.gradient_colors,a.solid_color,b("MessengerCustomColorUtils.bs").defaultColor(0)),"backgroundAttachment","fixed"):{backgroundColor:d}:b("WorkChatRedesignedMessageListCheck.bs").enabled?{backgroundColor:"#ece9e7"}:{}})}c=a;f.make=c}),null);
__d("MessengerVoiceClipAttachmentReact.re",["MessengerVoiceClipAttachmentReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerVoiceClipAttachmentReact.bs").make;f.make=a}),null);
__d("XStickerInTrayController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/in_tray/",{pack_id:{type:"Int",required:!0}})}),null);
__d("StickersPackInTrayQuery",["Promise","AsyncRequest","RelayFBEnvironment","RelayModern","XStickerInTrayController","StickersPackInTrayQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("StickersPackInTrayQuery.graphql");a={onIsPackInTray:function(a,c,d){return h(b("RelayFBEnvironment"),i,{stickerInterface:c}).then(function(c){c=c&&c.length>0?c[0]:null;var e=c==null?void 0:(c=c.sticker_store)==null?void 0:(c=c.tray_packs)==null?void 0:c.edges;if(e)return new(b("Promise"))(function(b,c){return b({in_sticker_tray:e.filter(function(b){return b.node.id===a}).length>0})}).then(d);var f=b("XStickerInTrayController").getURIBuilder().setInt("pack_id",a).getURI();return new(b("Promise"))(function(a,c){return new(b("AsyncRequest"))(f).setHandler(function(b){return a(b.getPayload())}).setAllowCrossPageTransition(!0).send()}).then(d)})}};e.exports=a}),null);
__d("isRetina",[],(function(a,b,c,d,e,f){"use strict";e.exports=function(){return(window.devicePixelRatio||1)>1}}),null);
__d("MessengerAttachmentRenderer",["cx","CurrentUser","EmojiSticker.react","JSResource","MercuryAttachment","MercuryAudioType","MercuryIDs","MercuryShareAttachment.react","MercuryShareAttachmentRenderLocations","MessengerErrorAttachment.react","MessengerFileAttachment.re","MessengerFromViewerUtils","MessengerHotLikePreview.react","MessengerHotLikeUtils","MessengerPhotosGroup.react","MessengerStickerUtils","MessengerSupportedEmojiUtils","MessengerVoiceClipAttachmentReact.re","React","Sticker.react","StickerConstants","StickersActions","StickersPackInTrayQuery","StickersStoreController","StickerUtils","lazyLoadComponent","XStickerAssetController","isRetina"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerFileAttachment.re").make,i=b("MessengerVoiceClipAttachmentReact.re").make,j=b("React"),k=b("lazyLoadComponent")(b("JSResource")("WorkChatFileAttachment.react").__setRef("MessengerAttachmentRenderer")),l=700,m="sticker:",n="share:",o="_1c_u",p="_3o6m",q=function(a){return a===Object(a)};a={getAttachmentsInsideBubble:function(a,c){var d=this,e=b("MercuryAttachment").get(a).filter(q).filter(function(a){return!d.attachmentShouldAppearOutsideBubble(a)});return this._getAttachmentComponents(e,a,c)},getAttachmentsOutsideBubble:function(a,c,d,e,f){var g=this,h=b("MercuryAttachment").get(a).filter(q).filter(function(a){return g.attachmentShouldAppearOutsideBubble(a)});return this._getAttachmentComponents(h,a,c,d,e,f)},_getAttachmentComponents:function(a,c,d,e,f,g){var h=this,i=this._getPhotosGroup(a.filter(b("MercuryAttachment").isPhotoGroupAttachment),c,d,e);a=a.filter(function(a){return!b("MercuryAttachment").isPhotoGroupAttachment(a)}).map(function(a){return h._getAttachmentComponent(a,c,d,e,f,g)});i&&a.push(i);return a},_getAttachmentComponent:function(a,c,d,e,f,g){var h=e&&e.customColor,i=e&&e.onUnwrap,j=e&&e.isVisible,k=e&&e.isFromViewer,l=e&&e.isPageMessage;e=e&&e.onSelect;if(b("MessengerStickerUtils").isStickerAttachment(a))return this._getStickerComponent(a,c,h,i,g);if(this.isEmojiLikeAttachment(a))return this._getEmojiLikeAttachment(a,c,i);if(this.isVoiceClip(a))return this._getVoiceClip(a,c,h,i,g);if(this.isFileAttachment(a))return this._getFileComponent(a,c);if(this.isP2P(a)||this.isShareAttachment(a))return this._getShareAttachment(a,c,d,j,k,l,e,f,g);return this.isErrorAttachment(a)?this._getErrorAttachment(a,c):null},_getStickerComponent:function(a,c,d,e,f){if(c.is_like_preview)return j.jsx(b("MessengerHotLikePreview.react"),{customColor:d,customLike:c.customLike,since:c.like_preview_since,thread:f,location:b("MercuryShareAttachmentRenderLocations").MESSENGER},"hlp:"+c.like_preview_since);e=a.metadata;if(!e){e=b("MessengerHotLikeUtils").getMetadataForHotLike(c.sticker_id);if(!e){e={};a=b("StickerUtils").getScaledDimensions(b("StickerConstants").THREAD_SIZE,b("StickerConstants").THREAD_SIZE,b("StickerConstants").THREAD_SIZE);var g=a.height;a=a.width;e.height=g;e.width=a}e.stickerID=c.sticker_id}g=b("XStickerAssetController").getURIBuilder().setInt("sticker_id",e.stickerID);a=null;var h=null;b("isRetina")()?(a=e.paddedSpriteURI2x,h=e.spriteURI2x):(a=e.paddedSpriteURI,h=e.spriteURI);var i=e.stickerID.toString();d=j.jsx(b("Sticker.react"),{accessibilityLabel:e.accessibilityLabel,className:"_2poz _ui9",animationTrigger:"hover",customColor:(d=d)!=null?d:void 0,frameCount:e.frameCount||1,frameRate:e.frameRate||b("StickerConstants").DEFAULT_FRAME_RATE,framesPerCol:e.framesPerCol||1,framesPerRow:e.framesPerRow||1,onStickerClick:function(d,a){if(d==null)return;b("StickersPackInTrayQuery").onIsPackInTray(d,"messages",function(a){a.in_sticker_tray?(b("StickersActions").selectTrayPack(d),b("StickersActions").showStickerFlyout(c.thread_id)):b("StickersStoreController").showStore(d)})},packID:e.packID&&e.packID.toString(),paddedSpriteURI:a,sourceHeight:e.height,sourceURI:g.setEnum("image_type","BestEffortImage").getURI().toString(),sourceWidth:e.width,spriteURI:h,stickerID:i,testID:"sticker",thread:f},m+c.message_id);return d},_getEmojiLikeAttachment:function(a,c,d){d=b("MessengerSupportedEmojiUtils").transferSize(a.size);d=b("MessengerSupportedEmojiUtils").getHotLikeEmojiData(c.body,d)||b("MessengerSupportedEmojiUtils").getHotLikeEmojiDataTransition(c.body,d);if(!d)return this._getErrorAttachment(a,c);a=d.emoji;d=j.jsx(b("EmojiSticker.react"),{className:"_2poz _ui9",emoji:c.body,emojiImage:a,sourceURI:""},m+c.message_id);return d},_getShareAttachment:function(a,c,d,e,f,g,h,i,k){var m,o,p=null;c&&c.platform_xmd&&(p=JSON.parse(c.platform_xmd));o=(o=a)!=null?(o=o.share)!=null?(o=o.messenger_ctas)!=null?(o=o[0])!=null?o.page_id:o:o:o:o;m=(m=a)!=null?(m=m.share)!=null?(m=m.target)!=null?(m=m.items)!=null?(m=m[0])!=null?(m=m.call_to_actions)!=null?(m=m[0])!=null?m.page_id:m:m:m:m:m:m:m;o=o||m;m=o?b("MercuryIDs").getParticipantIDFromUserID(o):c.author;return j.jsx(b("MercuryShareAttachment.react"),{attachment:a.share,isFromViewer:f,isPageMessage:g,isSponsored:c.is_sponsored,isVisible:!!e,location:b("MercuryShareAttachmentRenderLocations").MESSENGER,maxWidth:l,messageID:c.message_id,mnMessageType:p&&p.template_type,onComponentLoaded:d,onSelect:h,pageID:m,threadID:c.thread_id,afterDecorators:i,timestamp:c.timestamp,author:c.author,thread:k},n+c.message_id)},_getVoiceClip:function(a,c,d,e,f){d=b("MessengerFromViewerUtils").isFromViewer(c)?d||void 0:void 0;return j.jsx(i,{thread:f,attachment:a,customColor:d,message:c},"audio:"+c.message_id)},_getErrorAttachment:function(a,c){return j.jsx(b("MessengerErrorAttachment.react"),{attachment:a},"error:"+c.message_id)},_getPhotosGroup:function(a,c,d,e){if(!a.length)return null;var f=e&&e.onUnwrap,g=e&&e.isVisible,h=e&&e.onSelect,i=e&&e.isPageMessage;e=e&&e.pageID;return j.jsx(b("MessengerPhotosGroup.react"),{attachments:a,className:"_2poz _52mr _ui9",count:a.length,isPageMessage:i,isVisible:!!g,message:c,onSelect:h,onUnwrap:function(){f&&f()},pageID:e,onAttachmentLoad:d},"photos:"+c.message_id)},getVideoElem:function(a,b){b=b.getMessageElement(a);if(!b)return null;a=b.getElementsByClassName(o);return a&&a.length?a[0]:b},getSphericalPhotoElem:function(a,b){b=b.getMessageElement(a);if(!b)return null;a=b.getElementsByClassName(p);return a&&a.length?a[0]:b},_rendersWithoutAttribution:function(a){return a.length!=1||!b("MercuryAttachment").hasAttribution(a[0])},_getFileComponent:function(a,c){return b("CurrentUser").isWorkUser()?j.jsx(j.Suspense,{fallback:null,children:j.jsx(k,{attachment:a,message:c})},"file:"+a.url):j.jsx(h,{attachment:a},"file:"+a.url)},attachmentShouldAppearOutsideBubble:function(a){return b("MessengerStickerUtils").isStickerAttachment(a)||b("MercuryAttachment").isPhotoGroupAttachment(a)||this.isShareAttachment(a)||this.isP2P(a)||this.isVoiceClip(a)||this.isErrorAttachment(a)||this.isEmojiLikeAttachment(a)||this.isWorkFileAttachment(a)},isPhotosGroupAttachment:function(a){a=a.props.attachments;return!!a&&a.length>1&&a.some(function(a){return!!a&&b("MercuryAttachment").isPhotoGroupAttachment(a)})},isRenderedShareAttachment:function(a){return!!(a.key&&a.key.startsWith(n))},isFileAttachment:function(a){return a.attach_type==="file"},isShareAttachment:function(a){return!!(this._isStoryBased(a)&&!this.isP2P(a)&&(a.share.style_list.indexOf("share")>-1||a.share.style_list.indexOf("fallback")>-1))},isSharedVideoAttachment:function(a){a=a.attach_type==="share"&&a.share&&a.share.subattachments&&a.share.subattachments[0];return!!(a&&a.target&&a.target.video_id)},isP2P:function(a){return!!(this._isStoryBased(a)&&a.share.style_list.indexOf("orion")>-1)},_isStoryBased:function(a){return!!(a.attach_type==="share"&&a.share&&a.share.style_list)},isEmojiLikeAttachment:function(a){return a.attach_type==="emoji_like"},isWorkFileAttachment:function(a){return this.isFileAttachment(a)&&b("CurrentUser").isWorkUser()},isVoiceClip:function(a){a=a.metadata;return!!a&&(!!a.isAudio||a.type===b("MercuryAudioType").AudioClip||a.type===b("MercuryAudioType").VoiceMessageWithTranscript)},isVoiceClipAttachment:function(a){var c=this;a=b("MercuryAttachment").get(a).filter(q).filter(function(a){return c.isVoiceClip(a)});return!!a.length},isP2PAttachment:function(a){var c=this;a=b("MercuryAttachment").get(a).filter(function(a){return q(a)&&c.isP2P(a)});return!!a.length},isSingleVideoAttachment:function(a){a=b("MercuryAttachment").get(a).filter(q).filter(function(a){return b("MercuryAttachment").isVideoAttachment(a)});return a.length===1},isSharedVideoAttachmentMessage:function(a){var c=this;a=b("MercuryAttachment").get(a).filter(q).filter(function(a){return c.isSharedVideoAttachment(a)||c.isGenieSharedVideoAttachment(a)});return a.length===1},isGenieSharedVideoAttachment:function(a){return!!(a.attach_type==="share"&&a.share&&a.share.style_list.indexOf("genie_message")>-1&&a.share.target&&a.share.target.attachment&&this.isSharedVideoAttachment(a.share.target.attachment))},isSingleSphericalPhotoAttachment:function(a){a=b("MercuryAttachment").get(a).filter(q);if(a.length!==1)return!1;a=a.filter(function(a){return a.photo_encodings&&a.photo_encodings.length!==0}).length===1;return a},isErrorAttachment:function(a){return a.attach_type==="error"}};e.exports=a}),null);
__d("MessengerCodePasteUtils",["cx","BanzaiODS","MessengerBubble.react","MessengerFormattingUtils","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=/`{3,}/,j=3,k=/^\s+/,l=/\s+$/;function a(a){return!!(a!=null&&a.search(i)!==-1)}function m(a,b){var c=0;if(b-2>=0){c+=a[b-2].trim().length;var d=a[b-2].match(l);d&&(c+=d[0].length)}b-1>=0&&(c+=a[b-1].length+2*j);d=a[b].match(k);d&&(c+=d[0].length);return c}function n(a,b,c){if(a)return a.map(function(a){return Object.assign(Object.assign({},a),{offset:a.offset-b})}).filter(function(a){return 0<=a.offset&&a.offset<c});else return a}function o(a){a=a.split("\n");return a.length===1?{language:"",code:a[0]}:{language:a[0].replace(/[^a-zA-Z]+/g,""),code:a.slice(1).join("\n")}}function p(a){var c=b("MessengerFormattingUtils").getRanges(a).filter(function(a){return a.formatter===b("MessengerFormattingUtils").formatConfigs.blockquote.formatter||a.formatter===b("MessengerFormattingUtils").formatConfigs.blockcode.formatter}).sort(function(a,b){return a.offset!==b.offset?a.offset-b.offset:b.length-a.length}),d=[],e=0,f=0;for(var g=0;g<c.length;g++){var h=c[g];if(h.offset<f)continue;h.formatter===b("MessengerFormattingUtils").formatConfigs.blockcode.formatter&&(d.push(a.substring(e,h.offset)),d.push(h.innerText),e=h.offset+h.length);f=h.offset+h.length}d.push(a.substring(e));return d}function c(a,c,d,e,f,g){a=p(a);var i=[],j=0;for(var k=0;k<a.length;k+=2){var l=a[k].trim();if(l&&l.length>0){j+=m(a,k);var q=c?n(c,j,l.length):c;i.push(h.jsx(b("MessengerBubble.react"),{body:l,customColor:e!=null?e:void 0,className:"clearfix _3058 _ui9",isFromViewer:f,ranges:q,threadID:d,thread:g},k))}if(k+1<a.length&&a[k+1]){l=o(a[k+1]);q=l.code;b("BanzaiODS").bumpEntityKey(3303,"messenger_code_paste","render_bubble");i.push(h.jsx("div",{className:"_3058 _wu0 _52mr",children:q},k+1))}}return i}e.exports={containsCodeBlock:a,getCodeAndMessageBubbles:c}}),null);
__d("MNRTCCallabilityStore",["MessengerDispatcher","RTCCallabilityStore"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("RTCCallabilityStore"))(b("MessengerDispatcher"))}),null);
__d("shouldNotRenderSegoe",["MessengerConfig","UserAgent"],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("[\u0530-\u05f4\u10a0-\u10ff]"),h=b("UserAgent").isBrowser("Chrome")&&b("UserAgent").isPlatform("Windows 10");e.exports=function(a){return!b("MessengerConfig").SegoeUIDisabled&&h&&g.test(a)}}),null);
__d("MessengerBubble.react",["cx","fbt","invariant","requireCond","EmojiOnlyMessage.react","FlexLayout.react","MercuryIDs","MercuryMessageBody.react","MercuryMessageRenderLocations","MessageReplyPermissions","MessengerActions","MessengerCodeBubble.re","MessengerColors","MessengerContactActions.bs","MessengerCustomColorUtils.bs","MessengerDecorator","MessengerDotComAndInboxM4Check.bs","MessengerEnvironment","cr:1398876","MessengerSupportedEmojiUtils","React","RepliedToMessageContent.react","SimpleXUIDialog","cr:1398877","WorkChatRedesignedMessageListCheck.re","gkx","goURI","immutable","joinClasses","prop-types","shouldNotRenderSegoe"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("MessengerCodeBubble.re").make,k=b("MessengerContactActions.bs").actions,l=b("React"),m=0;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,e;for(var f=arguments.length,g=new Array(f),j=0;j<f;j++)g[j]=arguments[j];return(c=e=a.call.apply(a,[this].concat(g))||this,e.state={emojis:void 0},e.$2=function(a,c,f){switch(a){case k.MESSAGE:e.$3(c,f);break;case k.PROFILE:a=b("MercuryIDs").getParticipantIDFromUserID(c.id);a=e.props.participants&&e.props.participants.get(a);if(a&&a.href){var g=b("MessengerEnvironment").messengerdotcom;g?window.open(a.href):b("goURI")(a.href)}else e.$3(c,f);break;case k.FREE_CALL:d(["FBRTCCore","MNRTCCallabilityStore"],function(a,d){var e=c.id;e||i(0,1247);a.isAvailableForWebrtcCalling(e)||d.isCallable(e)?a.startOutgoingCall(e,"messenger_bubble_free_call",!1):b("SimpleXUIDialog").show(h._("{firstname} can't be reached right now.",[h._param("firstname",c.contactName)]),h._("Can't Connect Call"))});break}},c)||babelHelpers.assertThisInitialized(e)}var e=c.prototype;e.componentDidMount=function(){if(!this.props.emojis){var a=this.props.body||"";a=b("MessengerSupportedEmojiUtils").getEmojiOnlyContents(a);a&&a.length&&this.setState({emojis:a})}};e.$1=function(){if(this.props.message!=null&&this.props.message.thread_id!=null&&this.props.message.tags!=null&&this.props.message.attachments!=null&&this.props.message.attachments.length>0){var a,b,c=this.props.message;a=(a=c.attachments[0].share)==null?void 0:(a=a.target)==null?void 0:a.sender_wec_number;b=(b=c.attachments[0].share)==null?void 0:(b=b.target)==null?void 0:b.sender_wec_number_formated;var d=c.thread_id.replace("user:",""),e=c.tags[m]!=="source:wa_callback",f=this.props.participants!=null&&this.props.participants.last()!=null&&this.props.participants.last().wec_group_participant_count==null;c=(c=c.attachments[0].share)==null?void 0:(c=c.target)==null?void 0:c.sender_wec_name;if(e||d===a||!this.props.wecFirstMessage||f)return null;if(a!=null&&c!=null)if(a===c)return l.jsx("div",{className:"_7ox8",children:b});else return l.jsxs("div",{className:"_7ox8",children:[b,"  ~",c]})}return null};e.render=function(){var a=this,c=!1,d=null;this.state.emojis?d=l.jsx(b("EmojiOnlyMessage.react"),{contents:this.state.emojis}):(c=!0,d=l.jsx(b("MercuryMessageBody.react"),{ref:this.props.bodyRef,body:this.props.body,className:"_3oh-"+(b("shouldNotRenderSegoe")(this.props.body||"")?" _2por":"")+" _58nk",threadCustomColor:this.props.threadCustomColor,isFromViewer:this.props.isFromViewer,ranges:this.props.ranges,metaRanges:this.props.metaRanges,plainText:this.props.plainText,threadID:this.props.threadID,customLike:this.props.customLike,onContactSelect:this.$2,renderLocation:b("MercuryMessageRenderLocations").MESSENGER}));var e=[],f=[],g=this.props.message,h=!!this.props.isFromViewer;g&&!this.props.excludeAfterDecorators&&(b("MessengerDecorator").getAfterDecorators().forEach(function(b){b.check(g,h)&&(e.push(b.render(g,h,a.props)),f.push(b.getAdditionalClassNames()))}),b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(g,h)&&f.push(a.getAdditionalClassNames())}));var i=f.join(" "),k=null;this.props.body&&(this.props.containsCode?k=l.jsx(j,{body:this.props.body,className:this.props.className,customColor:this.props.customColor,isFromViewer:this.props.isFromViewer===!0,ranges:this.props.ranges||[],threadID:this.props.threadID||"",thread:this.props.thread}):this.props.is_forwarded&&b("gkx")("974812")?k=l.jsxs("blockquote",{className:"_8720",children:[l.jsx("div",{className:"_8721"}),d]}):k=l.jsxs("div",{className:"_aok"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7i2m":"")+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w6-":""),tabIndex:0,children:[d,this.props.attachments]}));var m=this.props.repliedToMessage&&b("MessageReplyPermissions").bubbleContainsRepliedToMessage(this.props.repliedToMessage,!!(!this.props.containsCode&&this.state.emojis))?l.jsx(b("RepliedToMessageContent.react"),{isFromViewer:this.props.isFromViewer,isLinkified:!0,isMessengerUI:!0,repliedToMessageData:this.props.repliedToMessage,scrollToRepliedMessage:this.props.scrollToRepliedMessage,replyInOneBubble:!0}):null,n=this.props.tooltip||{},o=this.props.isFromViewer&&!this.state.emojis&&!this.props.containsCode,p=b("MessengerDotComAndInboxM4Check.bs").yes&&this.props.thread&&o?babelHelpers["extends"]({backgroundAttachment:"fixed"},b("MessengerColors").makeLinearGradient(this.props.thread.gradient_colors,this.props.thread.solid_color,b("MessengerCustomColorUtils.bs").defaultColor())):{};return l.jsxs("div",babelHelpers["extends"]({},b("WorkChatRedesignedMessageListCheck.re").enabled?{}:n,{style:p,className:b("joinClasses")(i,this.props.className,(this.props.containsCode?"":"_hh7")+(b("MessengerDotComAndInboxM4Check.bs")&&!this.props.containsCode?" _6ybn":"")+(this.props.containsCode?" _4qoc":"")+(!this.props.isFromViewer&&this.props.containsCode?" _65sp":"")+(this.props.isFromViewer&&this.props.containsCode?" _65sq":"")+(this.props.containsCode?"":" _s1-")+(!this.props.containsCode&&!this.props.notBubblish?" _52mr":"")+(!this.props.containsCode&&this.props.isP2PAttachment?" _4z55":"")+(!this.props.containsCode&&!!this.state.emojis?" _2f5r":"")+(!this.props.containsCode&&!!this.state.emojis?" _581a":"")+(o?" _43by":"")+(b("MessengerDotComAndInboxM4Check.bs").yes&&o?" _6ybp":"")+(!this.props.containsCode&&c?" _3oh-":"")+(m?" _6uum":"")+(this.props.is_forwarded?" _8722":"")),children:[g==null||this.props.isPageMessage||this.props.isSavedView?null:b("cr:1398877")!=null?l.jsx(b("cr:1398877"),{message:g,hovered:this.props.isHovered,messageProps:{isFromViewer:this.props.isFromViewer===!0,onReplyToMessage:this.props.onReplyToMessage,handleToggleOriginal:this.props.handleToggleOriginal,hasFormatting:this.props.hasFormatting,isShowingOriginal:this.props.plainText}}):b("cr:1398876")!=null&&l.jsx(b("cr:1398876"),{className:"_1z_2",message:g,isFromViewer:!!this.props.isFromViewer,hovered:this.props.isHovered,onReactionSwap:this.props.onReactionSwap,onReplyToMessage:this.props.onReplyToMessage,messageProps:babelHelpers["extends"]({},this.props,{handleToggleOriginal:this.props.handleToggleOriginal,hasFormatting:this.props.hasFormatting,isShowingOriginal:this.props.plainText}),isSavedView:this.props.isSavedView}),m,this.$1(),k,k?null:d,k?null:this.props.attachments,e.length>1?l.jsx(b("FlexLayout.react"),{align:"center",className:"_7moe",children:e}):e]}))};e.$3=function(a,c){c&&c.preventDefault();c=b("MercuryIDs").getThreadIDFromUserID(a.id);c&&b("MessengerActions").selectThread(c)};return c}(l.PureComponent);a.propTypes={attachments:(c=b("prop-types")).instanceOf(b("immutable").List),body:c.string,customColor:c.string,customLike:c.object,excludeAfterDecorators:c.bool,isFromViewer:c.bool,message:c.object,metaRanges:c.array,notBubblish:c.bool,onUnwrap:c.func,participants:c.object,plainText:c.bool,ranges:c.array,threadID:c.string,threadCustomColor:c.string,onReactionSwap:c.func,onReplyToMessage:c.func,isHovered:c.bool,handleToggleOriginal:c.func,hasFormatting:c.func,isPageMessage:c.bool,isSavedView:c.bool,repliedToMessage:c.object,scrollToRepliedMessage:c.func,thread:c.object,wecFirstMessage:c.bool,is_forwarded:c.bool};e.exports=a}),null);
__d("MessengerCodeBubble.bs",["React","bs_caml_option","MessengerCodePasteUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.body,d=a.className,e=a.customColor,f=a.isFromViewer,h=a.ranges,i=a.threadID;a=a.thread;c=b("MessengerCodePasteUtils").getCodeAndMessageBubbles(c,h,i,e,f,a);h={children:c};d!==void 0&&(h.className=b("bs_caml_option").valFromOption(d));return g.jsx("div",h)}c=a;f.make=c}),null);
__d("MessengerCodeBubble.re",["MessengerCodeBubble.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerCodeBubble.bs").make;f.make=a}),null);
__d("ComposedEntityMutability",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MUTABLE:0,IMMUTABLE:1,SEGMENTED:2})}),null);
__d("MessengerConstants",[],(function(a,b,c,d,e,f){"use strict";a={NEW_THREAD_KEY:"new",BROWSER_EXTENSIONS_DIALOG_DIMENSIONS:{HEIGHT:604,WIDTH:405}};e.exports=a}),null);
__d("MessengerEditorStateManager",["CacheStorage","ComposedEntityMutability","ComposedEntityMutabilityToName","ComposedEntityTypeToName","CurrentUser","DraftEntityInstance","EditorState","FBLogger","LogHistory","MessengerConstants","SelectionState","decodeBlocks","encodeBlocks","mapObject"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ComposedEntityMutability").IMMUTABLE,i=b("LogHistory").getInstance("messenger_editor_state_manager"),j=new(b("CacheStorage"))("localstorage","msgdraft:"),k=new(b("CacheStorage"))("memory"),l=!1,m;a={get:function(a){if(a==null)return this._getEmptyEditorState();if(a===b("MessengerConstants").NEW_THREAD_KEY)return m||this._getEmptyEditorState();var c=j.get(this._getKey(a),!1);l&&(c?(k.set(a,c),j.remove(this._getKey(a))):c=k.get(a,!1));if(!c)return this._getEmptyEditorState();a=c.encodedBlocks;var d=(g||(g=b("mapObject")))(a.entityMap,function(a,c){return new(b("DraftEntityInstance"))({type:b("ComposedEntityTypeToName")[a.type],mutability:b("ComposedEntityMutabilityToName")[h],data:a.data})});a=b("decodeBlocks")(a.blocks,d);d=b("EditorState").createWithContent(a);return b("EditorState").acceptSelection(d,new(b("SelectionState"))(c.selection))},set:function(a,c){if(a===b("MessengerConstants").NEW_THREAD_KEY){m=c;return}var d=b("encodeBlocks")(c.getCurrentContent());c=c.getSelection();var e=c.toJS(),f=l?k:j;f=f.set(this._getKey(a),{encodedBlocks:d,selection:e});f||(this._logWriteError(a),this._switchToMemoryStore(a,d,c))},_getKey:function(a){return b("CurrentUser").getID()+":"+a},_logWriteError:function(a){var c=j.getLastSetExceptionMessage(),d=j.getStorageKeyCount();b("FBLogger")("messenger_dot_com").warn("Fail to write to MessengerEditorState %s  %s",c,d);i.debug("set_editor_state_fail",JSON.stringify({threadID:a,error:c,keysCount:d}))},_switchToMemoryStore:function(a,c,d){if(!l){b("FBLogger")("messenger_dot_com").warn("Switching to MemoryStorage");i.debug("Switching to memoryStorage");l=!0;d=d.toJS();k.set(a,{encodedBlocks:c,selection:d})}},_getEmptyEditorState:function(){var a=b("EditorState").createEmpty();return b("EditorState").forceSelection(a,a.getSelection())}};e.exports=a}),null);
__d("DebouncedMentionsTextEditor.react",["AbstractMentionsTextEditor.react","clearImmediate","debounce","setImmediate"],(function(a,b,c,d,e,f){var g=new RegExp(/@[^ ]*$/gm);a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.__maybeSearch=function(){var a=d.props.editorState,c=a.getSelection();if(c.getHasFocus()&&c.isCollapsed()){var e=a.getCurrentContent();a=d.props;var f=a.mentionsSource,h=a.assistantTypeaheadSource;(f||h)&&(d.$DebouncedMentionsTextEditor1&&b("clearImmediate")(d.$DebouncedMentionsTextEditor1),d.$DebouncedMentionsTextEditor1=b("setImmediate")(function(){if(f){var a=e.getBlockForKey(c.getAnchorKey()).getText().slice(0,c.getAnchorOffset());g.lastIndex=0;var b=g.test(a);f.search(e,c,function(a,c){d.__onShowMentions(a,c,null,b)})}h&&h.search(e,c,d.__onShowMentions)}))}};d.__debouncedSearch=b("debounce")(d.__maybeSearch,50);return d}var d=c.prototype;d.componentDidUpdate=function(a){this.props.editorState!==a.editorState&&this.__debouncedSearch()};d.componentWillUnmount=function(){this.$DebouncedMentionsTextEditor1&&b("clearImmediate")(this.$DebouncedMentionsTextEditor1),a.prototype.componentWillUnmount.call(this)};return c}(b("AbstractMentionsTextEditor.react"));e.exports=a}),null);
__d("MessengerCollapsedLogMessageGroup.react",["cx","fbt","Link.react","React","WorkChatRedesignedMessageListCheck.re"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={collapsed:!0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=h._("See Latest Activity"),d=h._("See Less Activity");return i.jsxs("div",{className:"_497p"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w5v":""),children:[i.jsx(b("Link.react"),{className:"_4ea1",onClick:function(){return a.setState(function(a){return{collapsed:!a.collapsed}})},children:this.state.collapsed?c:d}),this.state.collapsed?null:i.jsxs("div",{children:[i.jsx("div",{className:"_4ea2"}),this.props.children,i.jsx("div",{className:"_4ea2"})]})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("MessengerContextualDialog.react",["cx","AccessibleLayer","ContextualLayerAutoFlipHorizontal","ContextualLayerUpdateOnScroll","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";a=12;c=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("ContextualLayerAutoFlipHorizontal"),b("ContextualLayerUpdateOnScroll"),b("LayerHideOnEscape"),b("AccessibleLayer")],displayName:"MessengerContextualDialog",shouldSetARIAProperties:!1,theme:{wrapperClassName:"_1r_9",arrowDimensions:{offset:a,length:16}}}));e.exports=c}),null);
__d("MessengerPopoverMenu.react",["cx","ContextualDialogArrow","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","PopoverMenu.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.showPopover=function(){this.refs.menu&&this.refs.menu.showPopover()};d.render=function(){var a=this.props,c=a.children,d=a.className,e=a.isOpen;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","isOpen"]);c=h.Children.only(c);return h.jsx(b("PopoverMenu.react"),babelHelpers["extends"]({className:b("joinClasses")(d,!a.disableArrowKeyActivation||e?"_150g":""),enableActivationOnEnter:!0,layerBehaviors:[b("ContextualLayerAutoFlip"),b("ContextualLayerUpdateOnScroll"),b("ContextualDialogArrow")]},a,{ref:"menu",children:c}))};return c}(h.PureComponent);e.exports=a}),null);
__d("MessengerRadioButtonReact.bs",["cx","React","bs_caml_option","XUIRadioInput.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c={checked:a.checked,className:"__rm",disabled:a.disabled,name:a.name,onChange:a.onChange,value:a.value};a=b("bs_caml_option").undefined_to_opt(a.id);a!==void 0&&(c.id=b("bs_caml_option").valFromOption(a));return h.createElement(b("XUIRadioInput.react"),c)}f.make=a}),null);
__d("MessengerRadioList.react",["invariant","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","MessengerRadioButtonReact.bs","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a.target instanceof HTMLInputElement||g(0,761),c.props.onSelect&&c.props.onSelect(c.props.value)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return h.jsx("li",{className:this.props.className,children:h.jsxs(b("InputLabel_DEPRECATED.react"),{display:"inline",children:[h.jsx(b("MessengerRadioButtonReact.bs").make,{checked:this.props.selectedValue===this.props.value,disabled:!!this.props.disabled,name:this.props.name,onChange:this.$1,value:this.props.value}),h.jsx(b("InputLabelLabel_DEPRECATED.react"),{children:this.props.children})]})})};return c}(h.Component);a.propTypes={disabled:(c=b("prop-types")).bool,name:c.string,onSelect:c.func,selectedValue:c.any,value:c.any};d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=h.Children.map(this.props.children,function(a){return h.cloneElement(a,{name:this.props.name,onSelect:this.props.onValueChange,selectedValue:this.props.selectedValue})},this);return h.jsx("ul",babelHelpers["extends"]({},this.props,{name:null,children:a}))};return b}(h.Component);d.propTypes={name:c.string,onValueChange:c.func,selectedValue:c.any};d.Item=a;e.exports=d}),null);
__d("MessengerContextualDialogReact.bs",["bs_curry","ReasonReact.bs","bs_js_null_undefined","MessengerContextualDialog.react"],(function(a,b,c,d,e,f){"use strict";function g(a){if(a!==void 0)switch(a){case 0:return"center";case 1:return"left";case 2:return"right"}}function a(a,c,d,e,f,h,i,j,k){if(d!==void 0){var l=d;d=function(a){return b("bs_js_null_undefined").fromOption(b("bs_curry")._1(l,0))}}else d=function(a){return};return b("ReasonReact.bs").wrapJsForReason(b("MessengerContextualDialog.react"),{alignment:b("bs_js_null_undefined").fromOption(g(a)),className:b("bs_js_null_undefined").fromOption(c),contextRef:d,offsetY:b("bs_js_null_undefined").fromOption(f),onBlur:b("bs_js_null_undefined").fromOption(e),onToggle:h,shown:b("bs_js_null_undefined").fromOption(i),width:b("bs_js_null_undefined").fromOption(j)},k)}f.stringOfAlignment=g;f.make=a}),null);
__d("MessengerParticipants.re",["bs_curry","MessengerParticipants.bs"],(function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("MessengerParticipants.bs").get,a,c);return a};f.get=a;c=b("MessengerParticipants.bs").getNow;f.getNow=c;d=function(a,c){a=b("bs_curry")._2(b("MessengerParticipants.bs").getMulti,a,c);return a};f.getMulti=d;e=function(a,c){a=b("bs_curry")._2(b("MessengerParticipants.bs").getMultiEager,a,c);return a};f.getMultiEager=e;a=function(a,c){a=b("bs_curry")._2(b("MessengerParticipants.bs").getMultiEagerMap,a,c);return a};f.getMultiEagerMap=a;c=b("MessengerParticipants.bs").removeCallback;f.removeCallback=c}),null);
__d("MessengerBubbleReact.re",["MessengerBubble.react"],(function(a,b,c,d,e,f){a=b("MessengerBubble.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("MercuryTypingAnimationReact.bs",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.className;return h.jsx("div",{children:h.jsxs("div",{children:[h.jsx("div",{className:"_5pd7"}),h.jsx("div",{className:"_5pd7"}),h.jsx("div",{className:"_5pd7"})],className:"_4b0g"}),className:b("joinClasses")("_4a0v _1x3z",a!==void 0?a:"")})}c=a;f.make=c}),null);
__d("MessengerTypingIndicatorReact.bs",["cx","bs_block","bs_curry","React","bs_js_dict","bs_caml_obj","immutable","MercuryIDs","bs_belt_Option","bs_caml_option","CurrentUser","Image.react","ReasonReact.bs","MessengerPersonas.bs","MessengerParticipants.bs","WorkForeignEntityType","MessengerBubbleReact.re","MercuryTypingAnimationReact.bs","MessengerProfileImageWrapperReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("ReasonReact.bs").reducerComponent("MessengerTypingIndicatorReact");function a(a,c,d,e){var f=function(c,a){return b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getMulti([a],function(d){b("bs_curry")._1(c.send,b("bs_block").__(0,[b("bs_js_dict").get(d,a)]));return 0}))},g=function(a){if(c==null)return;else{a=b("MercuryIDs").getUserIDFromParticipantID(c);if(a==null)return;else return b("bs_caml_option").nullable_to_opt(b("MessengerPersonas.bs").getNow(a))}};return{debugName:i.debugName,reactClassInternal:i.reactClassInternal,handedOffState:i.handedOffState,getDerivedStateFromProps:i.getDerivedStateFromProps,didMount:function(a){var d=a.state.author;if(d!==void 0||c==null)return 0;else{d=b("MessengerParticipants.bs").getNow(c);if(d==null)return b("bs_curry")._1(a.send,b("bs_block").__(1,[f(a,c)]));else return b("bs_curry")._1(a.send,b("bs_block").__(0,[d==null?void 0:b("bs_caml_option").some(d)]))}},didUpdate:function(a){a=a.newSelf;var d=a.state.subscription.contents,e=a.state.author;if(d!==void 0)return 0;else{if(e!==void 0&&(c==null||b("bs_caml_obj").caml_equal(b("bs_caml_option").valFromOption(e).id,c)))return 0;if(c==null)return 0;else return b("bs_curry")._1(a.send,b("bs_block").__(1,[f(a,c)]))}},willUnmount:function(a){a=a.state.subscription.contents;if(a!==void 0)return b("MessengerParticipants.bs").removeCallback(b("bs_caml_option").valFromOption(a));else return 0},shouldUpdate:i.shouldUpdate,render:function(c){var d=g(0);if(c.state.author===void 0&&d===void 0)return null;else{var e=c.state.author;d=d!==void 0?d.profile_picture_url:e!==void 0?b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(e).image_src):void 0;e=b("bs_belt_Option").flatMap(b("bs_belt_Option").flatMap(c.state.author,function(a){return b("bs_caml_option").nullable_to_opt(a.work_foreign_entity_info)}),function(a){return b("bs_caml_option").some(a.type)});e=e!==void 0?b("CurrentUser").isWorkUser()&&b("bs_caml_obj").caml_equal(b("bs_caml_option").valFromOption(e),b("WorkForeignEntityType").FOREIGN):!1;c=c.state.author;return h.jsxs("div",{children:[h.jsx("div",{children:h.createElement(b("MessengerProfileImageWrapperReact.bs").make,{isMessengerUser:c!==void 0?b("bs_caml_option").valFromOption(c).is_messenger_user:!1,size:32,className:"_1t_r",showBadge:e,children:d!==void 0?h.jsx(b("Image.react"),{alt:"",src:d,height:32,width:32}):h.jsx(b("Image.react"),{alt:"",height:32,width:32})}),className:"_1t_q"}),h.jsx("div",{children:h.jsx("div",{children:h.jsx(b("MessengerBubbleReact.re").make,{attachments:b("immutable").List([h.jsx(b("MercuryTypingAnimationReact.bs").make,{},"animation")]),body:"",className:"_3058",ref:a}),className:"_o46 _3erg _29_7"}),className:"_41ud"})],className:"_1t_p _1hbw"})}},initialState:function(a){return{author:c==null?void 0:b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getNow(c)),subscription:{contents:void 0}}},retainedProps:i.retainedProps,reducer:function(a,c){if(a.tag){c.subscription.contents=a[0];return 0}else{c.subscription.contents=void 0;return b("bs_block").__(0,[{author:a[0],subscription:c.subscription}])}},jsElementWrapped:i.jsElementWrapped}}c=32;f.component=i;f.cIMAGE_SIZE=c;f.make=a}),null);
__d("MessengerTypingIndicatorReact.re",["bs_curry","MessengerTypingIndicatorReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f){a=b("ReasonReact.bs").wrapReasonForJs(b("MessengerTypingIndicatorReact.bs").component,function(a){return b("bs_curry")._4(b("MessengerTypingIndicatorReact.bs").make,a.setBubbleRef,a.userID,a.showName,a.children)});f.component=a;f["default"]=a}),null);
__d("MercuryShareAttachmentSnippet.react",["MercuryShareStyleMap","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("MercuryShareStyleMap").getStyleFactory(this.props.attachment);if(a&&a.factory&&!!a.factory.getSnippetComponent){var c=a.factory.getSnippetComponent();return g.jsx(c,babelHelpers["extends"]({},this.props,{attachment:a.attachment}))}return null};return c}(g.Component);e.exports=a}),null);
__d("MercuryAttachmentSnippet.react",["cx","fbt","ix","EmoticonsList","Image.react","MercuryAttachment","MercuryAttachmentSnippetRenderer","MercuryAttachmentSnippetType","MercuryIDs","MercuryShareAttachmentSnippet.react","MessengerParticipants.re","MessengerTextWithEmoticons.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");c=b("React");var k=c.useEffect,l=c.useState;function a(a){var c=a.thread;a=a.viewer;var d=c.snippet_sender,e=l(function(){return d!=null?b("MessengerParticipants.re").getNow(d):null}),f=e[0],g=e[1],n=c.snippet_attachments,o=m(d,a);k(function(){if(d==null)return;var a=b("MessengerParticipants.re").get(d,function(a){return g(a)});return function(){a&&b("MessengerParticipants.re").removeCallback(a)}},[c,a,f,d]);e=C();a=b("MercuryAttachmentSnippetRenderer").getAttachmentSnippetType(n);switch(a){case b("MercuryAttachmentSnippetType").PHOTO:return p(e);case b("MercuryAttachmentSnippetType").GIF:return r(e);case b("MercuryAttachmentSnippetType").VIDEO:return s(e);case b("MercuryAttachmentSnippetType").AUDIO_CLIP:return t(e);case b("MercuryAttachmentSnippetType").LIKE_STICKER:return v(e);case b("MercuryAttachmentSnippetType").STICKER:return w(e);case b("MercuryAttachmentSnippetType").SHARE:return x(e);case b("MercuryAttachmentSnippetType").GIFT:return y(e);case b("MercuryAttachmentSnippetType").FILE:return q(e);case b("MercuryAttachmentSnippetType").ERROR:return B(e);case b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER:return u(e);default:return z(e)}function p(a){return A(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").PHOTO,o,a,n))}function q(a){return A(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").FILE,o,a,n))}function r(a){return A(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").GIF,o,a,n))}function s(a){return A(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").VIDEO,o,a))}function t(a){return A(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").AUDIO_CLIP,o,a))}function u(a){return j.jsx("span",{children:b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER,o,a)})}function v(a){var d=j.jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,text:b("EmoticonsList").symbols.like});if(o)return j.jsx("span",{children:h._("You: {conversation_snippet}",[h._param("conversation_snippet",d)])});else return c.is_canonical?j.jsx("span",{children:h._("{conversation_snippet}",[h._param("conversation_snippet",d)])}):j.jsx("span",{children:h._("{sender name}: {conversation_snippet}",[h._param("sender name",a),h._param("conversation_snippet",d)])})}function w(a){return j.jsx("span",{children:b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").STICKER,o,a)})}function x(a){return n[0].share?j.jsx(b("MercuryShareAttachmentSnippet.react"),{attachment:n[0].share,senderName:a,isViewerSender:o}):A(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").SHARE,o,a))}function y(a){return j.jsx("span",{children:b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").GIFT,o,a)})}function z(a){return j.jsx("span",{children:n.filter(function(a){return a.attach_type==="file"||a.attach_type==="photo"||a.attach_type==="video"}).map(function(a,b){return A(a.name,a.icon_type,b)})})}function A(a,c,d){c=b("MercuryAttachment").getAttachIconClass(c||n[0].icon_type);c=b("joinClasses")(c,"uiIconText _3l6h");return j.jsxs("span",{children:[j.jsx("span",{className:c,children:j.jsx(b("Image.react"),{src:i("86988")})}),a]},d)}function B(a){a=b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").ERROR,o,a);return A(a)}function C(){if(d==null||o)return null;var a=b("MessengerParticipants.re").getNow(d);if(!a)return null;var e=b("MercuryIDs").getUserIDFromParticipantID(d);e=c.custom_nickname&&c.custom_nickname[e];e&&(e=j.jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e}));return e?e:a.short_name}}function m(a,c){return!!(a!=null&&b("MercuryIDs").getParticipantIDFromUserID(c)==a)}e.exports=a}),null);
__d("AdPageMessageTypeEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AD_ADMIN_TEXT:"ad_admin_text",AD_TEXT:"ad_text",AD_BUBBLE:"ad_bubble"})}),null);
__d("MNAdsLogMessageUtils",["AdPageMessageTypeEnum","MercuryConfig","MessagingTag"],(function(a,b,c,d,e,f){"use strict";var g=b("MercuryConfig").LOG_INTERVAL_MS||6e4;a=function(){function a(){this.$1={}}var c=a.prototype;c.isLoggedWithinInterval=function(a){return this.$1[a]&&this.$1[a]-Date.now()<g?!0:!1};c.setLoggingTime=function(a){this.$1[a]=Date.now()};c.logAdsThreadListImpression=function(a){switch(a.folder){case b("MessagingTag").INBOX:this.logWithThreadMetaData(a,"messenger_ads_message_seen_inbox");break;case b("MessagingTag").PENDING:this.logWithThreadMetaData(a,"messenger_ads_message_seen_request");break;default:return}};c.logWithThreadMetaData=function(a,c){if(a.last_message_type!==b("AdPageMessageTypeEnum").NON_AD)return};return a}();e.exports=new a()}),null);
__d("MercuryThreadSnippet.react",["cx","fbt","MercuryAttachmentSnippet.react","MercuryIDs","MessengerTextWithEmoticons.react","MNAdsLogMessageUtils","React","immutable","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return this.props.shouldRenderYou!==a.shouldRenderYou||this.props.thread!==a.thread||this.props.viewer!==a.viewer||this.props.className!==a.className||!b("immutable").is(a.participants,this.props.participants)};d.render=function(){return i.jsxs("span",{className:this.props.className,children:[this.$1(),this.$2()]})};d.$1=function(){return!this.props.thread.snippet||!l(this.props.thread)?null:i.jsx("span",{className:"_j0r"})};d.$2=function(){var a,c,d=this.props.thread,e=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),f=d.snippet?d.snippet.toString():null,g=this.props.shouldRenderYou;if(d.snippetCount!=null)return h._({"*":"{number} results","_1":"1 result"},[h._plural(d.snippetCount,"number")]);c=(c=d)!=null?(c=c.snippet_attachments)!=null?(c=c[0])!=null?c.share:c:c:c;a=(a=c)!=null?(a=a.style_list)!=null?a[0]:a:a;c=(c=c)!=null?c.title:c;if((a==="instant_games_leaderboard_update"||a==="instant_games_custom_update")&&c)return c;a=o(d);if(a&&a.length>0&&a[0].attach_type!=="share"||!d.snippet_sender)return this.$3(f);if(m(d))return i.jsx(b("MercuryAttachmentSnippet.react"),{thread:d,viewer:this.props.viewer});c=this.$3(f);if(d.last_message_admin_text_type!=null||d.last_message_unsendability_status==="deny_tombstone_message")return c;b("MNAdsLogMessageUtils").logAdsThreadListImpression(d);a=n(d);if(a)return h._("{name}: {conversation_snippet}",[h._param("name",a),h._param("conversation_snippet",c)]);if(d.snippet_sender===e)return!g?c:h._("You: {conversation_snippet}",[h._param("conversation_snippet",c)]);if(b("MercuryIDs").isCanonical(d.thread_id)&&!this.props.shouldAlwaysRenderSender)return c;f=this.props.participants.get(d.snippet_sender);if(!f)return c;a=f.short_name||f.name;if(d){e=d.custom_nickname?d.custom_nickname:null;g=b("MercuryIDs").getUserIDFromParticipantID(f.id);e&&g&&e[g]&&(a=i.jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e[g]}))}return!a?c:h._("{name}: {conversation_snippet}",[h._param("name",a),h._param("conversation_snippet",c)])};d.$3=function(a){if(a&&a.startsWith("?OTR"))return h._("[encrypted message]");var c=this.props.thread;if(l(c))return i.jsx(b("MercuryAttachmentSnippet.react"),{thread:c,viewer:this.props.viewer});if(a)return i.jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:a});return j(c)?k(c):null};return c}(i.Component);a.propTypes={participants:(c=b("prop-types")).instanceOf(b("immutable").Map).isRequired,shouldAlwaysRenderSender:c.bool,shouldRenderYou:c.bool,thread:c.object.isRequired,viewer:c.string.isRequired};function j(a){var b;a=o(a);return a&&a.length===1&&a[0].attach_type==="share"&&((b=a[0].share)==null?void 0:b.style_list)!=null&&(a[0].share.style_list.indexOf("video_meetup_link")>=0||a[0].share.style_list.indexOf("rooms_speakeasy_xma")>=0)}function k(a){a=o(a);return a&&a.length===1&&((a=a[0].share)==null?void 0:a.title)||null}function l(a){a=o(a);return!!(a&&a.length>0&&!(a[0].attach_type==="share"&&(!a[0].share||a[0].share.subattachments.length===0)))}function m(a){var b;a=o(a);return a&&a.length===1&&a[0].attach_type==="share"&&((b=a[0].share)==null?void 0:b.style_list)!=null&&(a[0].share.style_list.indexOf("message_location")>=0||a[0].share.style_list.indexOf("message_live_location")>=0)}function n(a){var b=o(a);return a&&b&&b[0]&&b[0].share&&b[0].share.target&&b[0].share.target.genie_name?b[0].share.target.genie_name:null}function o(a){return a.snippet_attachments===void 0?[]:a.snippet_attachments}e.exports=a}),null);
__d("MessageList.react",["cx","requireCond","Actor","CurrentUser","MercuryIDs","MercuryMessageGroup","MercuryShareAttachmentRenderLocations","MessengerDomIDs.bs","MessengerLightweightActionUtils","MessengerMessage.bs","MessengerObjectAssociationType","MessengerParticipantUtils.bs","MessengerPresenceProvider.bs","cr:832269","React","ReactDOM","cr:1480179","cr:1140097","gkx","immutable","nullthrows","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("Actor").ActorProvider,i=b("MessengerDomIDs.bs").ids,j=b("MessengerPresenceProvider.bs").jsComponent,k=b("React"),l=2,m=1e3*60*60,n=6,o=function(a){var b;b=(b=a)!=null?(b=b.log_message_data)!=null?b.message_type:b:b;switch(b){case"group_poll":return(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.question_id:b:b:b;case"instant_game_update":return(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.game_id:b:b:b;case"lightweight_event_create":case"lightweight_event_update":case"lightweight_event_delete":case"lightweight_event_update_time":case"lightweight_event_update_title":case"lightweight_event_update_location":case"lightweight_event_notify_before_event":case"lightweight_event_notify":case"lightweight_event_rsvp":return(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.event_id:b:b:b;case"confirm_friend_request":b=((b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.friend_request_subtype:b:b:b)||((b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.subtype:b:b:b);return!b||b.toLowerCase()!=="icebreaker"?null:r(a);case"messenger_icebreaker_vote_cast":return r(a);default:return null}},p=function(a){return b("MessengerLightweightActionUtils").isLWAMessage(a)?"lwa":null};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={activeMessageID:null,messageGroups:[],prevMessages:null,newMessagesGroupIndex:Infinity,lastReadTimestamp:((b=d.props.thread)==null?void 0:b.last_read_timestamp)||Infinity,newMessagesCountForDisplay:0},d.$5=function(a){d.setState(function(b){return{activeMessageID:b.activeMessageID===a?null:b.activeMessageID}})},d.$6=function(a){d.setState({activeMessageID:a})},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,c){if(c.prevMessages!==a.messages)if(b("cr:832269")!=null){var d=c.lastReadTimestamp;c=a.location;var e=a.messages,f=a.thread,g=b("MercuryIDs").getParticipantIDFromUserID(a.viewer);(f==null?void 0:f.snippet_sender)===g&&(d=Infinity);f=e.findLast(function(a){return a.author===g});f&&f.timestamp>d&&(d=f.timestamp);f=a.messages.filter(function(a){return a.timestamp<=d});var h=a.messages.filter(function(a){return a.timestamp>d});f=b("MercuryMessageGroup").calculateMessageGroups(f,c);c=b("MercuryMessageGroup").calculateMessageGroups(h,c);h=h.filter(function(a){return a.log_message_type==null}).size;return{messageGroups:[].concat(f,c),prevMessages:e,newMessagesGroupIndex:f.length,newMessagesCountForDisplay:h,lastReadTimestamp:d}}else return{messageGroups:b("MercuryMessageGroup").calculateMessageGroups(a.messages,a.location),prevMessages:a.messages};else return null};var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.DateBreak,e=c.forGameChat,f=c.location,g=c.selectedMessageId,r=c.MessageGroup,s=c.CollapsedLogMessageGroup,x=[],y=[];c=this.props.thread&&this.props.thread.solid_color;var z=c?{backgroundColor:c}:null,A=this.state.activeMessageID,B=this.state.messageGroups,C=B.length,D=this.props.readReceipts;c=D.last();var E=c?c.watermark:0,F=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),G={};for(var c=this.props.messages.size-1;c>=0;c--){var H=this.props.messages.get(c),I=o(H)||p(H);I&&!G[I]&&(G[I]=H.message_id)}var J=function(h){var i=h>0?B[h-1]:null;i=i&&i.length>0?i[i.length-1]:null;var o=B[h],J=o[0],L=o[o.length-1],M=!1;b("cr:832269")!=null&&h>0&&h===a.state.newMessagesGroupIndex&&a.state.newMessagesCountForDisplay>0&&x.push(k.jsx("div",{ref:"newMessageDivider",children:k.jsx(b("cr:832269"),{newMessagesCount:a.state.newMessagesCountForDisplay})},"new-message-divider"));if(!i||J.timestamp-i.timestamp>m){M=!0;i=k.jsx(d,{date:new Date(J.timestamp),ref:"db:"+J.message_id},"db:"+J.message_id);y.length===0&&x.push(i)}i=p(J);if(i&&G[i]!==J.message_id){i=a.$1(J,G);x.push(i);return"continue"}if(J.action_type=="ma-type:log-message"){i=(I=J)!=null?(I=I.log_message_data)!=null?I.message_type:I:I;var N=(H=J)!=null?(H=H.log_message_data)!=null?(H=H.untypedData)!=null?H.friend_request_subtype:H:H:H,O=i==="parties_presence",P=i==="instant_game_update",Q=i==="group_poll";N=i==="messenger_icebreaker_vote_cast"||i==="confirm_friend_request"&&N&&N.toLowerCase()==="icebreaker";var R=["lightweight_event_create","lightweight_event_update","lightweight_event_delete","lightweight_event_update_time","lightweight_event_update_title","lightweight_event_update_location","lightweight_event_notify_before_event","lightweight_event_notify","lightweight_event_rsvp"].includes(i);if((f===b("MercuryShareAttachmentRenderLocations").CHAT||f===b("MercuryShareAttachmentRenderLocations").MESSENGER)&&(J.log_message_type==="log:video-call"||J.log_message_type==="log:phone-call"||i==="messenger_call_log")){i=a.$2(J,F,B,C,h,D,E,L,G,g);x.push(i)}else{i=a.$3(J,G);c=J.message_id;!P&&!Q&&!R&&!N&&y.push(i);if(O)return"continue";(y.length===o.length||P||Q||R||N)&&(a.$4(y,x,c,z,s),y=[]);(P||Q||R||N)&&x.push(i)}return"continue"}o=b("immutable").List(o);var S=t(B,C,h,G),T=!v(D,o,S),U=u(E,L),V=w(a.props.deliveryTimestamp,L),W=o.first().author,X=b("MessengerMessage.bs").getPersona(L),Y=F===J.author;O=Y?0:n+l;var Z=a.props.maxBubbleWidth?a.props.maxBubbleWidth-O:null;x.push(k.jsx(j,{subscribeToIDs:W?[W]:null,children:function(c){return k.jsx(r,{activeMessageID:q(A,o),author:W,deliveryTimestamp:V,forGameChat:e,hasDateBreak:M,isCanonical:a.props.isCanonical,isFromViewer:Y,isPageMessage:a.props.isPageMessage,isOnline:W?b("MessengerParticipantUtils.bs").has(c,W):!1,lastReadTimestamp:U,maxBubbleWidth:Z,messages:o,nextTimestamp:S,onReactionSwap:a.props.onReactionSwap,onAttachmentLoad:a.props.onAttachmentLoad,onMessageDeselect:a.$5,onMessageSelect:a.$6,onStickerClick:a.props.onStickerClick,onReplyToMessage:a.props.onReplyToMessage,pageID:a.props.isPageMessage===!0?a.props.viewer:null,persona:X,readReceipts:T?D:b("immutable").OrderedMap(),ref:function(b){return a.refs["mg:"+J.message_id]=b},thread:a.props.thread,threadID:a.props.threadID,scrollToRepliedMessage:a.props.scrollToRepliedMessage,selectedMessageId:g,rolesIDWithColor:a.props.rolesIDWithColor},"mg:"+J.message_id)}},"pp:"+J.message_id))};for(var K=0;K<C;K++){var L=J(K);if(L==="continue")continue}L=this.props.thread;J=this.props.threadID||(L==null?void 0:L.thread_id)||(L==null?void 0:L.thread_fbid);K=null;f===b("MercuryShareAttachmentRenderLocations").MESSENGER&&J&&!this.props.isPageMessage&&b("cr:1140097")&&!b("gkx")("1332693")&&((L==null?void 0:L.object_association_type)===b("MessengerObjectAssociationType").GENERAL_CHAT||(L==null?void 0:L.work_associated_group)!=null)&&(L==null?void 0:(J=L.participants)==null?void 0:J.length)===1&&(K=k.jsx(b("cr:1140097"),{}));return k.jsx(h,{initialActorID:b("CurrentUser").getID(),readonly:!0,children:k.jsxs("div",{id:f===b("MercuryShareAttachmentRenderLocations").MESSENGER?i.CONVERSATION:null,children:[this.renderEmptyGroupChatStateMessage(),K,x]})})};d.renderEmptyGroupChatStateMessage=function(){if(!b("CurrentUser").isWorkUser())return null;var a=this.props.thread;if(a&&b("cr:1480179")){a=(a=(a=a.work_associated_group)==null?void 0:a.is_default_child_group)!=null?a:!1;return a?k.jsx(b("cr:1480179"),{}):null}return null};d.getNewMessageDivider=function(){return this.refs.newMessageDivider};d.getMessageElement=function(a,c){if(c===!0){var d=this.refs["db:"+a];if(d)return b("ReactDOM").findDOMNode(d)}d=this.$7(a);if(!d)return null;d=d[0].message_id;var e=this.refs["mg:"+d];if(!e)return null;return c===!0&&d===a?b("ReactDOM").findDOMNode(e):e.getMessageElement(a)};d.getMessageComponent=function(a){var b=this.$7(a);if(!b)return null;b=b[0].message_id;b=this.refs["mg:"+b];return!b?null:b.getMessage(a)};d.$7=function(a){return this.state.messageGroups.find(function(b){return b.some(function(b){return b.message_id===a})})};d.$4=function(a,b,c,d,e){a.length!==0&&(a.length>1?b.push(k.jsx(e,{style:d,children:a},"mg:"+c)):b.push(k.jsx("div",{children:a},"mg:"+c)))};d.$2=function(a,c,d,e,f,g,h,i,l,m){var n=this,o,p,q=this.props.MessageGroup;p=((p=a)!=null?(p=p.log_message_data)!=null?p.untypedData:p:p)||{};o=(o=a)!=null?(o=o.log_message_data)!=null?o.message_type:o:o;if(o==="messenger_call_log"){o={message_type:"messenger_call_log",call_capture_attachments:p.call_capture_attachments,caller:b("MercuryIDs").getParticipantIDFromUserID(b("nullthrows")(p.caller_id,"caller id")),callee:b("MercuryIDs").getParticipantIDFromUserID(b("nullthrows")(p.callee_id,"callee id")),server_info_data:p.server_info,thread_id:a.thread_fbid,answered:p.event!=="missed_call",log_message_type:p.video?"log:video-call":"log:phone-call",event:p.event,added_participants:null,removed_participants:null,untypedData:null,image:null,name:null};a=babelHelpers["extends"]({},a,{log_message_data:o})}p={attach_type:"share",share:{style_list:["rtc_call_log","fallback"],log_message_body:a.log_message_body,log_message_data:a.log_message_data,log_message_type:a.log_message_type,timestamp:a.timestamp}};o=babelHelpers["extends"]({},a,{attachments:[p],body:""});var r=b("immutable").List([o]),s=t(d,e,f,l),x=!v(g,r,s),y=u(h,i),z=w(this.props.deliveryTimestamp,i),A=r.first().author;return k.jsx(j,{subscribeToIDs:A?[A]:null,children:function(d){return k.jsx(q,{author:r.first().author,deliveryTimestamp:z,forGameChat:n.props.forGameChat,isCanonical:n.props.isCanonical,isFromViewer:c===a.author,isOnline:A?b("MessengerParticipantUtils.bs").has(d,A):!1,isPageMessage:n.props.isPageMessage,lastReadTimestamp:y,maxBubbleWidth:n.props.maxBubbleWidth,messages:r,nextTimestamp:s,onAttachmentLoad:n.props.onAttachmentLoad,onMessageDeselect:n.$5,onMessageSelect:n.$6,onStickerClick:n.props.onStickerClick,readReceipts:x?g:b("immutable").OrderedMap(),selectedMessageId:m,thread:n.props.thread,threadID:n.props.threadID})}},a.message_id)};d.$3=function(a,c){var d=this.props.LogMessage,e=o(a);c=e?c[e]:null;return a.log_message_type!=="log:error-msg"?k.jsx(d,{className:this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT?"_5w0o":null,onLogMessageExpanded:this.props.onAttachmentLoad,loadMoreMessages:this.props.loadMoreMessages,message:a,onImageLoad:this.props.onAttachmentLoad,viewer:this.props.viewer,isPageMessage:this.props.isPageMessage,thread:this.props.thread,isLastOfType:c===a.message_id},a.message_id):null};d.$1=function(a,c){c=c[b("nullthrows")(p(a),"other group id first message")];var d=this.props.LogMessage;return k.jsx(d,{className:this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT?"_5w0o":null,onLogMessageExpanded:this.props.onAttachmentLoad,loadMoreMessages:this.props.loadMoreMessages,message:a,onImageLoad:this.props.onAttachmentLoad,viewer:this.props.viewer,thread:this.props.thread,isLastOfType:c===a.message_id},a.message_id)};return c}(k.PureComponent);a.propTypes={CollapsedLogMessageGroup:(c=b("prop-types")).func.isRequired,DateBreak:c.func.isRequired,deliveryTimestamp:c.number.isRequired,forGameChat:c.bool,isCanonical:c.bool,isPageMessage:c.bool,location:c.string.isRequired,LogMessage:c.func.isRequired,loadMoreMessages:c.func,MessageGroup:c.func.isRequired,messages:c.instanceOf(b("immutable").List).isRequired,onReactionSwap:c.func,onAttachmentLoad:c.func,onStickerClick:c.func,onReplyToMessage:c.func,readReceipts:c.instanceOf(b("immutable").OrderedMap).isRequired,viewer:c.string.isRequired,thread:c.object,threadID:c.string,scrollToRepliedMessage:c.func,rolesIDWithColor:c.any};function q(a,b){return b.find(function(b){return b.message_id===a})?a:null}function r(a){return(a=a)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.icebreaker_type:a:a:a}function s(a){var b=(a==null?void 0:a.action_type)==="ma-type:log-message";a=(a==null?void 0:(a=a.log_message_data)==null?void 0:a.message_type)==="messenger_call_log";return b&&!a}function t(a,b,c,d){if(c>=b-1)return Infinity;var e=a[c+1][0],f=p(e);if(f&&d[f]!==e.message_id||s(e))return t(a,b,c+1,d);else return e.timestamp}function u(a,b){return b.timestamp>a?a:Infinity}function v(a,b,c){return b.isEmpty()||!a.isEmpty()&&(a.last().action<b.first().timestamp||a.first().action>=c)}function w(a,b){return b.timestamp>a?a:Infinity}e.exports=a}),null);
__d("WorkGalahadScrollToMessageEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("EventEmitter"))()}),null);